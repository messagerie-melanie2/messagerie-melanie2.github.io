

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: Roundcube-plugins-Mel/plugins/calendar/calendar_ui.js | Source: Roundcube-plugins-Mel/plugins/calendar/calendar_ui.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <img src="img/toast-ui.png" width="100%" height="100%">
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Source: Roundcube-plugins-Mel/plugins/calendar/calendar_ui.js</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="Calendar.html">Calendar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Calendar_sub"></div></li><li><a href="Constants.html">Constants</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Constants_sub"></div></li><li><a href="EventView.html">EventView</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventView_sub"></div></li><li><a href="MainObjects.html">MainObjects</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MainObjects_sub"></div></li><li><a href="MelMetapage.html">MelMetapage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelMetapage_sub"></div></li><li><a href="OCA.Bnum.html">OCA.Bnum</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="OCA.Bnum_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="OCA.Bnum.html#.RecipientInfo">RecipientInfo</a></li><li><a href="OCA.Bnum.html#.ShareInfo">ShareInfo</a></li><li><a href="OCA.Bnum.html#.SharedFileInfo">SharedFileInfo</a></li></ul></div></li><li><a href="OCA.Bnum.App.html">OCA.Bnum.App</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="OCA.Bnum.App_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="OCA.Bnum.App.html#.destroy">destroy</a></li></ul></div></li><li><a href="Plugins.html">Plugins</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Plugins_sub"></div></li><li><a href="Skins.html">Skins</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Skins_sub"></div></li><li><a href="Tchap.html">Tchap</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Tchap_sub"></div></li><li><a href="Utilities.html">Utilities</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Utilities_sub"></div></li><li><a href="animation.html">animation</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="animation_sub"></div></li><li><a href="aria.html">aria</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="aria_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="aria.html#.KeyCode">KeyCode</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="aria.html#.getCurrentDialog">getCurrentDialog</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-BaseStorage.html">BaseStorage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BaseStorage_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-BaseStorage.html#~Add">Add</a></li><li><a href="module-BaseStorage.html#~Clear">Clear</a></li><li><a href="module-BaseStorage.html#~Get">Get</a></li><li><a href="module-BaseStorage.html#~Has">Has</a></li><li><a href="module-BaseStorage.html#~Remove">Remove</a></li></ul></div></li><li><a href="module-BnumNotification.html">BnumNotification</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BnumNotification_sub"></div></li><li><a href="module-CalendarEvent.html">CalendarEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:CalendarEvent_sub"></div></li><li><a href="module-Color.html">Color</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Color_sub"></div></li><li><a href="module-Constants.html">Constants</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Constants_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Constants.html#.EMPTY_STRING">EMPTY_STRING</a></li><li><a href="module-Constants.html#.TCHAT_UNREAD">TCHAT_UNREAD</a></li><li><a href="module-Constants.html#.TYPE_STRING">TYPE_STRING</a></li></ul></div></li><li><a href="module-Constants_Dates.html">Constants/Dates</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Constants/Dates_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Constants_Dates.html#.DATE_FORMAT">DATE_FORMAT</a></li><li><a href="module-Constants_Dates.html#.DATE_HOUR_FORMAT">DATE_HOUR_FORMAT</a></li><li><a href="module-Constants_Dates.html#.DATE_TIME_FORMAT">DATE_TIME_FORMAT</a></li></ul></div></li><li><a href="module-Constants_RegEx.html">Constants/RegEx</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Constants/RegEx_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Constants_RegEx.html#.REG_ALPHANUM">REG_ALPHANUM</a></li><li><a href="module-Constants_RegEx.html#.REG_BETWEEN_PARENTHESIS">REG_BETWEEN_PARENTHESIS</a></li><li><a href="module-Constants_RegEx.html#.REG_NUMBER">REG_NUMBER</a></li><li><a href="module-Constants_RegEx.html#.REG_NUMBERS">REG_NUMBERS</a></li><li><a href="module-Constants_RegEx.html#.REG_URL">REG_URL</a></li></ul></div></li><li><a href="module-Cookies.html">Cookies</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Cookies_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-Cookies.html#~ExpireDate">ExpireDate</a></li></ul></div></li><li><a href="module-EventView.html">EventView</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView_sub"></div></li><li><a href="module-EventView_Constants.html">EventView/Constants</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Constants_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Constants.html#.ATTENDEE_CONTAINER_SELECTOR">ATTENDEE_CONTAINER_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.ATTENDEE_SELECTOR">ATTENDEE_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.CLASS_SELECTOR">CLASS_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.CUSTOM_DIALOG_CLASS">CUSTOM_DIALOG_CLASS</a></li><li><a href="module-EventView_Constants.html#.FIRST_ARGUMENT">FIRST_ARGUMENT</a></li><li><a href="module-EventView_Constants.html#.GUEST_DRAGG_CLASS">GUEST_DRAGG_CLASS</a></li><li><a href="module-EventView_Constants.html#.ID_SELECTOR">ID_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.INTERNAL_LOCAL_CHANGE_WARNING_SELECTOR">INTERNAL_LOCAL_CHANGE_WARNING_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.LISTENER_SAVE_EVENT">LISTENER_SAVE_EVENT</a></li><li><a href="module-EventView_Constants.html#.LOADER_SELECTOR">LOADER_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.LOCAL_CHANGE_WARNING_SELECTOR">LOCAL_CHANGE_WARNING_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.MAIN_DIV_SELECTOR">MAIN_DIV_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.MAIN_FORM_SELECTOR">MAIN_FORM_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.RECURRING_WARNING_SELECTOR">RECURRING_WARNING_SELECTOR</a></li><li><a href="module-EventView_Constants.html#.WARNING_PANEL_CLICKED_CLASS">WARNING_PANEL_CLICKED_CLASS</a></li><li><a href="module-EventView_Constants.html#.WARNING_PANEL_SELECTOR">WARNING_PANEL_SELECTOR</a></li></ul></div></li><li><a href="module-EventView_Parts.html">EventView/Parts</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-EventView_Parts.html#~EventCallback">EventCallback</a></li></ul></div></li><li><a href="module-EventView_Parts_Alarm.html">EventView/Parts/Alarm</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Alarm_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-EventView_Parts_Alarm.html#~PredefinedOption">PredefinedOption</a></li></ul></div></li><li><a href="module-EventView_Parts_CalendarOwner.html">EventView/Parts/CalendarOwner</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/CalendarOwner_sub"></div></li><li><a href="module-EventView_Parts_Categories.html">EventView/Parts/Categories</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Categories_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-EventView_Parts_Categories.html#~StringWhereCallback">StringWhereCallback</a></li></ul></div></li><li><a href="module-EventView_Parts_Constants.html">EventView/Parts/Constants</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Constants_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Constants.html#.CHECK_BOX_NOTIFY">CHECK_BOX_NOTIFY</a></li><li><a href="module-EventView_Parts_Constants.html#.CLASS_ALL_DAY">CLASS_ALL_DAY</a></li><li><a href="module-EventView_Parts_Constants.html#.CLASS_MANUALLY_CHANGED">CLASS_MANUALLY_CHANGED</a></li><li><a href="module-EventView_Parts_Constants.html#.GUEST_SEPARATOR">GUEST_SEPARATOR</a></li><li><a href="module-EventView_Parts_Constants.html#.INTEGRATED_VISIO_MIN_NUMBER_COUNT">INTEGRATED_VISIO_MIN_NUMBER_COUNT</a></li><li><a href="module-EventView_Parts_Constants.html#.INTEGRATED_VISIO_MIN_SIZE">INTEGRATED_VISIO_MIN_SIZE</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_AUDIO_OPTION_VALUE">LOCATION_AUDIO_OPTION_VALUE</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_OPTION_VALUE">LOCATION_OPTION_VALUE</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_SEPARATOR">LOCATION_SEPARATOR</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_VISIO_EXTERNAL_OPTION_VALUE">LOCATION_VISIO_EXTERNAL_OPTION_VALUE</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_VISIO_INTERNAL_OPTION_VALUE">LOCATION_VISIO_INTERNAL_OPTION_VALUE</a></li><li><a href="module-EventView_Parts_Constants.html#.LOCATION_VISIO_OPTION_VALUE">LOCATION_VISIO_OPTION_VALUE</a></li><li><a href="module-EventView_Parts_Constants.html#.MAX_SLOT">MAX_SLOT</a></li><li><a href="module-EventView_Parts_Constants.html#.REPLACE_CHAR">REPLACE_CHAR</a></li><li><a href="module-EventView_Parts_Constants.html#.ROLE_ATTENDEE_OPTIONNAL">ROLE_ATTENDEE_OPTIONNAL</a></li><li><a href="module-EventView_Parts_Constants.html#.SELECTOR_CHECKBOX_NOTIFY">SELECTOR_CHECKBOX_NOTIFY</a></li><li><a href="module-EventView_Parts_Constants.html#.SEPARATOR_AUDIO_PIN">SEPARATOR_AUDIO_PIN</a></li><li><a href="module-EventView_Parts_Constants.html#.SEPARATOR_AUDIO_URL_LOCATION">SEPARATOR_AUDIO_URL_LOCATION</a></li><li><a href="module-EventView_Parts_Constants.html#.SEPARATOR_END_LOCATION_VISIO_INTEGRATED_PHONE">SEPARATOR_END_LOCATION_VISIO_INTEGRATED_PHONE</a></li><li><a href="module-EventView_Parts_Constants.html#.SEPARATOR_LOCATION_VISIO_INTEGRATED_PHONE">SEPARATOR_LOCATION_VISIO_INTEGRATED_PHONE</a></li><li><a href="module-EventView_Parts_Constants.html#.SEPARATOR_LOCATION_VISIO_INTEGRATED_PIN_PHONE">SEPARATOR_LOCATION_VISIO_INTEGRATED_PIN_PHONE</a></li><li><a href="module-EventView_Parts_Constants.html#.TAG_WSP_CATEGORY">TAG_WSP_CATEGORY</a></li></ul></div></li><li><a href="module-EventView_Parts_DateTime.html">EventView/Parts/DateTime</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/DateTime_sub"></div></li><li><a href="module-EventView_Parts_Guests.html">EventView/Parts/Guests</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-EventView_Parts_Guests.html#~Attendee">Attendee</a></li><li><a href="module-EventView_Parts_Guests.html#~AttendeeEx">AttendeeEx</a></li><li><a href="module-EventView_Parts_Guests.html#~DispoPromise">DispoPromise</a></li><li><a href="module-EventView_Parts_Guests.html#~Role">Role</a></li><li><a href="module-EventView_Parts_Guests.html#~User">User</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests_FreeBusy.html">EventView/Parts/Guests/FreeBusy</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests/FreeBusy_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy.html#~DAY_MS">DAY_MS</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy.html#~HOUR_MS">HOUR_MS</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy.html#~FreeBusyTimesData">FreeBusyTimesData</a></li></ul></div></li><li><a href="module-EventView_Parts_Location.html">EventView/Parts/Location</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location_sub"></div></li><li><a href="module-EventView_Parts_Reccursivity.html">EventView/Parts/Reccursivity</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Reccursivity_sub"></div></li><li><a href="module-EventView_Parts_Sensitivity.html">EventView/Parts/Sensitivity</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Sensitivity_sub"></div></li><li><a href="module-EventView_Parts_State.html">EventView/Parts/State</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/State_sub"></div></li><li><a href="module-Exceptions.html">Exceptions</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Exceptions_sub"></div></li><li><a href="module-JsHtml.html">JsHtml</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:JsHtml_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-JsHtml.html#.JsHtml">JsHtml</a></li></ul></div></li><li><a href="module-Log.html">Log</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Log_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-Log.html#~LogLevel">LogLevel</a></li><li><a href="module-Log.html#~LogLevels">LogLevels</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI.html">MEL_ELASTIC_UI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI.html#~Keys">Keys</a></li><li><a href="module-MEL_ELASTIC_UI.html#~RuleKeyValuePair">RuleKeyValuePair</a></li></ul></div></li><li><a href="module-MainNav.html">MainNav</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MainNav_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-MainNav.html#~Helper">Helper</a></li><li><a href="module-MainNav.html#~Selector">Selector</a></li></ul></div></li><li><a href="module-Mel_UsefulFunctions.html">Mel/UsefulFunctions</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Mel/UsefulFunctions_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Mel_UsefulFunctions.html#~Classes">Classes</a></li><li><a href="module-Mel_UsefulFunctions.html#~isArrayLike">isArrayLike</a></li><li><a href="module-Mel_UsefulFunctions.html#~isDecimal">isDecimal</a></li><li><a href="module-Mel_UsefulFunctions.html#~isNullOrUndefined">isNullOrUndefined</a></li><li><a href="module-Mel_UsefulFunctions.html#~toHex">toHex</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-Mel_UsefulFunctions.html#~Class">Class</a></li><li><a href="module-Mel_UsefulFunctions.html#~Classes">Classes</a></li></ul></div></li><li><a href="module-MelLinq.html">MelLinq</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MelLinq_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-MelLinq.html#~RGenerator">RGenerator</a></li><li><a href="module-MelLinq.html#~SelectCallback">SelectCallback</a></li><li><a href="module-MelLinq.html#~SelectorCallback">SelectorCallback</a></li><li><a href="module-MelLinq.html#~WhereCallback">WhereCallback</a></li></ul></div></li><li><a href="module-Tchap.html">Tchap</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Tchap_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Interfaces</h3><ul><li><a href="module-EventView_Parts_Location-IDestroyable.html">IDestroyable</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~IDestroyable_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-IDestroyable.html#destroy">destroy</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="AMelScreenManager.html">AMelScreenManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AMelScreenManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="AMelScreenManager.html#current_mode">current_mode</a></li><li><a href="AMelScreenManager.html#modes">modes</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="AMelScreenManager.html#reinit">reinit</a></li><li><a href="AMelScreenManager.html#switchMode">switchMode</a></li></ul></div></li><li><a href="Alarm.html">Alarm</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Alarm_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Alarm.html#.enums">enums</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Alarm.html#assign">assign</a></li><li><a href="Alarm.html#getTimeMode">getTimeMode</a></li><li><a href="Alarm.html#init">init</a></li></ul></div></li><li><a href="AudioVisualizer.html">AudioVisualizer</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AudioVisualizer_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="AudioVisualizer.html#audioContext">audioContext</a></li><li><a href="AudioVisualizer.html#audioDatas">audioDatas</a></li><li><a href="AudioVisualizer.html#linkedDevice">linkedDevice</a></li><li><a href="AudioVisualizer.html#processFrame">processFrame</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="AudioVisualizer.html#dispose">dispose</a></li><li><a href="AudioVisualizer.html#start">start</a></li></ul></div></li><li><a href="BnumConnector.html">BnumConnector</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="BnumConnector_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="BnumConnector.html#.connectors">connectors</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="BnumConnector.html#.connect">connect</a></li><li><a href="BnumConnector.html#.force_connect">force_connect</a></li><li><a href="BnumConnector.html#.is_on_progress">is_on_progress</a></li></ul></div></li><li><a href="CalendarLoader.html">CalendarLoader</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CalendarLoader_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="CalendarLoader.html#_listener">_listener</a></li><li><a href="CalendarLoader.html#rc_data">rc_data</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="CalendarLoader.html#add_event_listener">add_event_listener</a></li><li><a href="CalendarLoader.html#change_frame">change_frame</a></li><li><a href="CalendarLoader.html#cookie_get">cookie_get</a></li><li><a href="CalendarLoader.html#cookie_remove">cookie_remove</a></li><li><a href="CalendarLoader.html#cookie_set">cookie_set</a></li><li><a href="CalendarLoader.html#copy_to_clipboard">copy_to_clipboard</a></li><li><a href="CalendarLoader.html#force_load_all_events_from_storage">force_load_all_events_from_storage</a></li><li><a href="CalendarLoader.html#generate_loader">generate_loader</a></li><li><a href="CalendarLoader.html#get_custom_rules">get_custom_rules</a></li><li><a href="CalendarLoader.html#get_date_splitted">get_date_splitted</a></li><li><a href="CalendarLoader.html#get_env">get_env</a></li><li><a href="CalendarLoader.html#get_from_day">get_from_day</a></li><li><a href="CalendarLoader.html#get_next_events_day">get_next_events_day</a></li><li><a href="CalendarLoader.html#get_skin">get_skin</a></li><li><a href="CalendarLoader.html#have_frame">have_frame</a></li><li><a href="CalendarLoader.html#http_call">http_call</a></li><li><a href="CalendarLoader.html#http_internal_call">http_internal_call</a></li><li><a href="CalendarLoader.html#http_internal_get">http_internal_get</a></li><li><a href="CalendarLoader.html#http_internal_post">http_internal_post</a></li><li><a href="CalendarLoader.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="CalendarLoader.html#is_date_okay">is_date_okay</a></li><li><a href="CalendarLoader.html#load">load</a></li><li><a href="CalendarLoader.html#load_all_events">load_all_events</a></li><li><a href="CalendarLoader.html#main">main</a></li><li><a href="CalendarLoader.html#on_frame_loaded">on_frame_loaded</a></li><li><a href="CalendarLoader.html#on_refresh">on_refresh</a></li><li><a href="CalendarLoader.html#rcmail">rcmail</a></li><li><a href="CalendarLoader.html#save">save</a></li><li><a href="CalendarLoader.html#select">select</a></li><li><a href="CalendarLoader.html#select_frame">select_frame</a></li><li><a href="CalendarLoader.html#select_frame_except">select_frame_except</a></li><li><a href="CalendarLoader.html#send_notification">send_notification</a></li><li><a href="CalendarLoader.html#trigger_event">trigger_event</a></li><li><a href="CalendarLoader.html#update_agenda_local_datas">update_agenda_local_datas</a></li><li><a href="CalendarLoader.html#url">url</a></li></ul></div></li><li><a href="Calendar_Alarm.html">Calendar_Alarm</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Calendar_Alarm_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Calendar_Alarm.html#assign">assign</a></li><li><a href="Calendar_Alarm.html#clearTimeouts">clearTimeouts</a></li><li><a href="Calendar_Alarm.html#create_alarm">create_alarm</a></li><li><a href="Calendar_Alarm.html#generate">generate</a></li><li><a href="Calendar_Alarm.html#generate_id">generate_id</a></li><li><a href="Calendar_Alarm.html#init">init</a></li><li><a href="Calendar_Alarm.html#show">show</a></li></ul></div></li><li><a href="ChatManager.html">ChatManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ChatManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ChatManager.html#_listener">_listener</a></li><li><a href="ChatManager.html#rc_data">rc_data</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="ChatManager.html#add_event_listener">add_event_listener</a></li><li><a href="ChatManager.html#change_frame">change_frame</a></li><li><a href="ChatManager.html#chat">chat</a></li><li><a href="ChatManager.html#cookie_get">cookie_get</a></li><li><a href="ChatManager.html#cookie_remove">cookie_remove</a></li><li><a href="ChatManager.html#cookie_set">cookie_set</a></li><li><a href="ChatManager.html#copy_to_clipboard">copy_to_clipboard</a></li><li><a href="ChatManager.html#generate_loader">generate_loader</a></li><li><a href="ChatManager.html#getChatStatusMessage">getChatStatusMessage</a></li><li><a href="ChatManager.html#get_custom_rules">get_custom_rules</a></li><li><a href="ChatManager.html#get_env">get_env</a></li><li><a href="ChatManager.html#get_frame">get_frame</a></li><li><a href="ChatManager.html#get_skin">get_skin</a></li><li><a href="ChatManager.html#goLastRoom">goLastRoom</a></li><li><a href="ChatManager.html#have_frame">have_frame</a></li><li><a href="ChatManager.html#http_call">http_call</a></li><li><a href="ChatManager.html#http_internal_call">http_internal_call</a></li><li><a href="ChatManager.html#http_internal_get">http_internal_get</a></li><li><a href="ChatManager.html#http_internal_post">http_internal_post</a></li><li><a href="ChatManager.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="ChatManager.html#load">load</a></li><li><a href="ChatManager.html#main">main</a></li><li><a href="ChatManager.html#on_frame_loaded">on_frame_loaded</a></li><li><a href="ChatManager.html#on_refresh">on_refresh</a></li><li><a href="ChatManager.html#rcmail">rcmail</a></li><li><a href="ChatManager.html#save">save</a></li><li><a href="ChatManager.html#select">select</a></li><li><a href="ChatManager.html#select_frame">select_frame</a></li><li><a href="ChatManager.html#select_frame_except">select_frame_except</a></li><li><a href="ChatManager.html#send_notification">send_notification</a></li><li><a href="ChatManager.html#setStatus">setStatus</a></li><li><a href="ChatManager.html#trigger_event">trigger_event</a></li><li><a href="ChatManager.html#url">url</a></li><li><a href="ChatManager.html#.Instance">Instance</a></li></ul></div></li><li><a href="Connector.html">Connector</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Connector_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Connector.html#connect">connect</a></li><li><a href="Connector.html#force_connect">force_connect</a></li><li><a href="Connector.html#.in_work">in_work</a></li></ul></div></li><li><a href="EventListenerDatas.html">EventListenerDatas</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventListenerDatas_sub"></div></li><li><a href="GlobalModal.html">GlobalModal</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="GlobalModal_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="GlobalModal.html#close">close</a></li><li><a href="GlobalModal.html#editBody">editBody</a></li><li><a href="GlobalModal.html#editHeader">editHeader</a></li><li><a href="GlobalModal.html#editTitle">editTitle</a></li><li><a href="GlobalModal.html#setTopPosition">setTopPosition</a></li><li><a href="GlobalModal.html#show">show</a></li><li><a href="GlobalModal.html#.close">close</a></li></ul></div></li><li><a href="GlobalModalConfig.html">GlobalModalConfig</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="GlobalModalConfig_sub"></div></li><li><a href="IExt.html">IExt</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="IExt_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="IExt.html#_listener">_listener</a></li><li><a href="IExt.html#rc_data">rc_data</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="IExt.html#add_event_listener">add_event_listener</a></li><li><a href="IExt.html#add_status_callback">add_status_callback</a></li><li><a href="IExt.html#add_unread_callback">add_unread_callback</a></li><li><a href="IExt.html#change_frame">change_frame</a></li><li><a href="IExt.html#chat">chat</a></li><li><a href="IExt.html#cookie_get">cookie_get</a></li><li><a href="IExt.html#cookie_remove">cookie_remove</a></li><li><a href="IExt.html#cookie_set">cookie_set</a></li><li><a href="IExt.html#copy_to_clipboard">copy_to_clipboard</a></li><li><a href="IExt.html#generate_loader">generate_loader</a></li><li><a href="IExt.html#get_custom_rules">get_custom_rules</a></li><li><a href="IExt.html#get_env">get_env</a></li><li><a href="IExt.html#get_skin">get_skin</a></li><li><a href="IExt.html#have_frame">have_frame</a></li><li><a href="IExt.html#http_call">http_call</a></li><li><a href="IExt.html#http_internal_call">http_internal_call</a></li><li><a href="IExt.html#http_internal_get">http_internal_get</a></li><li><a href="IExt.html#http_internal_post">http_internal_post</a></li><li><a href="IExt.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="IExt.html#load">load</a></li><li><a href="IExt.html#main">main</a></li><li><a href="IExt.html#manager">manager</a></li><li><a href="IExt.html#on_frame_loaded">on_frame_loaded</a></li><li><a href="IExt.html#on_refresh">on_refresh</a></li><li><a href="IExt.html#rcmail">rcmail</a></li><li><a href="IExt.html#save">save</a></li><li><a href="IExt.html#select">select</a></li><li><a href="IExt.html#select_frame">select_frame</a></li><li><a href="IExt.html#select_frame_except">select_frame_except</a></li><li><a href="IExt.html#send_notification">send_notification</a></li><li><a href="IExt.html#trigger_event">trigger_event</a></li><li><a href="IExt.html#url">url</a></li></ul></div></li><li><a href="InternalWebconfScreenManager.html">InternalWebconfScreenManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="InternalWebconfScreenManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="InternalWebconfScreenManager.html#$button_maximize">$button_maximize</a></li><li><a href="InternalWebconfScreenManager.html#$button_minimize">$button_minimize</a></li><li><a href="InternalWebconfScreenManager.html#$frame_webconf">$frame_webconf</a></li><li><a href="InternalWebconfScreenManager.html#chat">chat</a></li><li><a href="InternalWebconfScreenManager.html#current_mode">current_mode</a></li><li><a href="InternalWebconfScreenManager.html#ignore_correction">ignore_correction</a></li><li><a href="InternalWebconfScreenManager.html#modes">modes</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="InternalWebconfScreenManager.html#button_size_correction">button_size_correction</a></li><li><a href="InternalWebconfScreenManager.html#delete_button_size_correction">delete_button_size_correction</a></li><li><a href="InternalWebconfScreenManager.html#dispose">dispose</a></li><li><a href="InternalWebconfScreenManager.html#fullscreen">fullscreen</a></li><li><a href="InternalWebconfScreenManager.html#fullscreen_chat">fullscreen_chat</a></li><li><a href="InternalWebconfScreenManager.html#getChatElement">getChatElement</a></li><li><a href="InternalWebconfScreenManager.html#get_button_size_correction">get_button_size_correction</a></li><li><a href="InternalWebconfScreenManager.html#minimise">minimise</a></li><li><a href="InternalWebconfScreenManager.html#pixel_correction">pixel_correction</a></li><li><a href="InternalWebconfScreenManager.html#reinit">reinit</a></li><li><a href="InternalWebconfScreenManager.html#switchMode">switchMode</a></li><li><a href="InternalWebconfScreenManager.html#updateMode">updateMode</a></li><li><a href="InternalWebconfScreenManager.html#update_button_size">update_button_size</a></li></ul></div></li><li><a href="ListenerWebConfBar.html">ListenerWebConfBar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ListenerWebConfBar_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ListenerWebConfBar.html#_intervals">_intervals</a></li><li><a href="ListenerWebConfBar.html#alreadyListening">alreadyListening</a></li><li><a href="ListenerWebConfBar.html#chatOpen">chatOpen</a></li><li><a href="ListenerWebConfBar.html#filmstrip_visible">filmstrip_visible</a></li><li><a href="ListenerWebConfBar.html#masterBar">masterBar</a></li><li><a href="ListenerWebConfBar.html#participantPan">participantPan</a></li><li><a href="ListenerWebConfBar.html#webconf">webconf</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="ListenerWebConfBar.html#addCustomListener">addCustomListener</a></li><li><a href="ListenerWebConfBar.html#dispose">dispose</a></li><li><a href="ListenerWebConfBar.html#get_micro_and_audio_devices">get_micro_and_audio_devices</a></li><li><a href="ListenerWebConfBar.html#get_room_infos">get_room_infos</a></li><li><a href="ListenerWebConfBar.html#get_video_devices">get_video_devices</a></li><li><a href="ListenerWebConfBar.html#hangup">hangup</a></li><li><a href="ListenerWebConfBar.html#initiatePrivateChat">initiatePrivateChat</a></li><li><a href="ListenerWebConfBar.html#isAudioMuted">isAudioMuted</a></li><li><a href="ListenerWebConfBar.html#isVideoMuted">isVideoMuted</a></li><li><a href="ListenerWebConfBar.html#listen">listen</a></li><li><a href="ListenerWebConfBar.html#mute_or_unmute">mute_or_unmute</a></li><li><a href="ListenerWebConfBar.html#open_virtual_background">open_virtual_background</a></li><li><a href="ListenerWebConfBar.html#removeCustomListener">removeCustomListener</a></li><li><a href="ListenerWebConfBar.html#setPassword">setPassword</a></li><li><a href="ListenerWebConfBar.html#set_audio_device">set_audio_device</a></li><li><a href="ListenerWebConfBar.html#set_micro_device">set_micro_device</a></li><li><a href="ListenerWebConfBar.html#set_video_device">set_video_device</a></li><li><a href="ListenerWebConfBar.html#share_screen">share_screen</a></li><li><a href="ListenerWebConfBar.html#share_screen">share_screen</a></li><li><a href="ListenerWebConfBar.html#showPassword">showPassword</a></li><li><a href="ListenerWebConfBar.html#start">start</a></li><li><a href="ListenerWebConfBar.html#switchAriane">switchAriane</a></li><li><a href="ListenerWebConfBar.html#toggleHand">toggleHand</a></li><li><a href="ListenerWebConfBar.html#toggle_chat">toggle_chat</a></li><li><a href="ListenerWebConfBar.html#toggle_film_strip">toggle_film_strip</a></li><li><a href="ListenerWebConfBar.html#toggle_micro">toggle_micro</a></li><li><a href="ListenerWebConfBar.html#toggle_participantspane">toggle_participantspane</a></li><li><a href="ListenerWebConfBar.html#toggle_video">toggle_video</a></li></ul></div></li><li><a href="MasterWebconfBar.html">MasterWebconfBar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MasterWebconfBar_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MasterWebconfBar.html#$bar">$bar</a></li><li><a href="MasterWebconfBar.html#audio_manager">audio_manager</a></li><li><a href="MasterWebconfBar.html#audio_tester">audio_tester</a></li><li><a href="MasterWebconfBar.html#globalScreenManager">globalScreenManager</a></li><li><a href="MasterWebconfBar.html#ignore_send">ignore_send</a></li><li><a href="MasterWebconfBar.html#items">items</a></li><li><a href="MasterWebconfBar.html#listener">listener</a></li><li><a href="MasterWebconfBar.html#ondispose">ondispose</a></li><li><a href="MasterWebconfBar.html#popup">popup</a></li><li><a href="MasterWebconfBar.html#right_pannel">right_pannel</a></li><li><a href="MasterWebconfBar.html#video_manager">video_manager</a></li><li><a href="MasterWebconfBar.html#webconfManager">webconfManager</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MasterWebconfBar.html#copyUrl">copyUrl</a></li><li><a href="MasterWebconfBar.html#dispose">dispose</a></li><li><a href="MasterWebconfBar.html#get_phone_datas">get_phone_datas</a></li><li><a href="MasterWebconfBar.html#hangup">hangup</a></li><li><a href="MasterWebconfBar.html#hide_masterbar">hide_masterbar</a></li><li><a href="MasterWebconfBar.html#launch_timeout">launch_timeout</a></li><li><a href="MasterWebconfBar.html#maximise">maximise</a></li><li><a href="MasterWebconfBar.html#minify">minify</a></li><li><a href="MasterWebconfBar.html#minify_item">minify_item</a></li><li><a href="MasterWebconfBar.html#nextcloud">nextcloud</a></li><li><a href="MasterWebconfBar.html#open_password">open_password</a></li><li><a href="MasterWebconfBar.html#open_virtual_background">open_virtual_background</a></li><li><a href="MasterWebconfBar.html#setListener">setListener</a></li><li><a href="MasterWebconfBar.html#setOnDipose">setOnDipose</a></li><li><a href="MasterWebconfBar.html#share_screen">share_screen</a></li><li><a href="MasterWebconfBar.html#show">show</a></li><li><a href="MasterWebconfBar.html#show_masterbar">show_masterbar</a></li><li><a href="MasterWebconfBar.html#timeout_delay">timeout_delay</a></li><li><a href="MasterWebconfBar.html#toggleChat">toggleChat</a></li><li><a href="MasterWebconfBar.html#toggleHand">toggleHand</a></li><li><a href="MasterWebconfBar.html#toggleInternalChat">toggleInternalChat</a></li><li><a href="MasterWebconfBar.html#togglePopUpCam">togglePopUpCam</a></li><li><a href="MasterWebconfBar.html#togglePopUpMic">togglePopUpMic</a></li><li><a href="MasterWebconfBar.html#toggle_cam">toggle_cam</a></li><li><a href="MasterWebconfBar.html#toggle_film_strip">toggle_film_strip</a></li><li><a href="MasterWebconfBar.html#toggle_mic">toggle_mic</a></li><li><a href="MasterWebconfBar.html#toggle_mp">toggle_mp</a></li><li><a href="MasterWebconfBar.html#toggle_participantspane">toggle_participantspane</a></li><li><a href="MasterWebconfBar.html#updateBarAtStartup">updateBarAtStartup</a></li><li><a href="MasterWebconfBar.html#updateLogo">updateLogo</a></li><li><a href="MasterWebconfBar.html#update_item_icon">update_item_icon</a></li><li><a href="MasterWebconfBar.html#update_popup_devices">update_popup_devices</a></li><li><a href="MasterWebconfBar.html#update_toolbar">update_toolbar</a></li><li><a href="MasterWebconfBar.html#.isFirefox">isFirefox</a></li></ul></div></li><li><a href="MasterWebconfBarItem.html">MasterWebconfBarItem</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MasterWebconfBarItem_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MasterWebconfBarItem.html#$item">$item</a></li><li><a href="MasterWebconfBarItem.html#_linkedItems">_linkedItems</a></li><li><a href="MasterWebconfBarItem.html#action">action</a></li><li><a href="MasterWebconfBarItem.html#onactive">onactive</a></li><li><a href="MasterWebconfBarItem.html#ondisable">ondisable</a></li><li><a href="MasterWebconfBarItem.html#state">state</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MasterWebconfBarItem.html#_execute_action">_execute_action</a></li><li><a href="MasterWebconfBarItem.html#active">active</a></li><li><a href="MasterWebconfBarItem.html#addLink">addLink</a></li><li><a href="MasterWebconfBarItem.html#click">click</a></li><li><a href="MasterWebconfBarItem.html#disable">disable</a></li><li><a href="MasterWebconfBarItem.html#dispose">dispose</a></li><li><a href="MasterWebconfBarItem.html#getAllLinks">getAllLinks</a></li><li><a href="MasterWebconfBarItem.html#getLink">getLink</a></li><li><a href="MasterWebconfBarItem.html#hide">hide</a></li><li><a href="MasterWebconfBarItem.html#is_active">is_active</a></li><li><a href="MasterWebconfBarItem.html#show">show</a></li><li><a href="MasterWebconfBarItem.html#toggle">toggle</a></li></ul></div></li><li><a href="MasterWebconfBarPopup.html">MasterWebconfBarPopup</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MasterWebconfBarPopup_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MasterWebconfBarPopup.html#$contents">$contents</a></li><li><a href="MasterWebconfBarPopup.html#$popup">$popup</a></li><li><a href="MasterWebconfBarPopup.html#last_state">last_state</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MasterWebconfBarPopup.html#dispose">dispose</a></li><li><a href="MasterWebconfBarPopup.html#empty">empty</a></li><li><a href="MasterWebconfBarPopup.html#hidden">hidden</a></li><li><a href="MasterWebconfBarPopup.html#loading">loading</a></li><li><a href="MasterWebconfBarPopup.html#show">show</a></li><li><a href="MasterWebconfBarPopup.html#update_content">update_content</a></li></ul></div></li><li><a href="MelAudioManager.html">MelAudioManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelAudioManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MelAudioManager.html#visualElements">visualElements</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MelAudioManager.html#addElement">addElement</a></li></ul></div></li><li><a href="MelAudioStruct.html">MelAudioStruct</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelAudioStruct_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MelAudioStruct.html#$main">$main</a></li><li><a href="MelAudioStruct.html#device">device</a></li><li><a href="MelAudioStruct.html#elements">elements</a></li><li><a href="MelAudioStruct.html#visualizer">visualizer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MelAudioStruct.html#dispose">dispose</a></li><li><a href="MelAudioStruct.html#generateElements">generateElements</a></li></ul></div></li><li><a href="MelDataStore.html">MelDataStore</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelDataStore_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MelDataStore.html#get">get</a></li><li><a href="MelDataStore.html#getSize">getSize</a></li><li><a href="MelDataStore.html#remove">remove</a></li><li><a href="MelDataStore.html#set">set</a></li></ul></div></li><li><a href="MelEventManager.html">MelEventManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelEventManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MelEventManager.html#add">add</a></li><li><a href="MelEventManager.html#call">call</a></li><li><a href="MelEventManager.html#clear">clear</a></li><li><a href="MelEventManager.html#get">get</a></li><li><a href="MelEventManager.html#has">has</a></li><li><a href="MelEventManager.html#remove">remove</a></li><li><a href="MelEventManager.html#remove_callback">remove_callback</a></li></ul></div></li><li><a href="MelIconPrevisualiser.html">MelIconPrevisualiser</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelIconPrevisualiser_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MelIconPrevisualiser.html#on_after_create_items">on_after_create_items</a></li><li><a href="MelIconPrevisualiser.html#on_button_click">on_button_click</a></li><li><a href="MelIconPrevisualiser.html#on_button_hover">on_button_hover</a></li><li><a href="MelIconPrevisualiser.html#on_button_leave">on_button_leave</a></li><li><a href="MelIconPrevisualiser.html#on_create_default_items">on_create_default_items</a></li><li><a href="MelIconPrevisualiser.html#on_create_set_selected">on_create_set_selected</a></li><li><a href="MelIconPrevisualiser.html#on_create_show_selected">on_create_show_selected</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MelIconPrevisualiser.html#addCustomIcon">addCustomIcon</a></li><li><a href="MelIconPrevisualiser.html#addCustomIcons">addCustomIcons</a></li><li><a href="MelIconPrevisualiser.html#addElement">addElement</a></li></ul></div></li><li><a href="MelListingPrevisualiser.html">MelListingPrevisualiser</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelListingPrevisualiser_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MelListingPrevisualiser.html#addElement">addElement</a></li><li><a href="MelListingPrevisualiser.html#get_elements">get_elements</a></li></ul></div></li><li><a href="MelNews.html">MelNews</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelNews_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MelNews.html#init">init</a></li><li><a href="MelNews.html#setNews">setNews</a></li><li><a href="MelNews.html#setType">setType</a></li><li><a href="MelNews.html#setup">setup</a></li><li><a href="MelNews.html#setup_vignette">setup_vignette</a></li></ul></div></li><li><a href="MelObject.html">MelObject</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelObject_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MelObject.html#_listener">_listener</a></li><li><a href="MelObject.html#rc_data">rc_data</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MelObject.html#add_event_listener">add_event_listener</a></li><li><a href="MelObject.html#change_frame">change_frame</a></li><li><a href="MelObject.html#cookie_get">cookie_get</a></li><li><a href="MelObject.html#cookie_remove">cookie_remove</a></li><li><a href="MelObject.html#cookie_set">cookie_set</a></li><li><a href="MelObject.html#copy_to_clipboard">copy_to_clipboard</a></li><li><a href="MelObject.html#generate_loader">generate_loader</a></li><li><a href="MelObject.html#get_custom_rules">get_custom_rules</a></li><li><a href="MelObject.html#get_env">get_env</a></li><li><a href="MelObject.html#get_skin">get_skin</a></li><li><a href="MelObject.html#have_frame">have_frame</a></li><li><a href="MelObject.html#http_call">http_call</a></li><li><a href="MelObject.html#http_internal_call">http_internal_call</a></li><li><a href="MelObject.html#http_internal_get">http_internal_get</a></li><li><a href="MelObject.html#http_internal_post">http_internal_post</a></li><li><a href="MelObject.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="MelObject.html#load">load</a></li><li><a href="MelObject.html#main">main</a></li><li><a href="MelObject.html#on_frame_loaded">on_frame_loaded</a></li><li><a href="MelObject.html#on_refresh">on_refresh</a></li><li><a href="MelObject.html#rcmail">rcmail</a></li><li><a href="MelObject.html#save">save</a></li><li><a href="MelObject.html#select">select</a></li><li><a href="MelObject.html#select_frame">select_frame</a></li><li><a href="MelObject.html#select_frame_except">select_frame_except</a></li><li><a href="MelObject.html#send_notification">send_notification</a></li><li><a href="MelObject.html#trigger_event">trigger_event</a></li><li><a href="MelObject.html#url">url</a></li></ul></div></li><li><a href="MelPrevisualiser.html">MelPrevisualiser</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MelPrevisualiser_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MelPrevisualiser.html#id">id</a></li><li><a href="MelPrevisualiser.html#on_after_generate_jquery">on_after_generate_jquery</a></li><li><a href="MelPrevisualiser.html#on_after_html">on_after_html</a></li><li><a href="MelPrevisualiser.html#on_cancel">on_cancel</a></li><li><a href="MelPrevisualiser.html#on_close">on_close</a></li><li><a href="MelPrevisualiser.html#on_generate">on_generate</a></li><li><a href="MelPrevisualiser.html#on_save">on_save</a></li><li><a href="MelPrevisualiser.html#previsu_id">previsu_id</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MelPrevisualiser.html#create_popup">create_popup</a></li></ul></div></li><li><a href="Mel_Promise.html">Mel_Promise</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Mel_Promise_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Mel_Promise.html#onAbort">onAbort</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Mel_Promise.html#abort">abort</a></li><li><a href="Mel_Promise.html#isCancelled">isCancelled</a></li><li><a href="Mel_Promise.html#isPending">isPending</a></li><li><a href="Mel_Promise.html#isRejected">isRejected</a></li><li><a href="Mel_Promise.html#isResolved">isResolved</a></li></ul></div></li><li><a href="MetapageModule.html">MetapageModule</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MetapageModule_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MetapageModule.html#main">main</a></li></ul></div></li><li><a href="NewsPopup.html">NewsPopup</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="NewsPopup_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="NewsPopup.html#check">check</a></li><li><a href="NewsPopup.html#confirm">confirm</a></li><li><a href="NewsPopup.html#createCheckBoxChoices">createCheckBoxChoices</a></li><li><a href="NewsPopup.html#createInput">createInput</a></li><li><a href="NewsPopup.html#createOrEdit">createOrEdit</a></li><li><a href="NewsPopup.html#createOrEditPublish">createOrEditPublish</a></li><li><a href="NewsPopup.html#createSelect">createSelect</a></li><li><a href="NewsPopup.html#createTextarea">createTextarea</a></li><li><a href="NewsPopup.html#drawChoice">drawChoice</a></li><li><a href="NewsPopup.html#filter">filter</a></li><li><a href="NewsPopup.html#isSettings">isSettings</a></li><li><a href="NewsPopup.html#post">post</a></li><li><a href="NewsPopup.html#showStep2">showStep2</a></li><li><a href="NewsPopup.html#updateFilter">updateFilter</a></li><li><a href="NewsPopup.html#.fabric">fabric</a></li></ul></div></li><li><a href="Nextcloud_Document.html">Nextcloud_Document</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Nextcloud_Document_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Nextcloud_Document.html#addApp">addApp</a></li><li><a href="Nextcloud_Document.html#addRaw">addRaw</a></li><li><a href="Nextcloud_Document.html#createDocument">createDocument</a></li><li><a href="Nextcloud_Document.html#getIcon">getIcon</a></li></ul></div></li><li><a href="Nextcloud_Document_Config.html">Nextcloud_Document_Config</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Nextcloud_Document_Config_sub"></div></li><li><a href="Nextcloud_File.html">Nextcloud_File</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Nextcloud_File_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Nextcloud_File.html#document_path">document_path</a></li><li><a href="Nextcloud_File.html#is_file">is_file</a></li><li><a href="Nextcloud_File.html#is_master_folder">is_master_folder</a></li><li><a href="Nextcloud_File.html#.get_path">get_path</a></li></ul></div></li><li><a href="Nextcloud_Icon.html">Nextcloud_Icon</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Nextcloud_Icon_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Nextcloud_Icon.html#check">check</a></li><li><a href="Nextcloud_Icon.html#init">init</a></li></ul></div></li><li><a href="Nextcloud_Response.html">Nextcloud_Response</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Nextcloud_Response_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Nextcloud_Response.html#FileExist">FileExist</a></li><li><a href="Nextcloud_Response.html#GetFile">GetFile</a></li><li><a href="Nextcloud_Response.html#GetFiles">GetFiles</a></li></ul></div></li><li><a href="NotifierObject.html">NotifierObject</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="NotifierObject_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="NotifierObject.html#on_prop_update">on_prop_update</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="NotifierObject.html#_p_addProp">_p_addProp</a></li></ul></div></li><li><a href="OCA.Bnum.FileList.html">FileList</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="OCA.Bnum.FileList_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="OCA.Bnum.FileList.html#_entities">_entities</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="OCA.Bnum.FileList.html#getDirectoryPermissions">getDirectoryPermissions</a></li><li><a href="OCA.Bnum.FileList.html#setSharedWithUser">setSharedWithUser</a></li></ul></div></li><li><a href="ParapheurAction.html">ParapheurAction</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ParapheurAction_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ParapheurAction.html#call">call</a></li><li><a href="ParapheurAction.html#post">post</a></li></ul></div></li><li><a href="ParapheurMailAction.html">ParapheurMailAction</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ParapheurMailAction_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ParapheurMailAction.html#command_to_parapheur">command_to_parapheur</a></li><li><a href="ParapheurMailAction.html#main">main</a></li><li><a href="ParapheurMailAction.html#.exec_command_to_parapheur">exec_command_to_parapheur</a></li></ul></div></li><li><a href="RcmailDialog.html">RcmailDialog</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="RcmailDialog_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="RcmailDialog.html#destroy">destroy</a></li><li><a href="RcmailDialog.html#hide">hide</a></li><li><a href="RcmailDialog.html#show">show</a></li><li><a href="RcmailDialog.html#.DrawChoice">DrawChoice</a></li><li><a href="RcmailDialog.html#.DrawChoices">DrawChoices</a></li></ul></div></li><li><a href="RcmailDialogButton.html">RcmailDialogButton</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="RcmailDialogButton_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="RcmailDialogButton.html#classes">classes</a></li><li><a href="RcmailDialogButton.html#click">click</a></li><li><a href="RcmailDialogButton.html#hover">hover</a></li><li><a href="RcmailDialogButton.html#mouseenter">mouseenter</a></li><li><a href="RcmailDialogButton.html#mouseleave">mouseleave</a></li><li><a href="RcmailDialogButton.html#text">text</a></li></ul></div></li><li><a href="RcmailDialogChoiceButton.html">RcmailDialogChoiceButton</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="RcmailDialogChoiceButton_sub"></div></li><li><a href="RightPannel.html">RightPannel</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="RightPannel_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="RightPannel.html#$pannel">$pannel</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="RightPannel.html#close">close</a></li><li><a href="RightPannel.html#disable_right_mode">disable_right_mode</a></li><li><a href="RightPannel.html#dispose">dispose</a></li><li><a href="RightPannel.html#enable_right_mode">enable_right_mode</a></li><li><a href="RightPannel.html#is_open">is_open</a></li><li><a href="RightPannel.html#open">open</a></li><li><a href="RightPannel.html#set_content">set_content</a></li><li><a href="RightPannel.html#set_title">set_title</a></li><li><a href="RightPannel.html#toTop">toTop</a></li></ul></div></li><li><a href="SearchResult.html">SearchResult</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="SearchResult_sub"></div></li><li><a href="SearchResultCalendar.html">SearchResultCalendar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="SearchResultCalendar_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="SearchResultCalendar.html#.CreateOrOpen">CreateOrOpen</a></li><li><a href="SearchResultCalendar.html#.after_loading">after_loading</a></li><li><a href="SearchResultCalendar.html#.from_array">from_array</a></li></ul></div></li><li><a href="SplittedDate.html">SplittedDate</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="SplittedDate_sub"></div></li><li><a href="Sticker.html">Sticker</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Sticker_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Sticker.html#_post_move">_post_move</a></li><li><a href="Sticker.html#get_datas">get_datas</a></li><li><a href="Sticker.html#get_html">get_html</a></li><li><a href="Sticker.html#html">html</a></li><li><a href="Sticker.html#post">post</a></li><li><a href="Sticker.html#post_add">post_add</a></li><li><a href="Sticker.html#post_delete">post_delete</a></li><li><a href="Sticker.html#post_move_down">post_move_down</a></li><li><a href="Sticker.html#post_move_up">post_move_up</a></li><li><a href="Sticker.html#post_update">post_update</a></li><li><a href="Sticker.html#set_handlers">set_handlers</a></li><li><a href="Sticker.html#.findByOrder">findByOrder</a></li><li><a href="Sticker.html#.from">from</a></li><li><a href="Sticker.html#.fromHtml">fromHtml</a></li></ul></div></li><li><a href="TEActiveMouse.html">TEActiveMouse</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEActiveMouse_sub"></div></li><li><a href="TEContainerActiveClassCtrl.html">TEContainerActiveClassCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEContainerActiveClassCtrl_sub"></div></li><li><a href="TEErrorHandler.html">TEErrorHandler</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEErrorHandler_sub"></div></li><li><a href="TEHashCtrl.html">TEHashCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEHashCtrl_sub"></div></li><li><a href="TEHideIfNotActiveCtrl.html">TEHideIfNotActiveCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEHideIfNotActiveCtrl_sub"></div></li><li><a href="TEOverflowCtrl.html">TEOverflowCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEOverflowCtrl_sub"></div></li><li><a href="TEOverflowScrollCtrl.html">TEOverflowScrollCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEOverflowScrollCtrl_sub"></div></li><li><a href="TEOverflowTransformCtrl.html">TEOverflowTransformCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TEOverflowTransformCtrl_sub"></div></li><li><a href="Title.html">Title</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Title_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Title.html#focusHidden">focusHidden</a></li><li><a href="Title.html#set">set</a></li><li><a href="Title.html#update">update</a></li></ul></div></li><li><a href="VisualiserObject.html">VisualiserObject</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="VisualiserObject_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="VisualiserObject.html#ref">ref</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="VisualiserObject.html#_p_draw">_p_draw</a></li><li><a href="VisualiserObject.html#update">update</a></li></ul></div></li><li><a href="VisualiserObjectEx_VisualiserObjectEx.html">VisualiserObjectEx</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="VisualiserObjectEx#VisualiserObjectEx_sub"></div></li><li><a href="Webconf.html">Webconf</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Webconf_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Webconf.html#$frame_webconf">$frame_webconf</a></li><li><a href="Webconf.html#_jwt">_jwt</a></li><li><a href="Webconf.html#_need_config">_need_config</a></li><li><a href="Webconf.html#chat">chat</a></li><li><a href="Webconf.html#key">key</a></li><li><a href="Webconf.html#onstart">onstart</a></li><li><a href="Webconf.html#screen_manager">screen_manager</a></li><li><a href="Webconf.html#webconf_page_creator">webconf_page_creator</a></li><li><a href="Webconf.html#wsp">wsp</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Webconf.html#_init">_init</a></li><li><a href="Webconf.html#addDisposition">addDisposition</a></li><li><a href="Webconf.html#dispose">dispose</a></li><li><a href="Webconf.html#get_url">get_url</a></li><li><a href="Webconf.html#hideChat">hideChat</a></li><li><a href="Webconf.html#jwt">jwt</a></li><li><a href="Webconf.html#navigatorWarning">navigatorWarning</a></li><li><a href="Webconf.html#set_document_title">set_document_title</a></li><li><a href="Webconf.html#showChat">showChat</a></li><li><a href="Webconf.html#start">start</a></li><li><a href="Webconf.html#startChat">startChat</a></li><li><a href="Webconf.html#startup">startup</a></li><li><a href="Webconf.html#toggleChat">toggleChat</a></li></ul></div></li><li><a href="WebconfChat.html">WebconfChat</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="WebconfChat_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WebconfChat.html#$frame_chat">$frame_chat</a></li><li><a href="WebconfChat.html#$loaging">$loaging</a></li><li><a href="WebconfChat.html#hidden">hidden</a></li><li><a href="WebconfChat.html#is_loading">is_loading</a></li><li><a href="WebconfChat.html#onloading">onloading</a></li><li><a href="WebconfChat.html#privacy">privacy</a></li><li><a href="WebconfChat.html#room">room</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WebconfChat.html#chat_visible">chat_visible</a></li><li><a href="WebconfChat.html#dispose">dispose</a></li><li><a href="WebconfChat.html#getChatElement">getChatElement</a></li><li><a href="WebconfChat.html#get_room">get_room</a></li><li><a href="WebconfChat.html#go_to_room">go_to_room</a></li><li><a href="WebconfChat.html#hide">hide</a></li><li><a href="WebconfChat.html#is_public_room">is_public_room</a></li><li><a href="WebconfChat.html#setStatus">setStatus</a></li><li><a href="WebconfChat.html#show">show</a></li><li><a href="WebconfChat.html#waitLoading">waitLoading</a></li></ul></div></li><li><a href="WebconfPageCreator.html">WebconfPageCreator</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="WebconfPageCreator_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WebconfPageCreator.html#$button_start">$button_start</a></li><li><a href="WebconfPageCreator.html#$chat">$chat</a></li><li><a href="WebconfPageCreator.html#$page">$page</a></li><li><a href="WebconfPageCreator.html#$page_error_text">$page_error_text</a></li><li><a href="WebconfPageCreator.html#$password_check">$password_check</a></li><li><a href="WebconfPageCreator.html#$password_datas">$password_datas</a></li><li><a href="WebconfPageCreator.html#$room_key">$room_key</a></li><li><a href="WebconfPageCreator.html#$state">$state</a></li><li><a href="WebconfPageCreator.html#$wsp">$wsp</a></li><li><a href="WebconfPageCreator.html#config">config</a></li><li><a href="WebconfPageCreator.html#onstart">onstart</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WebconfPageCreator.html#checkFormAction">checkFormAction</a></li><li><a href="WebconfPageCreator.html#checkKeyIsValid">checkKeyIsValid</a></li><li><a href="WebconfPageCreator.html#dispose">dispose</a></li><li><a href="WebconfPageCreator.html#enabled">enabled</a></li><li><a href="WebconfPageCreator.html#generateRandomlyKey">generateRandomlyKey</a></li><li><a href="WebconfPageCreator.html#getRoomKey">getRoomKey</a></li><li><a href="WebconfPageCreator.html#getState">getState</a></li><li><a href="WebconfPageCreator.html#getStateValue">getStateValue</a></li><li><a href="WebconfPageCreator.html#havePassword">havePassword</a></li><li><a href="WebconfPageCreator.html#hide">hide</a></li><li><a href="WebconfPageCreator.html#setLocks">setLocks</a></li><li><a href="WebconfPageCreator.html#show">show</a></li><li><a href="WebconfPageCreator.html#startup">startup</a></li><li><a href="WebconfPageCreator.html#transformUrlIntoKey">transformUrlIntoKey</a></li></ul></div></li><li><a href="WebconfScreenManager.html">WebconfScreenManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="WebconfScreenManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WebconfScreenManager.html#$layout_frames">$layout_frames</a></li><li><a href="WebconfScreenManager.html#$webconf">$webconf</a></li><li><a href="WebconfScreenManager.html#current_mode">current_mode</a></li><li><a href="WebconfScreenManager.html#frames_modes">frames_modes</a></li><li><a href="WebconfScreenManager.html#master_bar">master_bar</a></li><li><a href="WebconfScreenManager.html#modes">modes</a></li><li><a href="WebconfScreenManager.html#webconf">webconf</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WebconfScreenManager.html#dispose">dispose</a></li><li><a href="WebconfScreenManager.html#fit_item_to_guest_screen">fit_item_to_guest_screen</a></li><li><a href="WebconfScreenManager.html#fullscreen">fullscreen</a></li><li><a href="WebconfScreenManager.html#minimise">minimise</a></li><li><a href="WebconfScreenManager.html#minimiseFrame">minimiseFrame</a></li><li><a href="WebconfScreenManager.html#reinit">reinit</a></li><li><a href="WebconfScreenManager.html#reinitFrame">reinitFrame</a></li><li><a href="WebconfScreenManager.html#setMasterBar">setMasterBar</a></li><li><a href="WebconfScreenManager.html#switchMode">switchMode</a></li><li><a href="WebconfScreenManager.html#switchModeFrame">switchModeFrame</a></li></ul></div></li><li><a href="WebconfWorkspaceManager.html">WebconfWorkspaceManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="WebconfWorkspaceManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WebconfWorkspaceManager.html#_original_datas">_original_datas</a></li><li><a href="WebconfWorkspaceManager.html#color">color</a></li><li><a href="WebconfWorkspaceManager.html#have_chat">have_chat</a></li><li><a href="WebconfWorkspaceManager.html#logo">logo</a></li><li><a href="WebconfWorkspaceManager.html#objects">objects</a></li><li><a href="WebconfWorkspaceManager.html#privacy">privacy</a></li><li><a href="WebconfWorkspaceManager.html#title">title</a></li><li><a href="WebconfWorkspaceManager.html#uid">uid</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WebconfWorkspaceManager.html#create_chat">create_chat</a></li><li><a href="WebconfWorkspaceManager.html#dispose">dispose</a></li><li><a href="WebconfWorkspaceManager.html#have_chatroom">have_chatroom</a></li><li><a href="WebconfWorkspaceManager.html#have_cloud">have_cloud</a></li><li><a href="WebconfWorkspaceManager.html#have_workspace">have_workspace</a></li></ul></div></li><li><a href="aria.Dialog.html">Dialog</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="aria.Dialog_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="aria.Dialog.html#close">close</a></li><li><a href="aria.Dialog.html#replace">replace</a></li></ul></div></li><li><a href="html_events.html">html_events</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="html_events_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="html_events.html#addContent">addContent</a></li></ul></div></li><li><a href="html_li.html">html_li</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="html_li_sub"></div></li><li><a href="html_ul.html">html_ul</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="html_ul_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="html_ul.html#addContent">addContent</a></li><li><a href="html_ul.html#li">li</a></li></ul></div></li><li><a href="mail_html_mail_html.html">mail_html</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mail_html#mail_html_sub"></div></li><li><a href="mel_cancellable_html_timer.html">mel_cancellable_html_timer</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mel_cancellable_html_timer_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="mel_cancellable_html_timer.html#_original_contents">_original_contents</a></li><li><a href="mel_cancellable_html_timer.html#ontimerfinished">ontimerfinished</a></li><li><a href="mel_cancellable_html_timer.html#timer">timer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="mel_cancellable_html_timer.html#addContent">addContent</a></li><li><a href="mel_cancellable_html_timer.html#appendTo">appendTo</a></li><li><a href="mel_cancellable_html_timer.html#count">count</a></li><li><a href="mel_cancellable_html_timer.html#create">create</a></li><li><a href="mel_cancellable_html_timer.html#find_by_class">find_by_class</a></li><li><a href="mel_cancellable_html_timer.html#find_by_id">find_by_id</a></li><li><a href="mel_cancellable_html_timer.html#first">first</a></li><li><a href="mel_cancellable_html_timer.html#firstOrDefault">firstOrDefault</a></li><li><a href="mel_cancellable_html_timer.html#generate">generate</a></li><li><a href="mel_cancellable_html_timer.html#tryAddClass">tryAddClass</a></li><li><a href="mel_cancellable_html_timer.html#._alert">_alert</a></li></ul></div></li><li><a href="mel_filter.html">mel_filter</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mel_filter_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="mel_filter.html#_setup">_setup</a></li><li><a href="mel_filter.html#_start">_start</a></li><li><a href="mel_filter.html#activate">activate</a></li><li><a href="mel_filter.html#deactivate">deactivate</a></li><li><a href="mel_filter.html#disable">disable</a></li><li><a href="mel_filter.html#enable">enable</a></li><li><a href="mel_filter.html#is_active">is_active</a></li><li><a href="mel_filter.html#is_enabled">is_enabled</a></li><li><a href="mel_filter.html#toggle">toggle</a></li><li><a href="mel_filter.html#toggle_active">toggle_active</a></li><li><a href="mel_filter.html#.filter_class">filter_class</a></li></ul></div></li><li><a href="mel_html.html">mel_html</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mel_html_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="mel_html.html#addClass">addClass</a></li><li><a href="mel_html.html#bind_events">bind_events</a></li><li><a href="mel_html.html#create">create</a></li><li><a href="mel_html.html#css">css</a></li><li><a href="mel_html.html#generate">generate</a></li><li><a href="mel_html.html#hasClass">hasClass</a></li><li><a href="mel_html.html#setAttr">setAttr</a></li><li><a href="mel_html.html#setId">setId</a></li><li><a href="mel_html.html#.div">div</a></li></ul></div></li><li><a href="mel_html2.html">mel_html2</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mel_html2_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="mel_html2.html#addContent">addContent</a></li><li><a href="mel_html2.html#appendTo">appendTo</a></li><li><a href="mel_html2.html#count">count</a></li><li><a href="mel_html2.html#find_by_class">find_by_class</a></li><li><a href="mel_html2.html#find_by_id">find_by_id</a></li><li><a href="mel_html2.html#first">first</a></li><li><a href="mel_html2.html#firstOrDefault">firstOrDefault</a></li><li><a href="mel_html2.html#.div">div</a></li></ul></div></li><li><a href="mel_html_timer.html">mel_html_timer</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="mel_html_timer_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="mel_html_timer.html#_original_contents">_original_contents</a></li><li><a href="mel_html_timer.html#ontimerfinished">ontimerfinished</a></li><li><a href="mel_html_timer.html#timer">timer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="mel_html_timer.html#addContent">addContent</a></li><li><a href="mel_html_timer.html#appendTo">appendTo</a></li><li><a href="mel_html_timer.html#count">count</a></li><li><a href="mel_html_timer.html#create">create</a></li><li><a href="mel_html_timer.html#find_by_class">find_by_class</a></li><li><a href="mel_html_timer.html#find_by_id">find_by_id</a></li><li><a href="mel_html_timer.html#first">first</a></li><li><a href="mel_html_timer.html#firstOrDefault">firstOrDefault</a></li><li><a href="mel_html_timer.html#generate">generate</a></li><li><a href="mel_html_timer.html#tryAddClass">tryAddClass</a></li></ul></div></li><li><a href="module-BaseStorage.BaseStorage.html">BaseStorage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BaseStorage.BaseStorage_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-BaseStorage.BaseStorage.html#add">add</a></li><li><a href="module-BaseStorage.BaseStorage.html#clear">clear</a></li><li><a href="module-BaseStorage.BaseStorage.html#get">get</a></li><li><a href="module-BaseStorage.BaseStorage.html#has">has</a></li><li><a href="module-BaseStorage.BaseStorage.html#remove">remove</a></li></ul></div></li><li><a href="module-BnumNotification-BnumNotification.html">BnumNotification</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BnumNotification~BnumNotification_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-BnumNotification-BnumNotification.html#action">action</a></li><li><a href="module-BnumNotification-BnumNotification.html#category">category</a></li><li><a href="module-BnumNotification-BnumNotification.html#created">created</a></li><li><a href="module-BnumNotification-BnumNotification.html#isread">isread</a></li><li><a href="module-BnumNotification-BnumNotification.html#local">local</a></li><li><a href="module-BnumNotification-BnumNotification.html#modified">modified</a></li><li><a href="module-BnumNotification-BnumNotification.html#title">title</a></li><li><a href="module-BnumNotification-BnumNotification.html#uid">uid</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-BnumNotification-BnumNotification.html#notify">notify</a></li><li><a href="module-BnumNotification-BnumNotification.html#.Notify">Notify</a></li><li><a href="module-BnumNotification-BnumNotification.html#._____GET____">_____GET____</a></li><li><a href="module-BnumNotification-BnumNotification.html#.throw_exception">throw_exception</a></li></ul></div></li><li><a href="module-BnumNotification-BnumNotificationAction.html">BnumNotificationAction</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BnumNotification~BnumNotificationAction_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-BnumNotification-BnumNotificationAction.html#command">command</a></li><li><a href="module-BnumNotification-BnumNotificationAction.html#params">params</a></li><li><a href="module-BnumNotification-BnumNotificationAction.html#text">text</a></li><li><a href="module-BnumNotification-BnumNotificationAction.html#title">title</a></li></ul></div></li><li><a href="module-BnumNotification-NotificationException.html">NotificationException</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:BnumNotification~NotificationException_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-BnumNotification-NotificationException.html#args">args</a></li><li><a href="module-BnumNotification-NotificationException.html#errored_item">errored_item</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-BnumNotification-NotificationException.html#complete_logs">complete_logs</a></li><li><a href="module-BnumNotification-NotificationException.html#items">items</a></li><li><a href="module-BnumNotification-NotificationException.html#log">log</a></li><li><a href="module-BnumNotification-NotificationException.html#log_fatal">log_fatal</a></li></ul></div></li><li><a href="module-CalendarEvent.CalendarEvent.html">CalendarEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:CalendarEvent.CalendarEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-CalendarEvent.CalendarEvent.html#view">view</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-CalendarEvent.CalendarEvent.html#.Start">Start</a></li></ul></div></li><li><a href="module-Color-Color.html">Color</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Color~Color_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Color-Color.html#b">b</a></li><li><a href="module-Color-Color.html#g">g</a></li><li><a href="module-Color-Color.html#r">r</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Color-Color.html#toHexa">toHexa</a></li><li><a href="module-Color-Color.html#toRGB">toRGB</a></li><li><a href="module-Color-Color.html#.fromRGB">fromRGB</a></li></ul></div></li><li><a href="module-Color-ColorRGBA.html">ColorRGBA</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Color~ColorRGBA_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Color-ColorRGBA.html#a">a</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Color-ColorRGBA.html#toHexa">toHexa</a></li><li><a href="module-Color-ColorRGBA.html#toRGBA">toRGBA</a></li></ul></div></li><li><a href="module-Cookies.Cookie.html">Cookie</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Cookies.Cookie_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Cookies.Cookie.html#key">key</a></li><li><a href="module-Cookies.Cookie.html#value">value</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Cookies.Cookie.html#remove">remove</a></li><li><a href="module-Cookies.Cookie.html#update_value">update_value</a></li><li><a href="module-Cookies.Cookie.html#.get_cookie">get_cookie</a></li><li><a href="module-Cookies.Cookie.html#.get_expire">get_expire</a></li><li><a href="module-Cookies.Cookie.html#.remove_cookie">remove_cookie</a></li><li><a href="module-Cookies.Cookie.html#.set_cookie">set_cookie</a></li></ul></div></li><li><a href="module-EventView.EventView.html">EventView</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView.EventView_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView.EventView.html#fakes">fakes</a></li><li><a href="module-EventView.EventView.html#inputs">inputs</a></li><li><a href="module-EventView.EventView.html#parts">parts</a></li><li><a href="module-EventView.EventView.html#.false_selectors">false_selectors</a></li><li><a href="module-EventView.EventView.html#.true_selectors">true_selectors</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView.EventView.html#is_jquery_dialog">is_jquery_dialog</a></li><li><a href="module-EventView.EventView.html#.Create">Create</a></li><li><a href="module-EventView.EventView.html#.Start">Start</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="module-EventView.EventView.html#event:before_save">before_save</a></li><li><a href="module-EventView.EventView.html#event:on_dialog_before_close">on_dialog_before_close</a></li><li><a href="module-EventView.EventView.html#event:on_drop">on_drop</a></li></ul></div></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html">AlarmPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Alarm.AlarmPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_$fieldAlarmOffsetType">_$fieldAlarmOffsetType</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_$fieldAlarmType">_$fieldAlarmType</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#.PREDEFINED">PREDEFINED</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#_startModalCustomAlarm">_startModalCustomAlarm</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#init">init</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Alarm.AlarmPart.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts_Alarm-AlarmData.html">AlarmData</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Alarm~AlarmData_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Alarm-AlarmData.html#offset">offset</a></li><li><a href="module-EventView_Parts_Alarm-AlarmData.html#value">value</a></li><li><a href="module-EventView_Parts_Alarm-AlarmData.html#.OFFSETS">OFFSETS</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Alarm-AlarmData.html#getTime">getTime</a></li><li><a href="module-EventView_Parts_Alarm-AlarmData.html#toString">toString</a></li><li><a href="module-EventView_Parts_Alarm-AlarmData.html#.From">From</a></li></ul></div></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html">CalendarOwner</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/CalendarOwner~CalendarOwner_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#_$icon">_$icon</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_CalendarOwner-CalendarOwner.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html">CategoryPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Categories.CategoryPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_$hasCategory">_$hasCategory</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_$icon">_$icon</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_$wspButton">_$wspButton</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#.PARTS">PARTS</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#init">init</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#onUpdate">onUpdate</a></li><li><a href="module-EventView_Parts_Categories.CategoryPart.html#updateIcon">updateIcon</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="module-EventView_Parts_Categories.CategoryPart.html#event:onChange">onChange</a></li></ul></div></li><li><a href="module-EventView_Parts_Categories-CategoryData.html">CategoryData</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Categories~CategoryData_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Categories-CategoryData.html#callback">callback</a></li><li><a href="module-EventView_Parts_Categories-CategoryData.html#icon">icon</a></li><li><a href="module-EventView_Parts_Categories-CategoryData.html#name">name</a></li><li><a href="module-EventView_Parts_Categories-CategoryData.html#show_callback">show_callback</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Categories-CategoryData.html#_default_callback">_default_callback</a></li><li><a href="module-EventView_Parts_Categories-CategoryData.html#.Part">Part</a></li></ul></div></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html">TimePartManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/DateTime.TimePartManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#$allDay">$allDay</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_$end_date">_$end_date</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_$start_date">_$start_date</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#base_diff">base_diff</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#date_end">date_end</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#date_start">date_start</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#end">end</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#start">start</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#.WORDS">WORDS</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_invalid_action_date">_invalid_action_date</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_invalid_action_time">_invalid_action_time</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_on_all_day_changed">_on_all_day_changed</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#_update_date">_update_date</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#init">init</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_DateTime.TimePartManager.html#.UpdateOption">UpdateOption</a></li></ul></div></li><li><a href="module-EventView_Parts_DateTime-TimePart.html">TimePart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/DateTime~TimePart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_DateTime-TimePart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#.INTERVAL">INTERVAL</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_DateTime-TimePart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#_toTimeMoment">_toTimeMoment</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#init">init</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#onUpdate">onUpdate</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#reinit">reinit</a></li><li><a href="module-EventView_Parts_DateTime-TimePart.html#.UpdateOption">UpdateOption</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html">GuestsPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests.GuestsPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_$animators">_$animators</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_$optionnals">_$optionnals</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_datePart">_datePart</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_switchButton">_switchButton</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#cant_modify">cant_modify</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.INSTANCE">INSTANCE</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.ROLES">ROLES</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.can">can</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.event">event</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.stop">stop</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_onUpdate">_onUpdate</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_on_switch">_on_switch</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#init">init</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onButtonMailClicked">onButtonMailClicked</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onKeyUp">onKeyUp</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onNotificationChanged">onNotificationChanged</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#onUpdate">onUpdate</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#update_free_busy">update_free_busy</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.GetMe">GetMe</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.SetAttendeesListOrganizer">SetAttendeesListOrganizer</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.UpdateDispos">UpdateDispos</a></li><li><a href="module-EventView_Parts_Guests.GuestsPart.html#.UpdateFreeBusy">UpdateFreeBusy</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html">FreeBusyGuests</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests/FreeBusy.FreeBusyGuests_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#interval">interval</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#.can">can</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#load_freebusy_data">load_freebusy_data</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#.CloneDate">CloneDate</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#.FixDate">FixDate</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy.FreeBusyGuests.html#.Get">Get</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html">Slot</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests/FreeBusy~Slot_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#_is_in_working_hour">_is_in_working_hour</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#end">end</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#isFree">isFree</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#start">start</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#state">state</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#.STATES">STATES</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#_generate_different_date">_generate_different_date</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#_onclick">_onclick</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slot.html#generate">generate</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html">Slots</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests/FreeBusy~Slots_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#email">email</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#end">end</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#interval">interval</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#slots">slots</a></li><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#start">start</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests_FreeBusy-Slots.html#getNextFreeSlots">getNextFreeSlots</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests-Guest.html">Guest</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests~Guest_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-Guest.html#email">email</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#name">name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-Guest.html#_close_button_click">_close_button_click</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#_dragEnd">_dragEnd</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#_dragStart">_dragStart</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#_remove_from_table">_remove_from_table</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#get_dispo">get_dispo</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#toAttendee">toAttendee</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#toHtml">toHtml</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#toString">toString</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#.From">From</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#.GetDispo">GetDispo</a></li><li><a href="module-EventView_Parts_Guests-Guest.html#.UpdateDispo">UpdateDispo</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests-GuestButton.html">GuestButton</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests~GuestButton_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-GuestButton.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#clicked">clicked</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-GuestButton.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#click">click</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Guests-GuestButton.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html">GuestPartFieldException</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Guests~GuestPartFieldException_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#$field">$field</a></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#args">args</a></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#errored_item">errored_item</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#complete_logs">complete_logs</a></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#items">items</a></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#log">log</a></li><li><a href="module-EventView_Parts_Guests-GuestPartFieldException.html#log_fatal">log_fatal</a></li></ul></div></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html">LocationPartManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location.LocationPartManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_$locations">_$locations</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_cached">_cached</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_category">_category</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#locations">locations</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#.PARTS">PARTS</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_generateIndex">_generateIndex</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_generate_select">_generate_select</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_on_change_action">_on_change_action</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_on_select_changed">_on_select_changed</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_update_all_selects">_update_all_selects</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#_update_selects">_update_selects</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#add">add</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#init">init</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#remove">remove</a></li><li><a href="module-EventView_Parts_Location.LocationPartManager.html#waitComplete">waitComplete</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-ALocationPart.html">ALocationPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~ALocationPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-ALocationPart.html#id">id</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#location">location</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-ALocationPart.html#destroy">destroy</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#.Max">Max</a></li><li><a href="module-EventView_Parts_Location-ALocationPart.html#.OptionValue">OptionValue</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-AVisio.html">AVisio</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~AVisio_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-AVisio.html#id">id</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#location">location</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-AVisio.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-AVisio.html#wait">wait</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html">ExternalVisio</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~ExternalVisio_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-ExternalVisio.html#id">id</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#location">location</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-ExternalVisio.html#_on_update">_on_update</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#wait">wait</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-ExternalVisio.html#.OptionValue">OptionValue</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html">IntegratedVisio</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~IntegratedVisio_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_$div">_$div</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_current_promise">_current_promise</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_last_room">_last_room</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_pass">_pass</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_phone">_phone</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_pin">_pin</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_room">_room</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#id">id</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#location">location</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_on_pass_updated">_on_pass_updated</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#_on_room_updated">_on_room_updated</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#get_phone">get_phone</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#wait">wait</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-IntegratedVisio.html#.OptionValue">OptionValue</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-Location.html">Location</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~Location_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-Location.html#id">id</a></li><li><a href="module-EventView_Parts_Location-Location.html#location">location</a></li><li><a href="module-EventView_Parts_Location-Location.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-Location.html#_on_update">_on_update</a></li><li><a href="module-EventView_Parts_Location-Location.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-Location.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-Location.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-Location.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-Location.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-Location.html#.Max">Max</a></li><li><a href="module-EventView_Parts_Location-Location.html#.OptionValue">OptionValue</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-Phone.html">Phone</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~Phone_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-Phone.html#_phone">_phone</a></li><li><a href="module-EventView_Parts_Location-Phone.html#_pin">_pin</a></li><li><a href="module-EventView_Parts_Location-Phone.html#id">id</a></li><li><a href="module-EventView_Parts_Location-Phone.html#location">location</a></li><li><a href="module-EventView_Parts_Location-Phone.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-Phone.html#_on_update">_on_update</a></li><li><a href="module-EventView_Parts_Location-Phone.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-Phone.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-Phone.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-Phone.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-Phone.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-Phone.html#.Max">Max</a></li><li><a href="module-EventView_Parts_Location-Phone.html#.OptionValue">OptionValue</a></li><li><a href="module-EventView_Parts_Location-Phone.html#.Url">Url</a></li></ul></div></li><li><a href="module-EventView_Parts_Location-VisioManager.html">VisioManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Location~VisioManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Location-VisioManager.html#id">id</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#location">location</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#onchange">onchange</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Location-VisioManager.html#generate">generate</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#invalid_action">invalid_action</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#is_valid">is_valid</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#option_value">option_value</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#wait">wait</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#.Has">Has</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#.Max">Max</a></li><li><a href="module-EventView_Parts_Location-VisioManager.html#.OptionValue">OptionValue</a></li></ul></div></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html">RecPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Reccursivity.RecPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#_$field">_$field</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#destroy">destroy</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#init">init</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Reccursivity.RecPart.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html">SensitivityPart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/Sensitivity.SensitivityPart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_$dialog">_$dialog</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_$icon">_$icon</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_title">_title</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#.ICONS">ICONS</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#.STATES">STATES</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#init">init</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#onUpdate">onUpdate</a></li><li><a href="module-EventView_Parts_Sensitivity.SensitivityPart.html#update_dialog_title">update_dialog_title</a></li></ul></div></li><li><a href="module-EventView_Parts_State-StatePart.html">StatePart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts/State~StatePart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts_State-StatePart.html#_$field">_$field</a></li><li><a href="module-EventView_Parts_State-StatePart.html#_$icon">_$icon</a></li><li><a href="module-EventView_Parts_State-StatePart.html#.CLASSES">CLASSES</a></li><li><a href="module-EventView_Parts_State-StatePart.html#.ICONS_CLASSES">ICONS_CLASSES</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts_State-StatePart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts_State-StatePart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts_State-StatePart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts_State-StatePart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts_State-StatePart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts_State-StatePart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts_State-StatePart.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts-FakePart.html">FakePart</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts~FakePart_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts-FakePart.html#_$field">_$field</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts-FakePart.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts-FakePart.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts-FakePart.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts-FakePart.html#init">init</a></li><li><a href="module-EventView_Parts-FakePart.html#onChange">onChange</a></li><li><a href="module-EventView_Parts-FakePart.html#onClick">onClick</a></li><li><a href="module-EventView_Parts-FakePart.html#onInput">onInput</a></li><li><a href="module-EventView_Parts-FakePart.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView_Parts-Parts.html">Parts</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView/Parts~Parts_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView_Parts-Parts.html#_$field">_$field</a></li><li><a href="module-EventView_Parts-Parts.html#.MODE">MODE</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView_Parts-Parts.html#_p_get_field">_p_get_field</a></li><li><a href="module-EventView_Parts-Parts.html#_p_initField">_p_initField</a></li><li><a href="module-EventView_Parts-Parts.html#_p_try_add_event">_p_try_add_event</a></li><li><a href="module-EventView_Parts-Parts.html#onChange">onChange</a></li><li><a href="module-EventView_Parts-Parts.html#onClick">onClick</a></li><li><a href="module-EventView_Parts-Parts.html#onInput">onInput</a></li><li><a href="module-EventView_Parts-Parts.html#onUpdate">onUpdate</a></li></ul></div></li><li><a href="module-EventView-EventField.html">EventField</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView~EventField_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView-EventField.html#name">name</a></li><li><a href="module-EventView-EventField.html#selector">selector</a></li></ul></div></li><li><a href="module-EventView-EventManager.html">EventManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView~EventManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView-EventManager.html#add">add</a></li><li><a href="module-EventView-EventManager.html#generate">generate</a></li></ul></div></li><li><a href="module-EventView-EventParts.html">EventParts</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView~EventParts_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView-EventParts.html#_onButtonTitleClicked">_onButtonTitleClicked</a></li><li><a href="module-EventView-EventParts.html#init">init</a></li></ul></div></li><li><a href="module-EventView-WarningPanel.html">WarningPanel</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:EventView~WarningPanel_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-EventView-WarningPanel.html#panel">panel</a></li><li><a href="module-EventView-WarningPanel.html#.CHILDS_ITEMS_SELECTORS">CHILDS_ITEMS_SELECTORS</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-EventView-WarningPanel.html#hide">hide</a></li><li><a href="module-EventView-WarningPanel.html#is_display">is_display</a></li><li><a href="module-EventView-WarningPanel.html#show">show</a></li><li><a href="module-EventView-WarningPanel.html#.Get">Get</a></li><li><a href="module-EventView-WarningPanel.html#.Reinit">Reinit</a></li></ul></div></li><li><a href="module-Exceptions-BnumException.html">BnumException</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Exceptions~BnumException_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Exceptions-BnumException.html#args">args</a></li><li><a href="module-Exceptions-BnumException.html#errored_item">errored_item</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Exceptions-BnumException.html#complete_logs">complete_logs</a></li><li><a href="module-Exceptions-BnumException.html#items">items</a></li><li><a href="module-Exceptions-BnumException.html#log">log</a></li><li><a href="module-Exceptions-BnumException.html#log_fatal">log_fatal</a></li><li><a href="module-Exceptions-BnumException.html#.IsBnumError">IsBnumError</a></li></ul></div></li><li><a href="module-JsHtml-____JsHtml.html">____JsHtml</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:JsHtml~____JsHtml_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-JsHtml-____JsHtml.html#_create">_create</a></li><li><a href="module-JsHtml-____JsHtml.html#addClass">addClass</a></li><li><a href="module-JsHtml-____JsHtml.html#attr">attr</a></li><li><a href="module-JsHtml-____JsHtml.html#css">css</a></li><li><a href="module-JsHtml-____JsHtml.html#disable">disable</a></li><li><a href="module-JsHtml-____JsHtml.html#end">end</a></li><li><a href="module-JsHtml-____JsHtml.html#hasAttr">hasAttr</a></li><li><a href="module-JsHtml-____JsHtml.html#hasClass">hasClass</a></li><li><a href="module-JsHtml-____JsHtml.html#removeClass">removeClass</a></li></ul></div></li><li><a href="module-JsHtml-____js_html___.html">____js_html___</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:JsHtml~____js_html____sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-JsHtml-____js_html___.html#start">start</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-JsHtml-____js_html___.html#create_alias">create_alias</a></li><li><a href="module-JsHtml-____js_html___.html#extend">extend</a></li><li><a href="module-JsHtml-____js_html___.html#load_page">load_page</a></li><li><a href="module-JsHtml-____js_html___.html#update">update</a></li><li><a href="module-JsHtml-____js_html___.html#write">write</a></li></ul></div></li><li><a href="module-Log.BnumLog.html">BnumLog</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Log.BnumLog_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Log.BnumLog.html#.LogLevels">LogLevels</a></li><li><a href="module-Log.BnumLog.html#.log_level">log_level</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Log.BnumLog.html#.debug">debug</a></li><li><a href="module-Log.BnumLog.html#.debugger">debugger</a></li><li><a href="module-Log.BnumLog.html#.error">error</a></li><li><a href="module-Log.BnumLog.html#.fatal">fatal</a></li><li><a href="module-Log.BnumLog.html#.info">info</a></li><li><a href="module-Log.BnumLog.html#.log">log</a></li><li><a href="module-Log.BnumLog.html#.set_log_level">set_log_level</a></li><li><a href="module-Log.BnumLog.html#.warning">warning</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI.Mel_Elastic_Storage.html">Mel_Elastic_Storage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI.Mel_Elastic_Storage_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI.Mel_Elastic_Storage.html#.KEY">KEY</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI.Mel_Elastic_Storage.html#.load">load</a></li><li><a href="module-MEL_ELASTIC_UI.Mel_Elastic_Storage.html#.remove">remove</a></li><li><a href="module-MEL_ELASTIC_UI.Mel_Elastic_Storage.html#.save">save</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html">Mel_CSS_Advanced_Rule</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI~Mel_CSS_Advanced_Rule_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#rule">rule</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#selector">selector</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#add">add</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#remove">remove</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#rules">rules</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#set">set</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#toString">toString</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Advanced_Rule.html#update">update</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html">Mel_CSS_Array_Rule</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI~Mel_CSS_Array_Rule_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#ids">ids</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#styleRule">styleRule</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#delete">delete</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#rule_id">rule_id</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#set">set</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Array_Rule.html#toString">toString</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html">Mel_CSS_Rule</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI~Mel_CSS_Rule_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#rule">rule</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#styleRule">styleRule</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#delete">delete</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#id">id</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#set">set</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#toString">toString</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#.component">component</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#.from_array">from_array</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Rule.html#.lastIndex">lastIndex</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html">Mel_CSS_Style_Sheet</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI~Mel_CSS_Style_Sheet_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#css">css</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#add">add</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#addAdvanced">addAdvanced</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#addRules">addRules</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#getKeys">getKeys</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#getStyleSheet">getStyleSheet</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#remove">remove</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#removeRules">removeRules</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#reset">reset</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_CSS_Style_Sheet.html#ruleExist">ruleExist</a></li></ul></div></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html">Mel_Elastic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MEL_ELASTIC_UI~Mel_Elastic_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#FROM_INFOS">FROM_INFOS</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#IS_EXTERNE">IS_EXTERNE</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#JSON_CHAR_REPLACE">JSON_CHAR_REPLACE</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#SELECT_VALUE_REPLACE">SELECT_VALUE_REPLACE</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#_hide_main_menu">_hide_main_menu</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#_integer">_integer</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#css_rules">css_rules</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#keys">keys</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#screen_type">screen_type</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#_format_replace_conditions">_format_replace_conditions</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#color_mode">color_mode</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#create_number">create_number</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#generateSelect">generateSelect</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#gestionTabs">gestionTabs</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#getRandomColor">getRandomColor</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#getRect">getRect</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#get_input_mail_search">get_input_mail_search</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#get_nav_button_main_class">get_nav_button_main_class</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#init">init</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#init_const">init_const</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#init_theme">init_theme</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#isScollBarAuto">isScollBarAuto</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#pagination_next">pagination_next</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#pagination_page">pagination_page</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#pagination_prev">pagination_prev</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#redStars">redStars</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setValue">setValue</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#set_pagination">set_pagination</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup">setup</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_adressbook">setup_adressbook</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_calendar">setup_calendar</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_compose">setup_compose</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_html">setup_html</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_mails">setup_mails</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_mails_classes">setup_mails_classes</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_nav">setup_nav</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_other_apps">setup_other_apps</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_search">setup_search</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#setup_tasks">setup_tasks</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#switchTab">switchTab</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#switch_color">switch_color</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#update">update</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#updateSelectValue">updateSelectValue</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#update_pagination">update_pagination</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#update_tabs">update_tabs</a></li><li><a href="module-MEL_ELASTIC_UI-Mel_Elastic.html#url">url</a></li></ul></div></li><li><a href="module-MainNav.MainNav.html">MainNav</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MainNav.MainNav_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MainNav.MainNav.html#.helper">helper</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MainNav.MainNav.html#.try_add_round">try_add_round</a></li><li><a href="module-MainNav.MainNav.html#.update_badge">update_badge</a></li><li><a href="module-MainNav.MainNav.html#.update_badge_number">update_badge_number</a></li><li><a href="module-MainNav.MainNav.html#.update_badge_text">update_badge_text</a></li></ul></div></li><li><a href="module-MelLinq-MelEnumerable.html">MelEnumerable</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MelLinq~MelEnumerable_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MelLinq-MelEnumerable.html#generator">generator</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-MelLinq-MelEnumerable.html#add">add</a></li><li><a href="module-MelLinq-MelEnumerable.html#aggregate">aggregate</a></li><li><a href="module-MelLinq-MelEnumerable.html#all">all</a></li><li><a href="module-MelLinq-MelEnumerable.html#any">any</a></li><li><a href="module-MelLinq-MelEnumerable.html#contains">contains</a></li><li><a href="module-MelLinq-MelEnumerable.html#count">count</a></li><li><a href="module-MelLinq-MelEnumerable.html#distinct">distinct</a></li><li><a href="module-MelLinq-MelEnumerable.html#except">except</a></li><li><a href="module-MelLinq-MelEnumerable.html#first">first</a></li><li><a href="module-MelLinq-MelEnumerable.html#firstOrDefault">firstOrDefault</a></li><li><a href="module-MelLinq-MelEnumerable.html#flat">flat</a></li><li><a href="module-MelLinq-MelEnumerable.html#groupBy">groupBy</a></li><li><a href="module-MelLinq-MelEnumerable.html#intersect">intersect</a></li><li><a href="module-MelLinq-MelEnumerable.html#join">join</a></li><li><a href="module-MelLinq-MelEnumerable.html#last">last</a></li><li><a href="module-MelLinq-MelEnumerable.html#lastOrDefault">lastOrDefault</a></li><li><a href="module-MelLinq-MelEnumerable.html#max">max</a></li><li><a href="module-MelLinq-MelEnumerable.html#min">min</a></li><li><a href="module-MelLinq-MelEnumerable.html#orderBy">orderBy</a></li><li><a href="module-MelLinq-MelEnumerable.html#orderByDescending">orderByDescending</a></li><li><a href="module-MelLinq-MelEnumerable.html#remove">remove</a></li><li><a href="module-MelLinq-MelEnumerable.html#removeAt">removeAt</a></li><li><a href="module-MelLinq-MelEnumerable.html#reverse">reverse</a></li><li><a href="module-MelLinq-MelEnumerable.html#select">select</a></li><li><a href="module-MelLinq-MelEnumerable.html#sum">sum</a></li><li><a href="module-MelLinq-MelEnumerable.html#take">take</a></li><li><a href="module-MelLinq-MelEnumerable.html#then">then</a></li><li><a href="module-MelLinq-MelEnumerable.html#thenDescending">thenDescending</a></li><li><a href="module-MelLinq-MelEnumerable.html#toArray">toArray</a></li><li><a href="module-MelLinq-MelEnumerable.html#toJsonObject">toJsonObject</a></li><li><a href="module-MelLinq-MelEnumerable.html#union">union</a></li><li><a href="module-MelLinq-MelEnumerable.html#where">where</a></li><li><a href="module-MelLinq-MelEnumerable.html#.choice">choice</a></li><li><a href="module-MelLinq-MelEnumerable.html#.cycle">cycle</a></li><li><a href="module-MelLinq-MelEnumerable.html#.empty">empty</a></li><li><a href="module-MelLinq-MelEnumerable.html#.from">from</a></li><li><a href="module-MelLinq-MelEnumerable.html#.random">random</a></li><li><a href="module-MelLinq-MelEnumerable.html#.range">range</a></li><li><a href="module-MelLinq-MelEnumerable.html#.rangeDown">rangeDown</a></li><li><a href="module-MelLinq-MelEnumerable.html#.toInfinity">toInfinity</a></li><li><a href="module-MelLinq-MelEnumerable.html#.toNegativeInfinity">toNegativeInfinity</a></li></ul></div></li><li><a href="module-MelLinq-MelKeyValuePair.html">MelKeyValuePair</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:MelLinq~MelKeyValuePair_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-MelLinq-MelKeyValuePair.html#key">key</a></li><li><a href="module-MelLinq-MelKeyValuePair.html#value">value</a></li></ul></div></li><li><a href="module-Tchap-tchap_manager.html">tchap_manager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Tchap~tchap_manager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Tchap-tchap_manager.html#_listener">_listener</a></li><li><a href="module-Tchap-tchap_manager.html#rc_data">rc_data</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Tchap-tchap_manager.html#add_event_listener">add_event_listener</a></li><li><a href="module-Tchap-tchap_manager.html#change_frame">change_frame</a></li><li><a href="module-Tchap-tchap_manager.html#change_theme">change_theme</a></li><li><a href="module-Tchap-tchap_manager.html#cookie_get">cookie_get</a></li><li><a href="module-Tchap-tchap_manager.html#cookie_remove">cookie_remove</a></li><li><a href="module-Tchap-tchap_manager.html#cookie_set">cookie_set</a></li><li><a href="module-Tchap-tchap_manager.html#copy_to_clipboard">copy_to_clipboard</a></li><li><a href="module-Tchap-tchap_manager.html#generate_loader">generate_loader</a></li><li><a href="module-Tchap-tchap_manager.html#get_custom_rules">get_custom_rules</a></li><li><a href="module-Tchap-tchap_manager.html#get_env">get_env</a></li><li><a href="module-Tchap-tchap_manager.html#get_skin">get_skin</a></li><li><a href="module-Tchap-tchap_manager.html#have_frame">have_frame</a></li><li><a href="module-Tchap-tchap_manager.html#http_call">http_call</a></li><li><a href="module-Tchap-tchap_manager.html#http_internal_call">http_internal_call</a></li><li><a href="module-Tchap-tchap_manager.html#http_internal_get">http_internal_get</a></li><li><a href="module-Tchap-tchap_manager.html#http_internal_post">http_internal_post</a></li><li><a href="module-Tchap-tchap_manager.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="module-Tchap-tchap_manager.html#load">load</a></li><li><a href="module-Tchap-tchap_manager.html#main">main</a></li><li><a href="module-Tchap-tchap_manager.html#on_frame_loaded">on_frame_loaded</a></li><li><a href="module-Tchap-tchap_manager.html#on_refresh">on_refresh</a></li><li><a href="module-Tchap-tchap_manager.html#rcmail">rcmail</a></li><li><a href="module-Tchap-tchap_manager.html#save">save</a></li><li><a href="module-Tchap-tchap_manager.html#select">select</a></li><li><a href="module-Tchap-tchap_manager.html#select_frame">select_frame</a></li><li><a href="module-Tchap-tchap_manager.html#select_frame_except">select_frame_except</a></li><li><a href="module-Tchap-tchap_manager.html#send_notification">send_notification</a></li><li><a href="module-Tchap-tchap_manager.html#tchap_disconnect">tchap_disconnect</a></li><li><a href="module-Tchap-tchap_manager.html#tchap_frame">tchap_frame</a></li><li><a href="module-Tchap-tchap_manager.html#tchap_options">tchap_options</a></li><li><a href="module-Tchap-tchap_manager.html#trigger_event">trigger_event</a></li><li><a href="module-Tchap-tchap_manager.html#update_badge">update_badge</a></li><li><a href="module-Tchap-tchap_manager.html#url">url</a></li></ul></div></li><li><a href="rcube_layer.html">rcube_layer</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="rcube_layer_sub"></div></li><li><a href="rcube_list_widget.html">rcube_list_widget</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="rcube_list_widget_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="rcube_list_widget.html#container">container</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="rcube_list_widget.html#_rowIndex">_rowIndex</a></li><li><a href="rcube_list_widget.html#add_dragfix">add_dragfix</a></li><li><a href="rcube_list_widget.html#blur">blur</a></li><li><a href="rcube_list_widget.html#clear">clear</a></li><li><a href="rcube_list_widget.html#clear">clear</a></li><li><a href="rcube_list_widget.html#clear_selection">clear_selection</a></li><li><a href="rcube_list_widget.html#click_row">click_row</a></li><li><a href="rcube_list_widget.html#click_row">click_row</a></li><li><a href="rcube_list_widget.html#column_drag_mouse_move">column_drag_mouse_move</a></li><li><a href="rcube_list_widget.html#column_drag_mouse_up">column_drag_mouse_up</a></li><li><a href="rcube_list_widget.html#column_replace">column_replace</a></li><li><a href="rcube_list_widget.html#del_dragfix">del_dragfix</a></li><li><a href="rcube_list_widget.html#drag_column">drag_column</a></li><li><a href="rcube_list_widget.html#drag_mouse_move">drag_mouse_move</a></li><li><a href="rcube_list_widget.html#drag_mouse_up">drag_mouse_up</a></li><li><a href="rcube_list_widget.html#drag_row">drag_row</a></li><li><a href="rcube_list_widget.html#drag_row">drag_row</a></li><li><a href="rcube_list_widget.html#enable_checkbox_selection">enable_checkbox_selection</a></li><li><a href="rcube_list_widget.html#focus">focus</a></li><li><a href="rcube_list_widget.html#focus_noscroll">focus_noscroll</a></li><li><a href="rcube_list_widget.html#get_next_row">get_next_row</a></li><li><a href="rcube_list_widget.html#get_selection">get_selection</a></li><li><a href="rcube_list_widget.html#get_single_selection">get_single_selection</a></li><li><a href="rcube_list_widget.html#hide_column">hide_column</a></li><li><a href="rcube_list_widget.html#highlight_children">highlight_children</a></li><li><a href="rcube_list_widget.html#highlight_row">highlight_row</a></li><li><a href="rcube_list_widget.html#in_selection">in_selection</a></li><li><a href="rcube_list_widget.html#init">init</a></li><li><a href="rcube_list_widget.html#init_header">init_header</a></li><li><a href="rcube_list_widget.html#init_row">init_row</a></li><li><a href="rcube_list_widget.html#insert_checkbox">insert_checkbox</a></li><li><a href="rcube_list_widget.html#insert_row">insert_row</a></li><li><a href="rcube_list_widget.html#invert_selection">invert_selection</a></li><li><a href="rcube_list_widget.html#is_event_target">is_event_target</a></li><li><a href="rcube_list_widget.html#key_press">key_press</a></li><li><a href="rcube_list_widget.html#remove_row">remove_row</a></li><li><a href="rcube_list_widget.html#row_children">row_children</a></li><li><a href="rcube_list_widget.html#scrollto">scrollto</a></li><li><a href="rcube_list_widget.html#select">select</a></li><li><a href="rcube_list_widget.html#select_all">select_all</a></li><li><a href="rcube_list_widget.html#select_children">select_children</a></li><li><a href="rcube_list_widget.html#select_first">select_first</a></li><li><a href="rcube_list_widget.html#select_last">select_last</a></li><li><a href="rcube_list_widget.html#select_next">select_next</a></li><li><a href="rcube_list_widget.html#select_row">select_row</a></li><li><a href="rcube_list_widget.html#select_row">select_row</a></li><li><a href="rcube_list_widget.html#shift_select">shift_select</a></li><li><a href="rcube_list_widget.html#update_row">update_row</a></li><li><a href="rcube_list_widget.html#use_arrow_key">use_arrow_key</a></li></ul></div></li><li><a href="rcube_splitter.html">rcube_splitter</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="rcube_splitter_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="rcube_splitter.html#get_cookie">get_cookie</a></li><li><a href="rcube_splitter.html#get_cookie">get_cookie</a></li><li><a href="rcube_splitter.html#resize">resize</a></li><li><a href="rcube_splitter.html#resize">resize</a></li><li><a href="rcube_splitter.html#resize">resize</a></li><li><a href="rcube_splitter.html#set_cookie">set_cookie</a></li><li><a href="rcube_splitter.html#set_cookie">set_cookie</a></li><li><a href="rcube_splitter.html#set_cookie">set_cookie</a></li><li><a href="rcube_splitter.html#~onDrag">onDrag</a></li><li><a href="rcube_splitter.html#~onDrag">onDrag</a></li><li><a href="rcube_splitter.html#~onDrag">onDrag</a></li><li><a href="rcube_splitter.html#~onDragAction">onDragAction</a></li><li><a href="rcube_splitter.html#~onDragAction">onDragAction</a></li><li><a href="rcube_splitter.html#~onDragStart">onDragStart</a></li><li><a href="rcube_splitter.html#~onDragStart">onDragStart</a></li><li><a href="rcube_splitter.html#~onDragStart">onDragStart</a></li><li><a href="rcube_splitter.html#~onDragStop">onDragStop</a></li><li><a href="rcube_splitter.html#~onDragStop">onDragStop</a></li><li><a href="rcube_splitter.html#~onDragStop">onDragStop</a></li><li><a href="rcube_splitter.html#~onResize">onResize</a></li><li><a href="rcube_splitter.html#~onResize">onResize</a></li><li><a href="rcube_splitter.html#~onResize">onResize</a></li></ul></div></li><li><a href="rcube_text_editor.html">rcube_text_editor</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="rcube_text_editor_sub"></div></li><li><a href="rcube_treelist_widget.html">rcube_treelist_widget</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="rcube_treelist_widget_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="rcube_treelist_widget.html#~collapse">collapse</a></li><li><a href="rcube_treelist_widget.html#~collapse_all">collapse_all</a></li><li><a href="rcube_treelist_widget.html#~dom2id">dom2id</a></li><li><a href="rcube_treelist_widget.html#~drag_end">drag_end</a></li><li><a href="rcube_treelist_widget.html#~drag_scroll">drag_scroll</a></li><li><a href="rcube_treelist_widget.html#~drag_start">drag_start</a></li><li><a href="rcube_treelist_widget.html#~draggable">draggable</a></li><li><a href="rcube_treelist_widget.html#~droppable">droppable</a></li><li><a href="rcube_treelist_widget.html#~expand">expand</a></li><li><a href="rcube_treelist_widget.html#~expand_all">expand_all</a></li><li><a href="rcube_treelist_widget.html#~focus_noscroll">focus_noscroll</a></li><li><a href="rcube_treelist_widget.html#~get_item">get_item</a></li><li><a href="rcube_treelist_widget.html#~get_node">get_node</a></li><li><a href="rcube_treelist_widget.html#~get_selection">get_selection</a></li><li><a href="rcube_treelist_widget.html#~get_state">get_state</a></li><li><a href="rcube_treelist_widget.html#~id2dom">id2dom</a></li><li><a href="rcube_treelist_widget.html#~in_selection">in_selection</a></li><li><a href="rcube_treelist_widget.html#~index_data">index_data</a></li><li><a href="rcube_treelist_widget.html#~insert">insert</a></li><li><a href="rcube_treelist_widget.html#~intersects">intersects</a></li><li><a href="rcube_treelist_widget.html#~is_search">is_search</a></li><li><a href="rcube_treelist_widget.html#~keypress">keypress</a></li><li><a href="rcube_treelist_widget.html#~remove">remove</a></li><li><a href="rcube_treelist_widget.html#~render">render</a></li><li><a href="rcube_treelist_widget.html#~render_node">render_node</a></li><li><a href="rcube_treelist_widget.html#~reset">reset</a></li><li><a href="rcube_treelist_widget.html#~reset_search">reset_search</a></li><li><a href="rcube_treelist_widget.html#~resort_node">resort_node</a></li><li><a href="rcube_treelist_widget.html#~save_state">save_state</a></li><li><a href="rcube_treelist_widget.html#~scroll_to_node">scroll_to_node</a></li><li><a href="rcube_treelist_widget.html#~search">search</a></li><li><a href="rcube_treelist_widget.html#~select">select</a></li><li><a href="rcube_treelist_widget.html#~toggle">toggle</a></li><li><a href="rcube_treelist_widget.html#~update_data">update_data</a></li><li><a href="rcube_treelist_widget.html#~update_dom">update_dom</a></li><li><a href="rcube_treelist_widget.html#~update_node">update_node</a></li><li><a href="rcube_treelist_widget.html#~walk_list">walk_list</a></li></ul></div></li><li><a href="roundcube_browser.html">roundcube_browser</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="roundcube_browser_sub"></div></li><li><a href="search.html">search</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="search_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="search.html#_addBlock">_addBlock</a></li><li><a href="search.html#_filter_action">_filter_action</a></li><li><a href="search.html#_launch_timeout">_launch_timeout</a></li><li><a href="search.html#_search">_search</a></li><li><a href="search.html#_showDatas">_showDatas</a></li><li><a href="search.html#count">count</a></li><li><a href="search.html#filter">filter</a></li><li><a href="search.html#init">init</a></li><li><a href="search.html#order">order</a></li><li><a href="search.html#research">research</a></li><li><a href="search.html#setup">setup</a></li></ul></div></li><li><a href="searchBlock.html">searchBlock</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="searchBlock_sub"></div></li><li><a href="window.TEPauseCtrl.html">TEPauseCtrl</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="window.TEPauseCtrl_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Global</h3><ul><li class="hidden"><a href="global.html#Bounding">Bounding</a></li><li><a href="global.html#Cette">Cette</a></li><li><a href="global.html#DeleteLink">DeleteLink</a></li><li class="hidden"><a href="global.html#Edges">Edges</a></li><li><a href="global.html#End">End</a></li><li><a href="global.html#Enum%25C3%25A9ration">Enumération</a></li><li><a href="global.html#GOOGIE_CUR_LANG">GOOGIE_CUR_LANG</a></li><li><a href="global.html#GetLinkPopUp">GetLinkPopUp</a></li><li class="hidden"><a href="global.html#Key">Key</a></li><li class="hidden"><a href="global.html#MelNotification">MelNotification</a></li><li><a href="global.html#Middle">Middle</a></li><li><a href="global.html#Mode">Mode</a></li><li><a href="global.html#Nextcloud">Nextcloud</a></li><li><a href="global.html#Nombres">Nombres</a></li><li><a href="global.html#PDFFindBar">PDFFindBar</a></li><li><a href="global.html#PDFFindController">PDFFindController</a></li><li><a href="global.html#Plugin">Plugin</a></li><li><a href="global.html#Portail">Portail</a></li><li><a href="global.html#RoundriveCreate">RoundriveCreate</a></li><li><a href="global.html#SELECTOR_CLASS_ROUND_CALENDAR">SELECTOR_CLASS_ROUND_CALENDAR</a></li><li><a href="global.html#Start">Start</a></li><li><a href="global.html#TEOnlyOnePlayingCtrl">TEOnlyOnePlayingCtrl</a></li><li><a href="global.html#TESessionCurrentSubtitle">TESessionCurrentSubtitle</a></li><li><a href="global.html#TESwipeCtrl">TESwipeCtrl</a></li><li><a href="global.html#TextLayerBuilder">TextLayerBuilder</a></li><li><a href="global.html#Tri">Tri</a></li><li><a href="global.html#URL">URL</a></li><li><a href="global.html#Update">Update</a></li><li><a href="global.html#ViewHistory">ViewHistory</a></li><li><a href="global.html#WSPReady">WSPReady</a></li><li><a href="global.html#_on_mention_update">_on_mention_update</a></li><li><a href="global.html#add_mobile_class">add_mobile_class</a></li><li><a href="global.html#api_notifications">api_notifications</a></li><li><a href="global.html#audio_alarms">audio_alarms</a></li><li><a href="global.html#audiourltotest">audiourltotest</a></li><li><a href="global.html#base_color">base_color</a></li><li><a href="global.html#base_text_color">base_text_color</a></li><li><a href="global.html#changeType">changeType</a></li><li><a href="global.html#checkAllIdentities">checkAllIdentities</a></li><li><a href="global.html#checkOneIdentity">checkOneIdentity</a></li><li><a href="global.html#check_workspace_integrity">check_workspace_integrity</a></li><li class="hidden"><a href="global.html#chip">chip</a></li><li><a href="global.html#command_parapheur">command_parapheur</a></li><li><a href="global.html#componentToHex">componentToHex</a></li><li><a href="global.html#copy_signature">copy_signature</a></li><li><a href="global.html#createImage">createImage</a></li><li><a href="global.html#createLogo">createLogo</a></li><li><a href="global.html#createLogoType">createLogoType</a></li><li><a href="global.html#current_desktop_notification">current_desktop_notification</a></li><li><a href="global.html#date2ISO8601">date2ISO8601</a></li><li><a href="global.html#date2unixtime">date2unixtime</a></li><li><a href="global.html#datetimepickerFactory">datetimepickerFactory</a></li><li><a href="global.html#default_note_uid">default_note_uid</a></li><li><a href="global.html#delay">delay</a></li><li><a href="global.html#dialog">dialog</a></li><li><a href="global.html#dismiss_alarm">dismiss_alarm</a></li><li><a href="global.html#display_alarms">display_alarms</a></li><li><a href="global.html#dkSiRuleResizeMnu">dkSiRuleResizeMnu</a></li><li><a href="global.html#docReady">docReady</a></li><li><a href="global.html#download">download</a></li><li><a href="global.html#download_signature_outlook_htm">download_signature_outlook_htm</a></li><li><a href="global.html#download_signature_outlook_zip">download_signature_outlook_zip</a></li><li><a href="global.html#download_signature_thunderbird">download_signature_thunderbird</a></li><li><a href="global.html#enum_tooltip_mode">enum_tooltip_mode</a></li><li><a href="global.html#enum_tooltip_position">enum_tooltip_position</a></li><li><a href="global.html#ev_calendar_url">ev_calendar_url</a></li><li><a href="global.html#event_date_text">event_date_text</a></li><li><a href="global.html#fluxhtml">fluxhtml</a></li><li><a href="global.html#fluxrss">fluxrss</a></li><li><a href="global.html#folder_collapse">folder_collapse</a></li><li><a href="global.html#folder_collapse_unified">folder_collapse_unified</a></li><li><a href="global.html#folder_count">folder_count</a></li><li><a href="global.html#folder_count_unified">folder_count_unified</a></li><li><a href="global.html#folder_expand">folder_expand</a></li><li><a href="global.html#formatPhoneNumber">formatPhoneNumber</a></li><li><a href="global.html#format_datetime">format_datetime</a></li><li><a href="global.html#format_time">format_time</a></li><li><a href="global.html#fromunixtime">fromunixtime</a></li><li><a href="global.html#generate_canvas">generate_canvas</a></li><li><a href="global.html#getOutputScale">getOutputScale</a></li><li><a href="global.html#getPDFFileNameFromURL">getPDFFileNameFromURL</a></li><li><a href="global.html#getSignatureHTML">getSignatureHTML</a></li><li><a href="global.html#getTime">getTime</a></li><li><a href="global.html#get_organizer">get_organizer</a></li><li><a href="global.html#has_attendees">has_attendees</a></li><li><a href="global.html#has_permission">has_permission</a></li><li><a href="global.html#hide_header_row">hide_header_row</a></li><li><a href="global.html#init_recurrence_edit">init_recurrence_edit</a></li><li><a href="global.html#init_time_autocomplete">init_time_autocomplete</a></li><li><a href="global.html#isAsync">isAsync</a></li><li><a href="global.html#is_attendee">is_attendee</a></li><li><a href="global.html#is_internal_organizer">is_internal_organizer</a></li><li><a href="global.html#is_organizer">is_organizer</a></li><li><a href="global.html#libkolab_audittrail">libkolab_audittrail</a></li><li><a href="global.html#load_next_page">load_next_page</a></li><li><a href="global.html#loader">loader</a></li><li><a href="global.html#m_mp_Create">m_mp_Create</a></li><li><a href="global.html#m_mp_CreateDocumentIconContract">m_mp_CreateDocumentIconContract</a></li><li><a href="global.html#m_mp_CreateEvent">m_mp_CreateEvent</a></li><li><a href="global.html#m_mp_CreateEvent_inpage">m_mp_CreateEvent_inpage</a></li><li><a href="global.html#m_mp_CreateOrOpenFrame">m_mp_CreateOrOpenFrame</a></li><li><a href="global.html#m_mp_Help">m_mp_Help</a></li><li><a href="global.html#m_mp_InitializeDocument">m_mp_InitializeDocument</a></li><li><a href="global.html#m_mp_NotificationFilter">m_mp_NotificationFilter</a></li><li><a href="global.html#m_mp_NotificationGetDate">m_mp_NotificationGetDate</a></li><li><a href="global.html#m_mp_NotificationGetElement">m_mp_NotificationGetElement</a></li><li><a href="global.html#m_mp_NotificationProcess">m_mp_NotificationProcess</a></li><li><a href="global.html#m_mp_NotificationProcessAfterAction">m_mp_NotificationProcessAfterAction</a></li><li><a href="global.html#m_mp_NotificationRefresh">m_mp_NotificationRefresh</a></li><li><a href="global.html#m_mp_NotificationRun">m_mp_NotificationRun</a></li><li><a href="global.html#m_mp_NotificationSettings">m_mp_NotificationSettings</a></li><li><a href="global.html#m_mp_NotificationStartup">m_mp_NotificationStartup</a></li><li><a href="global.html#m_mp_NotificationsAction">m_mp_NotificationsAction</a></li><li><a href="global.html#m_mp_NotificationsAppendFilters">m_mp_NotificationsAppendFilters</a></li><li><a href="global.html#m_mp_NotificationsAppendToPanel">m_mp_NotificationsAppendToPanel</a></li><li><a href="global.html#m_mp_NotificationsClean">m_mp_NotificationsClean</a></li><li><a href="global.html#m_mp_NotificationsDelete">m_mp_NotificationsDelete</a></li><li><a href="global.html#m_mp_NotificationsGet">m_mp_NotificationsGet</a></li><li><a href="global.html#m_mp_NotificationsMerge">m_mp_NotificationsMerge</a></li><li><a href="global.html#m_mp_NotificationsRefreshUnread">m_mp_NotificationsRefreshUnread</a></li><li><a href="global.html#m_mp_NotificationsSet">m_mp_NotificationsSet</a></li><li><a href="global.html#m_mp_NotificationsShowUnread">m_mp_NotificationsShowUnread</a></li><li><a href="global.html#m_mp_NotificationsSort">m_mp_NotificationsSort</a></li><li><a href="global.html#m_mp_OpenTask">m_mp_OpenTask</a></li><li><a href="global.html#m_mp_RizomoRefreshNotifications">m_mp_RizomoRefreshNotifications</a></li><li><a href="global.html#m_mp_ShowDesktopNotification">m_mp_ShowDesktopNotification</a></li><li><a href="global.html#m_mp_ShowNotification">m_mp_ShowNotification</a></li><li><a href="global.html#m_mp_ToggleGroupOptionsUser">m_mp_ToggleGroupOptionsUser</a></li><li><a href="global.html#m_mp_UpdateCreateDoc">m_mp_UpdateCreateDoc</a></li><li><a href="global.html#m_mp_action_from_storage">m_mp_action_from_storage</a></li><li><a href="global.html#m_mp_anchor_ariane">m_mp_anchor_ariane</a></li><li><a href="global.html#m_mp_close_ariane">m_mp_close_ariane</a></li><li><a href="global.html#m_mp_full_screen_ariane">m_mp_full_screen_ariane</a></li><li><a href="global.html#m_mp_get_all_hashtag">m_mp_get_all_hashtag</a></li><li><a href="global.html#m_mp_help_video">m_mp_help_video</a></li><li><a href="global.html#m_mp_set_storage">m_mp_set_storage</a></li><li><a href="global.html#mel_metapage">mel_metapage</a></li><li><a href="global.html#mel_shortcuts_press">mel_shortcuts_press</a></li><li><a href="global.html#menuMgr">menuMgr</a></li><li><a href="global.html#menuScrollTiTask">menuScrollTiTask</a></li><li><a href="global.html#meteo">meteo</a></li><li><a href="global.html#mm_s_Action">mm_s_Action</a></li><li><a href="global.html#mm_s_AfficheResults">mm_s_AfficheResults</a></li><li><a href="global.html#mm_s_CreateOrUpdateFrame">mm_s_CreateOrUpdateFrame</a></li><li><a href="global.html#mm_s_OnClick">mm_s_OnClick</a></li><li><a href="global.html#mm_s_bodyClick">mm_s_bodyClick</a></li><li><a href="global.html#mm_s_extend">mm_s_extend</a></li><li><a href="global.html#modify_signature">modify_signature</a></li><li><a href="global.html#multi_thread_http_request">multi_thread_http_request</a></li><li><a href="global.html#noContextMenuHandler">noContextMenuHandler</a></li><li><a href="global.html#onInputChange">onInputChange</a></li><li><a href="global.html#open_dialog">open_dialog</a></li><li><a href="global.html#parseISO8601">parseISO8601</a></li><li><a href="global.html#parse_datetime">parse_datetime</a></li><li><a href="global.html#plugin_text">plugin_text</a></li><li><a href="global.html#quote_html">quote_html</a></li><li><a href="global.html#rcm_tb_label_insert">rcm_tb_label_insert</a></li><li><a href="global.html#rcm_tb_label_submenu">rcm_tb_label_submenu</a></li><li><a href="global.html#rcmail_scroller">rcmail_scroller</a></li><li><a href="global.html#rcube_event_engine">rcube_event_engine</a></li><li><a href="global.html#rcube_init_settings_tabs">rcube_init_settings_tabs</a></li><li><a href="global.html#rcube_libcalendaring">rcube_libcalendaring</a></li><li><a href="global.html#rcube_mail_ui">rcube_mail_ui</a></li><li><a href="global.html#rcube_scroller">rcube_scroller</a></li><li><a href="global.html#rcube_tasklist">rcube_tasklist</a></li><li><a href="global.html#rcube_tasklist_ui">rcube_tasklist_ui</a></li><li><a href="global.html#rcube_webmail">rcube_webmail</a></li><li><a href="global.html#rgbToHex">rgbToHex</a></li><li><a href="global.html#save_option">save_option</a></li><li><a href="global.html#save_response">save_response</a></li><li><a href="global.html#saving_lock">saving_lock</a></li><li><a href="global.html#scImgMgr">scImgMgr</a></li><li><a href="global.html#scSiRuleEnsureVisible">scSiRuleEnsureVisible</a></li><li><a href="global.html#scrollIntoView">scrollIntoView</a></li><li><a href="global.html#send_francetransfert_message">send_francetransfert_message</a></li><li><a href="global.html#send_melanissimo_message">send_melanissimo_message</a></li><li><a href="global.html#send_with_francetransfert">send_with_francetransfert</a></li><li><a href="global.html#send_with_melanissimo">send_with_melanissimo</a></li><li><a href="global.html#serialize_recurrence">serialize_recurrence</a></li><li><a href="global.html#set_recurrence_edit">set_recurrence_edit</a></li><li><a href="global.html#set_title">set_title</a></li><li><a href="global.html#set_toolbar_item_valid">set_toolbar_item_valid</a></li><li><a href="global.html#settings_da_set_email_recup">settings_da_set_email_recup</a></li><li><a href="global.html#setup_calendar">setup_calendar</a></li><li><a href="global.html#show_header_row">show_header_row</a></li><li><a href="global.html#show_password_change">show_password_change</a></li><li><a href="global.html#show_rcube_manage_labels">show_rcube_manage_labels</a></li><li><a href="global.html#snooze_dropdown">snooze_dropdown</a></li><li><a href="global.html#startX">startX</a></li><li><a href="global.html#stockage">stockage</a></li><li><a href="global.html#tasklist_options_menu">tasklist_options_menu</a></li><li><a href="global.html#text2html">text2html</a></li><li><a href="global.html#text_color">text_color</a></li><li><a href="global.html#treeMgr">treeMgr</a></li><li><a href="global.html#trigger">trigger</a></li><li><a href="global.html#unlock_saving">unlock_saving</a></li><li><a href="global.html#use_signature">use_signature</a></li><li><a href="global.html#validate_message">validate_message</a></li><li><a href="global.html#value">value</a></li><li><a href="global.html#visualValueCount">visualValueCount</a></li><li><a href="global.html#wait">wait</a></li></ul></div><div class="lnb-api hidden"><h3>Externals</h3><ul><li><a href="external-_jQuery_.html">jQuery</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:_jQuery__sub"></div></li><li><a href="external-_moment_.html">moment</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:_moment__sub"></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Client UI Javascript for the Calendar plugin
 *
 * @author Lazlo Westerhof &lt;hello@lazlo.me>
 * @author Thomas Bruederli &lt;bruederli@kolabsys.com>
 *
 * @licstart  The following is the entire license notice for the
 * JavaScript code in this file.
 *
 * Copyright (C) 2010, Lazlo Westerhof &lt;hello@lazlo.me>
 * Copyright (C) 2014-2015, Kolab Systems AG &lt;contact@kolabsys.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see &lt;http://www.gnu.org/licenses/>.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in this file.
 */

// Roundcube calendar UI client class
function rcube_calendar_ui(settings) {
  // extend base class
  rcube_calendar.call(this, settings);

  /***  member vars  ***/
  this.is_loading = false;
  this.selected_event = null;
  this.selected_calendar = null;
  this.search_request = null;
  this.saving_lock = null;
  this.calendars = {};
  this.quickview_sources = [];

  //Pamela
  /** Contst private vars */
  const width_modal_event = 700;

  /***  private vars  ***/
  var DAY_MS = 86400000;
  var HOUR_MS = 3600000;
  var me = this;
  var day_clicked = day_clicked_ts = 0;
  var ignore_click = false;
  var event_defaults = { free_busy: 'busy', alarms: '' };
  var event_attendees = [];
  var calendars_list;
  var calenders_search_list;
  var calenders_search_container;
  var search_calendars = {};
  var attendees_list;
  var resources_list;
  var resources_treelist;
  var resources_data = {};
  var resources_index = [];
  var resource_owners = {};
  var resources_events_source = { url: null, editable: false };
  var freebusy_ui = { workinhoursonly: false, needsupdate: false };
  var freebusy_data = {};
  var current_view = null;
  var count_sources = [];
  var event_sources = [];
  var exec_deferred = 1;
  var sensitivitylabels = { 'public': rcmail.gettext('public', 'calendar'), 'private': rcmail.gettext('private', 'calendar'), 'confidential': rcmail.gettext('confidential', 'calendar') };
  var ui_loading = rcmail.set_busy(true, 'loading');

  // global fullcalendar settings
  var fullcalendar_defaults = {
    theme: false,
    aspectRatio: 1,
    timezone: false,  // will treat the given date strings as in local (browser's) timezone
    monthNames: settings.months,
    monthNamesShort: settings.months_short,
    dayNames: settings.days,
    dayNamesShort: settings.days_short,
    weekNumbers: settings.show_weekno > 0,
    // PAMELA - Mode assistantes
    slotEventOverlap: false,
    // MANTIS 0006486: Bug du numéro de semaine dans le fullcalendar de l'agenda
    weekNumberCalculation: 'ISO',
    weekNumberTitle: rcmail.gettext('weekshort', 'calendar') + ' ',
    firstDay: settings.first_day,
    firstHour: settings.first_hour,
    slotDuration: { minutes: 60 / settings.timeslots },
    businessHours: {
      start: settings.work_start + ':00',
      end: settings.work_end + ':00'
    },
    scrollTime: settings.first_hour + ':00',
    views: {
      list: {
        titleFormat: settings.dates_long,
        listDayFormat: settings.date_long,
        visibleRange: function (currentDate) {
          return {
            start: currentDate.clone(),
            end: currentDate.clone().add(settings.agenda_range, 'days')
          }
        }
      },
      month: {
        columnFormat: 'ddd', // Mon
        titleFormat: 'MMMM YYYY',
        eventLimit: 4
      },
      monthWork: {
        columnFormat: 'ddd', // Mon
        titleFormat: 'MMMM YYYY',
        eventLimit: 4,
        hiddenDays: [0, 6]
      },
      // PAMELA - View week days of work
      agendaWork: {
        columnFormat: 'ddd ' + settings.date_short, // Mon 9/7
        titleFormat: settings.dates_long,
        hiddenDays: [0, 6],
        // Problème avec les journées entières
        eventLimit: 4
      },
      // PAMELA - Fullcalendar premium
      agendaResource: {
        columnFormat: 'ddd ' + settings.date_short, // Mon 9/7
        titleFormat: settings.dates_long,
        hiddenDays: [0, 6],
        groupByResource: true
      },
      timelineWeek: {
        type: 'timeline',
        duration: { weeks: 1 },
        hiddenDays: [0, 6],
        slotDuration: { days: 1 },
        slotLabelFormat: 'ddd ' + settings.date_short
      },
      agendaTwoDay: {
        type: 'agenda',
        duration: { days: 2 },
        columnFormat: 'ddd ' + settings.date_short, // Mon 9/7
        groupByResource: true,
        groupByDateAndResource: true,
        // PAMELA - Problème avec les journées entières
        eventLimit: 4
      },
      agendaThreeDay: {
        type: 'agenda',
        duration: { days: 3 },
        columnFormat: 'ddd ' + settings.date_short, // Mon 9/7
        groupByResource: true,
        groupByDateAndResource: true,
        // PAMELA - Problème avec les journées entières
        eventLimit: 4
      },
      week: {
        columnFormat: 'ddd ' + settings.date_short, // Mon 9/7
        titleFormat: settings.dates_long,
        // PAMELA - Problème avec les journées entières
        eventLimit: 4
      },
      day: {
        columnFormat: 'dddd ' + settings.date_short,  // Monday 9/7
        titleFormat: 'dddd ' + settings.date_long,
        // PAMELA - Problème avec les journées entières
        eventLimit: 4
      }
    },
    timeFormat: settings.time_format,
    slotLabelFormat: settings.time_format,
    defaultView: rcmail.env.view || settings.default_view,
    allDayText: rcmail.gettext('all-day', 'calendar'),
    buttonText: {
      today: settings['today'],
      timelineDay: rcmail.gettext('timelineday', 'calendar'),
      day: rcmail.gettext('day', 'calendar'),
      agendaTwoDay: rcmail.gettext('twoday', 'calendar'),
      agendaThreeDay: rcmail.gettext('threeday', 'calendar'),
      week: rcmail.gettext('week', 'calendar'),
      agendaWork: rcmail.gettext('work', 'calendar'),
      timelineWeek: rcmail.gettext('timelineweek', 'calendar'),
      agendaResource: rcmail.gettext('workresource', 'calendar'),
      month: rcmail.gettext('month', 'calendar'),
      monthWork: rcmail.gettext('monthWork', 'calendar'),
      list: rcmail.gettext('agenda', 'calendar')
    },
    // PAMELA - Fullcalendar premium
    resources: [],
    resourceOrder: 'order',
    resourceAreaWidth: '200px',
    schedulerLicenseKey: 'GPL-My-Project-Is-Open-Source',
    resourceLabelText: rcmail.gettext('resources', 'calendar'),
    buttonIcons: {
      prev: 'left-single-arrow',
      next: 'right-single-arrow'
    },
    nowIndicator: settings.time_indicator,
    eventLimitText: function (num) {
      return rcmail.gettext('andnmore', 'calendar').replace('$nr', num);
    },
    // event rendering
    eventRender: function (event, element, view) {
      //PAMELLA
      let eventDatas = event;
      if (rcmail.triggerEvent('calendar.renderEvent', { eventDatas, element, view }) === false) {
        element.css("display", "none");
        return;
      }

      if (view.name != 'list') {
        var prefix = event.sensitivity &amp;&amp; event.sensitivity != 'public' ? String(sensitivitylabels[event.sensitivity]).toUpperCase() + ': ' : '';
        element.attr('title', prefix + event.title);
      }
      // if (view.name != 'month') {
        if (view.name == 'list') {
          var loc = $('&lt;td>').attr('class', 'fc-event-location');
          if (event.location)
            loc.text(event.location);
          element.find('.fc-list-item-title').after(loc);
        }
        else if (event.location) {
          element.find('div.fc-title').after($('&lt;div class="fc-event-location">').html('@&amp;nbsp;' + Q(event.location)));
        }
        // PAMELA
        var time_element;
        if (event.allDay)
          time_element = element.find('.fc-content');
        else
          time_element = element.find('.fc-time');

        if (event.sensitivity &amp;&amp; event.sensitivity != 'public') time_element.prepend('&lt;i class="fc-icon-sensitive">&lt;/i>');
        if (event.recurrence) time_element.prepend('&lt;i class="fc-icon-recurring">&lt;/i>');
        if (event.alarms || (event.valarms &amp;&amp; event.valarms.length)) time_element.prepend('&lt;i class="fc-icon-alarms">&lt;/i>');
        // PAMELA - Agenda: trombone manquant sur les events pour signaler la présence d'une PJ
        if (!!event.attachments &amp;&amp; event.attachments.length > 0) time_element.prepend('&lt;i class="fc-icon-pj">&lt;/i>')
        // PAMELA - Mode assistantes
        if (event.attendee_partstart &amp;&amp; ['accepted', 'tentative'].indexOf(String(event.attendee_partstart).toLowerCase()) === -1)
          time_element.prepend('&lt;i class="fc-icon-' + String(event.attendee_partstart).toLowerCase() + '">&lt;/i>');
        else if (String(event.status).toLowerCase() == 'telework') {
          time_element.prepend('&lt;i class="fc-icon-' + String(event.status).toLowerCase() + '">&lt;/i>');
        }
        // MANTIS 0008012: Ajouter un statut "Congés"
        else if (String(event.status).toLowerCase() == 'vacation') {
          time_element.prepend('&lt;i class="fc-icon-' + String(event.status).toLowerCase() + '">&lt;/i>');
        }
      // }
      if (event.status) {
        element.addClass('cal-event-status-' + String(event.status).toLowerCase());
      }
      // PAMELA - Mode assistantes
      if (event.attendee_partstart) {
        element.addClass('cal-event-partstat-' + String(event.attendee_partstart).toLowerCase());
      }

      rcmail.triggerEvent('calendar.renderEvent.after', { eventDatas, element, view })

      set_event_colors(element, event, view.name);
      element.attr('aria-label', event.title + ', ' + me.event_date_text(event, true));

    },
    // callback when a specific event is clicked
    eventClick: function (event, ev, view) {
      if (!event.temp &amp;&amp; (!event.className || event.className.indexOf('fc-type-freebusy') &lt; 0))
        event_show_dialog(event, ev);
    }
  };

  /***  imports  ***/
  var Q = this.quote_html;
  var text2html = this.text2html;
  var event_date_text = this.event_date_text;
  var date2unixtime = this.date2unixtime;
  var fromunixtime = this.fromunixtime;
  var parseISO8601 = this.parseISO8601;
  var date2servertime = this.date2ISO8601;
  var render_message_links = this.render_message_links;


  /***  private methods  ***/

  // same as str.split(delimiter) but it ignores delimiters within quoted strings
  var explode_quoted_string = function (str, delimiter) {
    var result = [],
      strlen = str.length,
      q, p, i, chr, last;

    for (q = p = i = 0; i &lt; strlen; i++) {
      chr = str.charAt(i);
      if (chr == '"' &amp;&amp; last != '\\') {
        q = !q;
      }
      else if (!q &amp;&amp; chr == delimiter) {
        result.push(str.substring(p, i));
        p = i + 1;
      }
      last = chr;
    }

    result.push(str.substr(p));
    return result;
  };

  // Change the first charcter to uppercase
  var ucfirst = function (str) {
    return str.charAt(0).toUpperCase() + str.substr(1);
  };

  // clone the given date object and optionally adjust time
  var clone_date = function (date, adjust) {
    var d = 'toDate' in date ? date.toDate() : new Date(date.getTime());

    // set time to 00:00
    if (adjust == 1) {
      d.setHours(0);
      d.setMinutes(0);
    }
    // set time to 23:59
    else if (adjust == 2) {
      d.setHours(23);
      d.setMinutes(59);
    }

    return d;
  };

  // fix date if jumped over a DST change
  var fix_date = function (date) {
    if (date.getHours() == 23)
      date.setTime(date.getTime() + HOUR_MS);
    else if (date.getHours() > 0)
      date.setHours(0);
  };

  var date2timestring = function (date, dateonly) {
    return date2servertime(date).replace(/[^0-9]/g, '').substr(0, (dateonly ? 8 : 14));
  }

  var format_date = function (date, format) {
    return $.fullCalendar.formatDate('toDate' in date ? date : moment(date), format);
  };

  var format_datetime = function (date, mode, voice) {
    return me.format_datetime(date, mode, voice);
  }

  var render_link = function (url) {
    var islink = false, href = url;
    if (url.match(/^[fhtpsmailo]+?:\/\//i)) {
      islink = true;
    }
    else if (url.match(/^[a-z0-9.-:]+(\/|$)/i)) {
      islink = true;
      href = 'http://' + url;
    }
    return islink ? '&lt;a href="' + Q(href) + '" target="_blank">' + Q(url) + '&lt;/a>' : Q(url);
  }

  // determine whether the given date is on a weekend
  var is_weekend = function (date) {
    return date.getDay() == 0 || date.getDay() == 6;
  };

  var is_workinghour = function (date) {
    if (settings['work_start'] > settings['work_end'])
      return date.getHours() >= settings['work_start'] || date.getHours() &lt; settings['work_end'];
    else
      return date.getHours() >= settings['work_start'] &amp;&amp; date.getHours() &lt; settings['work_end'];
  };

  // PAMELA - Mode assistantes
  var hexToRgb = function(hex) {
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result ? {
      r: parseInt(result[1], 16),
      g: parseInt(result[2], 16),
      b: parseInt(result[3], 16)
    } : null;
  }

  var set_event_colors = function (element, event, mode) {
    var bg_color = '', border_color = '',
      cat = String(event.categories),
      color = event.calendar &amp;&amp; me.calendars[event.calendar] ? me.calendars[event.calendar].color : '',
      cat_color = rcmail.env.calendar_categories[cat] ? rcmail.env.calendar_categories[cat] : color;

    switch (settings.event_coloring) {
      case 1:
        bg_color = border_color = cat_color;
        break;
      case 2:
        border_color = color;
        bg_color = cat_color;
        break;
      case 3:
        border_color = cat_color;
        bg_color = color;
        break;
      default:
        bg_color = border_color = color;
        break;
    }

    var css = {
      'border-color': border_color,
      'background-color': bg_color,
      'color': me.text_color(bg_color)
    };

    // PAMELA - Mode assistantes
    if (['free', 'cancelled', 'telework'].indexOf(String(event.status).toLowerCase()) !== -1) {
      const rgb = hexToRgb(css['background-color']);
      css['background-color'] = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b}, .3)`;
      delete css['color'];
    }
    else if (['tentative'].indexOf(String(event.status).toLowerCase()) !== -1) {
      const rgb = hexToRgb(css['background-color']);
      css['background-color'] = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b}, .7)`;
    }

    if (String(css['border-color']).match(/^#?f+$/i))
      delete css['border-color'];

    $.each(css, function (i, v) { if (!v) delete css[i]; else if (v.charAt(0) != '#') css[i] = '#' + v; });

    if (mode == 'list') {
      bg_color = css['background-color'];
      if (bg_color &amp;&amp; !bg_color.match(/^#?f+$/i))
        $(element).find('.fc-event-dot').css('background-color', bg_color);
    }
    else
      $(element).css(css);
  };

  var load_attachment = function (data) {
    var event = data.record,
      query = { _id: data.attachment.id, _event: event.recurrence_id || event.id, _cal: event.calendar };

    if (event.rev)
      query._rev = event.rev;

    if (event.calendar == "--invitation--itip")
      $.extend(query, { _uid: event._uid, _part: event._part, _mbox: event._mbox });

    libkolab.load_attachment(query, data.attachment);
  };

  // build event attachments list
  var event_show_attachments = function (list, container, event, edit) {
    libkolab.list_attachments(list, container, edit, event,
      function (id) { remove_attachment(id); },
      function (data) { load_attachment(data); }
    );
  };

  var remove_attachment = function (id) {
    rcmail.env.deleted_attachments.push(id);
  };

  // event details dialog (show only)
  var event_show_dialog = function (event, ev, temp) {

    // PAMELA
    if (!temp)
      me.selected_event = event;

    var $dialog = $("#eventshow");
    var calendar = event.calendar &amp;&amp; me.calendars[event.calendar] ? me.calendars[event.calendar] : { editable: false, rights: 'lrs' };

    if ($dialog.is(':ui-dialog'))
      $dialog.dialog('close');

    // remove status-* and sensitivity-* classes
    $dialog.removeClass(function (i, oldclass) {
      var oldies = String(oldclass).split(' ');
      return $.grep(oldies, function (cls) { return cls.indexOf('status-') === 0 || cls.indexOf('sensitivity-') === 0 }).join(' ');
    });

    // convert start/end dates if not done yet by fullcalendar
    if (typeof event.start == 'string')
      event.start = parseISO8601(event.start);
    if (typeof event.end == 'string')
      event.end = parseISO8601(event.end);

    // PAMELA - 0007033: Modification d'un évenement récurrent
    if (typeof event.master_start == 'string')
      event.master_start = parseISO8601(event.master_start);
    if (typeof event.master_end == 'string')
      event.master_end = parseISO8601(event.master_end);

    // allow other plugins to do actions when event form is opened
    rcmail.triggerEvent('calendar-event-init', { o: event });

    $dialog.find('div.event-section, div.event-line, .form-group').hide();
    $('#event-title').html(Q(event.title)).show();

    if (event.location)
      $('#event-location').html('@ ' + text2html(event.location)).show();
    if (event.description)
      $('#event-description').show().find('.event-text').html(text2html(event.description, 300, 6));
    if (event.vurl)
      $('#event-url').show().find('.event-text').html(render_link(event.vurl));
    if (event.recurrence &amp;&amp; event.recurrence_text)
      $('#event-repeat').show().find('.event-text').html(Q(event.recurrence_text));
    if (event.valarms &amp;&amp; event.alarms_text)
      $('#event-alarm').show().find('.event-text').html(Q(event.alarms_text).replace(',', ',&lt;br>'));
    if (calendar.name)
      $('#event-calendar').show().find('.event-text').html(Q(calendar.name)).addClass('cal-' + calendar.id);
    if (event.categories)
      $('#event-category').show().find('.event-text').text(event.categories).addClass('cat-' + String(event.categories).toLowerCase().replace(rcmail.identifier_expr, ''));
    if (event.free_busy)
      $('#event-free-busy').show().find('.event-text').text(rcmail.gettext(event.free_busy, 'calendar'));
    if (event.priority > 0) {
      var priolabels = ['', rcmail.gettext('highest'), rcmail.gettext('high'), '', '', rcmail.gettext('normal'), '', '', rcmail.gettext('low'), rcmail.gettext('lowest')];
      $('#event-priority').show().find('.event-text').text(event.priority + ' ' + priolabels[event.priority]);
    }

    if (event.status) {
      var status_lc = String(event.status).toLowerCase();
      //Pamela - Modification du texte
      const status = status_lc === "confirmed" ? "busy" : status_lc === "free" ? "free" : `status-${status_lc}`;
      $('#event-status').show().find('.event-text').text(rcmail.gettext(status, 'calendar'));
      $('#event-status-badge > span').text(rcmail.gettext(status, 'calendar'));
      $dialog.addClass(status);//fin pamela
    }
    if (event.sensitivity &amp;&amp; event.sensitivity != 'public') {
      $('#event-sensitivity').show().find('.event-text').text(sensitivitylabels[event.sensitivity]);
      $('#event-status-badge > span').text(sensitivitylabels[event.sensitivity]);
      $dialog.addClass('sensitivity-' + event.sensitivity);
    }
    if (event.created || event.changed) {
      var created = parseISO8601(event.created),
        changed = parseISO8601(event.changed);
      $('.event-created', $dialog).text(created ? format_datetime(created) : rcmail.gettext('unknown', 'calendar'));
      $('.event-changed', $dialog).text(changed ? format_datetime(changed) : rcmail.gettext('unknown', 'calendar'));
      $('#event-created,#event-changed,#event-created-changed').show()
    }

    // create attachments list
    if ($.isArray(event.attachments)) {
      event_show_attachments(event.attachments, $('#event-attachments').find('.event-text'), event);
      if (event.attachments.length > 0) {
        $('#event-attachments').show();
      }
    }
    else if (calendar.attachments) {
      // fetch attachments, some drivers doesn't set 'attachments' prop of the event?
    }

    // build attachments list
    $('#event-links').hide();
    if ($.isArray(event.links) &amp;&amp; event.links.length) {
      render_message_links(event.links || [], $('#event-links').find('.event-text'), false, 'calendar');
      $('#event-links').show();
    }

    // list event attendees
    if (calendar.attendees &amp;&amp; event.attendees) {
      // sort resources to the end
      event.attendees.sort(function (a, b) {
        var j = a.cutype == 'RESOURCE' ? 1 : 0,
          k = b.cutype == 'RESOURCE' ? 1 : 0;
        return (j - k);
      });

      var data, mystatus = null, rsvp, line, morelink, html = '', overflow = '',
        organizer = me.is_organizer(event), num_attendees = event.attendees.length;

      for (var j = 0; j &lt; num_attendees; j++) {
        data = event.attendees[j];
        if (data.email) {
          // PAMELA - Mode assistantes
          // if (data.role != 'ORGANIZER' &amp;&amp; settings.identity.emails.indexOf(';' + data.email) >= 0) {
          if (data.role != 'ORGANIZER' &amp;&amp; calendar.owner_email.toLowerCase() == String(data.email).toLowerCase()) {
            mystatus = (data.status || 'UNKNOWN').toLowerCase();
            if (data.status == 'NEEDS-ACTION' || data.status == 'TENTATIVE' || data.rsvp)
              rsvp = mystatus;
          }
        }

        line = rcube_libcalendaring.attendee_html(data);

        if (morelink)
          overflow += ' ' + line;
        else
          html += ' ' + line;

        // stop listing attendees
        if (j == 7 &amp;&amp; num_attendees > 8) {
          morelink = $('&lt;a href="#more" class="morelink">&lt;/a>').html(rcmail.gettext('andnmore', 'calendar').replace('$nr', num_attendees - j - 1));
        }
      }

      if (html &amp;&amp; (num_attendees > 1 || !organizer)) {
        $('#event-attendees').show()
          .find('.event-text')
          .html(html)
          .find('a.mailtolink').click(event_attendee_click);

        // display all attendees in a popup when clicking the "more" link
        if (morelink) {
          $('#event-attendees .event-text').append(morelink);
          morelink.click(function (e) {
            rcmail.simple_dialog(
              '&lt;div id="all-event-attendees" class="event-attendees">' + html + overflow + '&lt;/div>',
              rcmail.gettext('tabattendees', 'calendar'),
              null,
              { width: 450, cancel_button: 'close' });
            $('#all-event-attendees a.mailtolink').click(event_attendee_click);
            return false;
          });
        }
      }

      if (mystatus &amp;&amp; !rsvp) {
        $('#event-partstat').show().find('.changersvp, .event-text')
          .removeClass('accepted tentative declined delegated needs-action unknown')
          .addClass(mystatus);
        $('#event-partstat').find('.event-text')
          .text(rcmail.gettext('status' + mystatus, 'libcalendaring'));
      }

      var show_rsvp = rsvp &amp;&amp; !organizer &amp;&amp; event.status != 'CANCELLED' &amp;&amp; me.has_permission(calendar, 'v');
      $('#event-rsvp')[(show_rsvp ? 'show' : 'hide')]();
      $('#event-rsvp .rsvp-buttons input').prop('disabled', false).filter('input[rel="' + (mystatus || '') + '"]').prop('disabled', true);

      if (show_rsvp &amp;&amp; event.comment)
        $('#event-rsvp-comment').show().find('.event-text').html(Q(event.comment));

      $('#event-rsvp a.reply-comment-toggle').show();
      $('#event-rsvp .itip-reply-comment textarea').hide().val('');

      if (event.recurrence &amp;&amp; event.id) {
        var sel = event._savemode || (event.thisandfuture ? 'future' : (event.isexception ? 'current' : 'all'));
        $('#event-rsvp .rsvp-buttons').addClass('recurring');
      }
      else {
        $('#event-rsvp .rsvp-buttons').removeClass('recurring');
      }
    }

    // PAMELA
    if (rcmail.env.calendar_custom_dialog === true) {
      return rcmail.triggerEvent("calendar.event_show_dialog.custom", {
        showed: Object.assign({}, event),
        ev: ev,
        temp: temp,
        object: me,
        calendar: calendar,
        show_rsvp: show_rsvp === undefined ? false : show_rsvp,
        functions: {
          event_edit_dialog: event_edit_dialog
        }
      });
    }

    var buttons = [], is_removable_event = function (event, calendar) {
      // for invitation calendars check permissions of the original folder
      if (event._folder_id)
        calendar = me.calendars[event._folder_id];

      return calendar &amp;&amp; me.has_permission(calendar, 'td');
    };

    if (!temp &amp;&amp; calendar.editable &amp;&amp; event.editable !== false) {
      buttons.push({
        text: rcmail.gettext('edit', 'calendar'),
        'class': 'edit mainaction',
        click: function () {
          event_edit_dialog('edit', event);
          // PAMELA - Actions à faire lorsque l'on appelle la fenêtre d'édition d'évènement
          rcmail.triggerEvent('edit-event', event);
        }
      });
    }

    if (!temp &amp;&amp; is_removable_event(event, calendar) &amp;&amp; event.editable !== false) {
      buttons.push({
        text: rcmail.gettext('delete', 'calendar'),
        'class': 'delete',
        click: function () {
          me.delete_event(event);
          $dialog.dialog('close');
        }
      });
    }

    buttons.push({
      text: rcmail.gettext('close', 'calendar'),
      'class': 'cancel',
      click: function () {
        $dialog.dialog('close');
      }
    });

    var close_func = function (e) {
      rcmail.command('menu-close', 'eventoptionsmenu', null, e);
      $('.libcal-rsvp-replymode').hide();
    };

    // open jquery UI dialog
    $dialog.dialog({
      modal: true,
      resizable: true,
      closeOnEscape: true,
      title: me.event_date_text(event),
      open: function () {
        $dialog.attr('aria-hidden', 'false');
        setTimeout(function () {
          $dialog.parent().find('button:not(.ui-dialog-titlebar-close,.delete)').first().focus();
        }, 5);
      },
      close: function (e) {
        close_func(e);
        $dialog.dialog('close');
      },
      dragStart: close_func,
      resizeStart: close_func,
      buttons: buttons,
      minWidth: 320,
      width: 420
    }).show();

    // remember opener element (to be focused on close)
    $dialog.data('opener', ev &amp;&amp; rcube_event.is_keyboard(ev) ? ev.target : null);

    // set voice title on dialog widget
    $dialog.dialog('widget').removeAttr('aria-labelledby')
      .attr('aria-label', me.event_date_text(event, true) + ', ', event.title);

    // set dialog size according to content
    me.dialog_resize($dialog.get(0), $dialog.height(), 420);

    // add link for "more options" drop-down
    if (!temp &amp;&amp; !event.temporary &amp;&amp; event.calendar != '_resource') {
      $('&lt;a>')
        .attr({ href: '#', 'class': 'dropdown-link btn btn-link options', 'data-popup-pos': 'top' })
        .text(rcmail.gettext('eventoptions', 'calendar'))
        .click(function (e) {
          return rcmail.command('menu-open', 'eventoptionsmenu', this, e);
        })
        .appendTo($dialog.parent().find('.ui-dialog-buttonset'));
    }

    rcmail.enable_command('event-history', calendar.history);

    //PAMELLA, add event
    rcmail.triggerEvent('calendar-event-dialog', { dialog: $dialog });
  };

  // event handler for clicks on an attendee link
  var event_attendee_click = function (e) {
    var cutype = $(this).attr('data-cutype'),
      mailto = this.href.substr(7);

    if (rcmail.env.calendar_resources &amp;&amp; cutype == 'RESOURCE') {
      event_resources_dialog(mailto);
    }
    else {
      rcmail.command('compose', mailto, e ? e.target : null, e);
    }

    return false;
  };

  // bring up the event dialog (jquery-ui popup)
  var event_edit_dialog = function (action, event) {
    // copy opener element from show dialog
    var op_elem = $("#eventshow:ui-dialog").data('opener');

    // close show dialog first
    $("#eventshow:ui-dialog").data('opener', null).dialog('close');

    var $dialog = $('&lt;div>');
    var calendar = event.calendar &amp;&amp; me.calendars[event.calendar] ? me.calendars[event.calendar] : { editable: true, rights: action == 'new' ? 'lrwitd' : 'lrs' };
    me.selected_event = $.extend($.extend({}, event_defaults), event);  // clone event object (with defaults)
    event = me.selected_event; // change reference to clone
    freebusy_ui.needsupdate = false;

    if (rcmail.env.action == 'dialog-ui')
      calendar.attendees = false; // TODO: allow Attendees tab in Save-as-event dialog

    // reset dialog first
    $('#eventedit form').trigger('reset');
    $('#event-panel-recurrence input, #event-panel-recurrence select, #event-panel-attachments input').prop('disabled', false);
    $('#event-panel-recurrence, #event-panel-attachments').removeClass('disabled');

    // allow other plugins to do actions when event form is opened
    rcmail.triggerEvent('calendar-event-init', { o: event });

    // event details
    var title = $('#edit-title').val(event.title || '');
    var location = $('#edit-location').val(event.location || '');
    var description = $('#edit-description').text(event.description || '');
    var vurl = $('#edit-url').val(event.vurl || '');
    var categories = $('#edit-categories').val(event.categories);
    var calendars = $('#edit-calendar').val(event.calendar);
    var eventstatus = $('#edit-event-status').val(event.status);
    var freebusy = $('#edit-free-busy').val(event.free_busy);
    var priority = $('#edit-priority').val(event.priority);
    var sensitivity = $('#edit-sensitivity').val(event.sensitivity);
    var syncstart = $('#edit-recurrence-syncstart input');
    var end = 'toDate' in event.end ? event.end : moment(event.end);
    var start = 'toDate' in event.start ? event.start : moment(event.start);
    var duration = Math.round((end.format('x') - start.format('x')) / 1000);

    // Correct the fullCalendar end date for all-day events
    if (!end.hasTime()) {
      end.subtract(1, 'days');
    }

    var startdate = $('#edit-startdate').val(format_date(start, settings.date_format)).data('duration', duration);
    var starttime = $('#edit-starttime').val(format_date(start, settings.time_format)).show();
    var enddate = $('#edit-enddate').val(format_date(end, settings.date_format));
    var endtime = $('#edit-endtime').val(format_date(end, settings.time_format)).show();
    var allday = $('#edit-allday').get(0);
    var notify = $('#edit-attendees-donotify').get(0);
    var invite = $('#edit-attendees-invite').get(0);
    var comment = $('#edit-attendees-comment');

    // make sure any calendar is selected
    if (!calendars.val())
      calendars.val($('option:first', calendars).attr('value'));

    invite.checked = settings.itip_notify &amp; 1 > 0;
    notify.checked = me.has_attendees(event) &amp;&amp; invite.checked;

    if (event.allDay) {
      //PAMELA
      // starttime.val("12:00").hide();
      // endtime.val("13:00").hide();
      allday.checked = true;
    }
    else {
      allday.checked = false;
    }

    // set calendar selection according to permissions
    calendars.find('option').each(function (i, opt) {
      var cal = me.calendars[opt.value] || {};
      $(opt).prop('disabled', !(cal.editable || (action == 'new' &amp;&amp; me.has_permission(cal, 'i'))))
    });

    // set alarm(s)
    me.set_alarms_edit('#edit-alarms', action != 'new' &amp;&amp; event.valarms &amp;&amp; calendar.alarms ? event.valarms : []);

    // enable/disable alarm property according to backend support
    $('#edit-alarms')[(calendar.alarms ? 'show' : 'hide')]();

    // check categories drop-down: add value if not exists
    if (event.categories &amp;&amp; !categories.find(`option[value="${event.categories}"]`).length) {
      $('&lt;option>').attr('value', event.categories).text(event.categories).appendTo(categories).prop('selected', true);
    }

    if ($.isArray(event.links) &amp;&amp; event.links.length) {
      render_message_links(event.links, $('#edit-event-links .event-text'), true, 'calendar');
      $('#edit-event-links').show();
    }
    else {
      $('#edit-event-links').hide();
    }

    // show warning if editing a recurring event
    if (event.id &amp;&amp; event.recurrence) {
      var sel = event._savemode || (event.thisandfuture ? 'future' : (event.isexception ? 'current' : 'all'));
      $('#edit-recurring-warning').show();
      $('input.edit-recurring-savemode[value="' + sel + '"]').prop('checked', true).change();
    }
    else
      $('#edit-recurring-warning').hide();

    // init attendees tab
    var organizer = !event.attendees || me.is_organizer(event),
      allow_invitations = organizer || (calendar.owner &amp;&amp; calendar.owner == 'anonymous') || settings.invite_shared;
    event_attendees = [];
    attendees_list = $('#edit-attendees-table > tbody').html('');
    resources_list = $('#edit-resources-table > tbody').html('');
    $('#edit-attendees-notify')[(action != 'new' &amp;&amp; allow_invitations &amp;&amp; me.has_attendees(event) &amp;&amp; (settings.itip_notify &amp; 2) ? 'show' : 'hide')]();
    // MANTIS 0006722: Si l'organisateur est interne, empecher le participant de modifier la date de l'événement
    if (me.is_internal_organizer(event)) {
      $('#edit-internallocalchanges-warning')[(action != 'new' &amp;&amp; me.has_attendees(event) &amp;&amp; !(allow_invitations || (calendar.owner &amp;&amp; me.is_organizer(event, calendar.owner))) ? 'show' : 'hide')]();
    }
    else {
      $('#edit-localchanges-warning')[(action != 'new' &amp;&amp; me.has_attendees(event) &amp;&amp; !(allow_invitations || (calendar.owner &amp;&amp; me.is_organizer(event, calendar.owner))) ? 'show' : 'hide')]();
    }

    var load_attendees_tab = function () {
      var j, data, organizer_attendee, reply_selected = 0;
      if (event.attendees) {
        for (j = 0; j &lt; event.attendees.length; j++) {
          data = event.attendees[j];
          // reset attendee status
          if (event._savemode == 'new' &amp;&amp; data.role != 'ORGANIZER') {
            data.status = 'NEEDS-ACTION';
            delete data.noreply;
          }
          add_attendee(data, !allow_invitations);
          if (allow_invitations &amp;&amp; data.role != 'ORGANIZER' &amp;&amp; !data.noreply)
            reply_selected++;

          if (data.role == 'ORGANIZER')
            organizer_attendee = data;
        }
      }

      // make sure comment box is visible if at least one attendee has reply enabled
      // or global "send invitations" checkbox is checked
      $('#eventedit .attendees-commentbox')[(reply_selected || invite.checked ? 'show' : 'hide')]();

      // select the correct organizer identity
      var identity_id = 0;
      $.each(settings.identities, function (i, v) {
        if (organizer &amp;&amp; typeof organizer == 'object' &amp;&amp; v == organizer.email) {
          identity_id = i;
          return false;
        }
      });

      // In case the user is not the (shared) event organizer we'll add the organizer to the selection list
      if (!identity_id &amp;&amp; !organizer &amp;&amp; organizer_attendee) {
        var organizer_name = organizer_attendee.email;
        if (organizer_attendee.name)
          organizer_name = '"' + organizer_attendee.name + '" &lt;' + organizer_name + '>';
        $('#edit-identities-list').append($('&lt;option value="0">').text(organizer_name));
      }

      $('#edit-identities-list').val(identity_id);
      $('#edit-attendees-form')[(allow_invitations ? 'show' : 'hide')]();
      $('#edit-attendee-schedule')[(calendar.freebusy ? 'show' : 'hide')]();
    };

    // attachments
    var load_attachments_tab = function () {
      rcmail.enable_command('remove-attachment', 'upload-file', calendar.editable &amp;&amp; !event.recurrence_id);
      rcmail.env.deleted_attachments = [];
      // we're sharing some code for uploads handling with app.js
      rcmail.env.attachments = [];
      rcmail.env.compose_id = event.id; // for rcmail.async_upload_form()

      if ($.isArray(event.attachments)) {
        event_show_attachments(event.attachments, $('#edit-attachments'), event, true);
      }
      else {
        //PAMELLA 	0006976: Persistance Message jaune
        $('#edit-internallocalchanges-warning').hide();
        $('#edit-localchanges-warning')[(action != 'new' &amp;&amp; me.has_attendees(event) &amp;&amp; !(allow_invitations || (calendar.owner &amp;&amp; me.is_organizer(event, calendar.owner))) ? 'show' : 'hide')]();
      }
    };

    // init dialog buttons
    var buttons = [],
    //PAMELLA => ADDING ASYNC
      save_func = async function () {
        var start = allday.checked ? '12:00' : $.trim(starttime.val()),
          end = allday.checked ? '13:00' : $.trim(endtime.val()),
          re = /^((0?[0-9])|(1[0-9])|(2[0-3])):([0-5][0-9])(\s*[ap]\.?m\.?)?$/i;

        if (!re.test(start) || !re.test(end)) {
          rcmail.alert_dialog(rcmail.gettext('invalideventdates', 'calendar'));
          //PAMELLA => adding trigger on not save
          rcmail.triggerEvent('calendar.not_saved');
          return false;
        }

        start = me.parse_datetime(start, startdate.val());
        end = me.parse_datetime(end, enddate.val());

        if (!title.val()) {
          rcmail.alert_dialog(rcmail.gettext('emptyeventtitle', 'calendar'));
          //PAMELLA => adding trigger on not save
          rcmail.triggerEvent('calendar.not_saved');
          return false;
        }

        if (start.getTime() > end.getTime()) {
          rcmail.alert_dialog(rcmail.gettext('invalideventdates', 'calendar'));
          //PAMELLA => adding trigger on not save
          rcmail.triggerEvent('calendar.not_saved');
          return false;
        }

        //PAMELA Ajout de ce qu'il y a entre accolades
        {
          let trigger_result = rcmail.triggerEvent('calendar.save_event');

          if (!!trigger_result?.then) trigger_result = await trigger_result;

          if (false === (trigger_result ?? true)) {
            rcmail.triggerEvent('calendar.not_saved');
            return false;
          }  
        }

        // post data to server
        var data = {
          calendar: event.calendar,
          start: date2servertime(start),
          end: date2servertime(end),
          allDay: allday.checked ? 1 : 0,
          title: title.val(),
          description: description.val(),
          location: location.val(),
          categories: categories.val(),
          vurl: vurl.val(),
          free_busy: freebusy.val(),
          priority: priority.val(),
          sensitivity: sensitivity.val(),
          status: eventstatus.val(),
          recurrence: me.serialize_recurrence(endtime.val()),
          valarms: me.serialize_alarms('#edit-alarms'),
          attendees: event_attendees,
          links: me.selected_event.links,
          deleted_attachments: rcmail.env.deleted_attachments,
          attachments: []
        };

        // uploaded attachments list
        for (var i in rcmail.env.attachments)
          if (i.match(/^rcmfile(.+)/))
            data.attachments.push(RegExp.$1);

        // read attendee roles
        $('select.edit-attendee-role').each(function (i, elem) {
          if (data.attendees[i])
            data.attendees[i].role = $(elem).val();
        });

        if (organizer)
          data._identity = $('#edit-identities-list option:selected').val();

        // per-attendee notification suppression
        var need_invitation = false;
        if (allow_invitations) {
          $.each(data.attendees, function (i, v) {
            if (v.role != 'ORGANIZER') {
              if ($('input.edit-attendee-reply[value="' + v.email + '"]').prop('checked') || v.cutype == 'RESOURCE') {
                need_invitation = true;
                delete data.attendees[i]['noreply'];
              }
              else if (settings.itip_notify > 0) {
                data.attendees[i].noreply = 1;
              }
            }
          });
        }

        // tell server to send notifications
        try {
          if ((data.attendees.length || (event.id &amp;&amp; event.attendees.length)) &amp;&amp; allow_invitations &amp;&amp; (notify.checked || invite.checked || need_invitation)) {
            data._notify = settings.itip_notify;
            data._comment = comment.val();
          }
        } catch (error) {

        }

        data.calendar = calendars.val();

        if (event.id) {
          data.id = event.id;
          if (event.recurrence)
            data._savemode = $('input.edit-recurring-savemode:checked').val();
          if (data.calendar &amp;&amp; data.calendar != event.calendar)
            data._fromcalendar = event.calendar;
        }

        if (data.recurrence &amp;&amp; syncstart.is(':checked'))
          data.syncstart = 1;

        update_event(action, data);

        if (rcmail.env.action != 'dialog-ui')
          $dialog.dialog("close");
      };

    rcmail.env.event_save_func = save_func;

    // save action
    buttons.push({
      text: rcmail.gettext('save', 'calendar'),
      'class': 'save mainaction',
      click: save_func
    });

    buttons.push({
      text: rcmail.gettext('cancel', 'calendar'),
      'class': 'cancel',
      click: function () {
        $dialog.dialog("close");
      }
    });

    // show/hide tabs according to calendar's feature support and activate first tab (Larry)
    $('#edit-tab-attendees')[(calendar.attendees ? 'show' : 'hide')]();
    $('#edit-tab-resources')[(rcmail.env.calendar_resources ? 'show' : 'hide')]();
    $('#edit-tab-attachments')[(calendar.attachments ? 'show' : 'hide')]();
    $('#eventedit:not([data-notabs])').tabs('option', 'active', 0); // Larry

    // show/hide tabs according to calendar's feature support and activate first tab (Ellastic)
    $('li > a[href="#event-panel-attendees"]').parent()[(calendar.attendees ? 'show' : 'hide')]();
    $('li > a[href="#event-panel-resources"]').parent()[(rcmail.env.calendar_resources ? 'show' : 'hide')]();
    $('li > a[href="#event-panel-attachments"]').parent()[(calendar.attachments ? 'show' : 'hide')]();
    if ($('#eventedit').data('notabs'))
      $('#eventedit li.nav-item:first-child a').tab('show');

    // hack: set task to 'calendar' to make all dialog actions work correctly
    var comm_path_before = rcmail.env.comm_path;
    rcmail.env.comm_path = comm_path_before.replace(/_task=[a-z]+/, '_task=calendar');

    var editform = $("#eventedit");

    if (rcmail.env.action != 'dialog-ui') {
      // open jquery UI dialog
      $dialog.dialog({
        modal: true,
        resizable: true,
        closeOnEscape: true /**PAMELA **/,
        title: rcmail.gettext((action == 'edit' ? 'edit_event' : 'new_event'), 'calendar'),
        open: function () {
          editform.attr('aria-hidden', 'false');
        },
        close: function () {
          editform.hide().attr('aria-hidden', 'true').appendTo(document.body);
          $dialog.dialog("destroy").remove();
          rcmail.ksearch_blur();
          freebusy_data = {};
          rcmail.env.comm_path = comm_path_before;  // restore comm_path
          if (op_elem)
            $(op_elem).focus();
        },
        buttons: buttons,
        minWidth: 500,
        width: width_modal_event
      }).append(editform.show());  // adding form content AFTERWARDS massively speeds up opening on IE6

      // set dialog size according to form content
      me.dialog_resize($dialog.get(0), editform.height() + (bw.ie ? 20 : 0), width_modal_event);

      rcmail.triggerEvent('calendar-event-dialog', { dialog: $dialog });
    }

    // init other tabs asynchronously
    window.setTimeout(function () { me.set_recurrence_edit(event); }, exec_deferred);
    if (calendar.attendees)
      window.setTimeout(load_attendees_tab, exec_deferred);
    if (calendar.attachments)
      window.setTimeout(load_attachments_tab, exec_deferred);

    title.select();
    // PAMELA - Actions à faire lorsque l'on appelle la fenêtre d'édition d'évènement
    if (action === "new")
      rcmail.triggerEvent("edit-event", event);
  };

  // show event changelog in a dialog
  var event_history_dialog = function (event) {
    if (!event.id || !window.libkolab_audittrail)
      return false

    // render dialog
    var $dialog = libkolab_audittrail.object_history_dialog({
      module: 'calendar',
      container: '#eventhistory',
      title: rcmail.gettext('objectchangelog', 'calendar') + ' - ' + event.title + ', ' + me.event_date_text(event),

      // callback function for list actions
      listfunc: function (action, rev) {
        me.loading_lock = rcmail.set_busy(true, 'loading', me.loading_lock);
        rcmail.http_post('event', { action: action, e: { id: event.id, calendar: event.calendar, rev: rev } }, me.loading_lock);
      },

      // callback function for comparing two object revisions
      comparefunc: function (rev1, rev2) {
        me.loading_lock = rcmail.set_busy(true, 'loading', me.loading_lock);
        rcmail.http_post('event', { action: 'diff', e: { id: event.id, calendar: event.calendar, rev1: rev1, rev2: rev2 } }, me.loading_lock);
      }
    });

    $dialog.data('event', event);

    // fetch changelog data
    me.loading_lock = rcmail.set_busy(true, 'loading', me.loading_lock);
    rcmail.http_post('event', { action: 'changelog', e: { id: event.id, calendar: event.calendar } }, me.loading_lock);
  };

  // callback from server with changelog data
  var render_event_changelog = function (data) {
    var $dialog = $('#eventhistory'),
      event = $dialog.data('event');

    if (data === false || !data.length || !event) {
      // display 'unavailable' message
      $('&lt;div class="notfound-message dialog-message warning">' + rcmail.gettext('objectchangelognotavailable', 'calendar') + '&lt;/div>')
        .insertBefore($dialog.find('.changelog-table').hide());
      return;
    }

    data.module = 'calendar';
    libkolab_audittrail.render_changelog(data, event, me.calendars[event.calendar]);

    // set dialog size according to content
    me.dialog_resize($dialog.get(0), $dialog.height(), 600);
  };

  // callback from server with event diff data
  var event_show_diff = function (data) {
    var event = me.selected_event,
      $dialog = $("#eventdiff");

    $dialog.find('div.event-section, div.event-line, h1.event-title-new').hide().data('set', false).find('.index').html('');
    $dialog.find('div.event-section.clone, div.event-line.clone').remove();

    // always show event title and date
    $('.event-title', $dialog).text(event.title).removeClass('event-text-old').show();
    $('.event-date', $dialog).text(me.event_date_text(event)).show();

    // show each property change
    $.each(data.changes, function (i, change) {
      var prop = change.property, r2, html = false,
        row = $('div.event-' + prop, $dialog).first();

      // special case: title
      if (prop == 'title') {
        $('.event-title', $dialog).addClass('event-text-old').text(change['old'] || '--');
        $('.event-title-new', $dialog).text(change['new'] || '--').show();
      }

      // no display container for this property
      if (!row.length) {
        return true;
      }

      // clone row if already exists
      if (row.data('set')) {
        r2 = row.clone().addClass('clone').insertAfter(row);
        row = r2;
      }

      // format dates
      if (['start', 'end', 'changed'].indexOf(prop) >= 0) {
        if (change['old']) change.old_ = me.format_datetime(parseISO8601(change['old']));
        if (change['new']) change.new_ = me.format_datetime(parseISO8601(change['new']));
      }
      // render description text
      else if (prop == 'description') {
        // TODO: show real text diff
        if (!change.diff_ &amp;&amp; change['old']) change.old_ = text2html(change['old']);
        if (!change.diff_ &amp;&amp; change['new']) change.new_ = text2html(change['new']);
        html = true;
      }
      // format attendees struct
      else if (prop == 'attendees') {
        if (change['old']) change.old_ = rcube_libcalendaring.attendee_html(change['old']);
        if (change['new']) change.new_ = rcube_libcalendaring.attendee_html($.extend({}, change['old'] || {}, change['new']));
        html = true;
      }
      // localize priority values
      else if (prop == 'priority') {
        var priolabels = ['', rcmail.gettext('highest'), rcmail.gettext('high'), '', '', rcmail.gettext('normal'), '', '', rcmail.gettext('low'), rcmail.gettext('lowest')];
        if (change['old']) change.old_ = change['old'] + ' ' + (priolabels[change['old']] || '');
        if (change['new']) change.new_ = change['new'] + ' ' + (priolabels[change['new']] || '');
      }
      // localize status
      else if (prop == 'status') {
        var status_lc = String(event.status).toLowerCase();
        if (change['old']) change.old_ = rcmail.gettext(String(change['old']).toLowerCase(), 'calendar');
        if (change['new']) change.new_ = rcmail.gettext(String(change['new']).toLowerCase(), 'calendar');
      }

      // format attachments struct
      if (prop == 'attachments') {
        if (change['old']) event_show_attachments([change['old']], row.children('.event-text-old'), event, false);
        else row.children('.event-text-old').text('--');
        if (change['new']) event_show_attachments([$.extend({}, change['old'] || {}, change['new'])], row.children('.event-text-new'), event, false);
        else row.children('.event-text-new').text('--');
        // remove click handler as we're currentyl not able to display the according attachment contents
        $('.attachmentslist li a', row).unbind('click').removeAttr('href');
      }
      else if (change.diff_) {
        row.children('.event-text-diff').html(change.diff_);
        row.children('.event-text-old, .event-text-new').hide();
      }
      else {
        if (!html) {
          // escape HTML characters
          change.old_ = Q(change.old_ || change['old'] || '--')
          change.new_ = Q(change.new_ || change['new'] || '--')
        }
        row.children('.event-text-old').html(change.old_ || change['old'] || '--');
        row.children('.event-text-new').html(change.new_ || change['new'] || '--');
      }

      // display index number
      if (typeof change.index != 'undefined') {
        row.find('.index').html('(' + change.index + ')');
      }

      row.show().data('set', true);

      // hide event-date line
      if (prop == 'start' || prop == 'end')
        $('.event-date', $dialog).hide();
    });

    var buttons = [{
      text: rcmail.gettext('close', 'calendar'),
      'class': 'cancel',
      click: function () { $dialog.dialog('close'); }
    }];

    // open jquery UI dialog
    $dialog.dialog({
      modal: false,
      resizable: true,
      closeOnEscape: true,
      title: rcmail.gettext('objectdiff', 'calendar').replace('$rev1', data.rev1).replace('$rev2', data.rev2) + ' - ' + event.title,
      open: function () {
        $dialog.attr('aria-hidden', 'false');
        setTimeout(function () {
          $dialog.parent().find('button:not(.ui-dialog-titlebar-close)').first().focus();
        }, 5);
      },
      close: function () {
        $dialog.dialog('destroy').attr('aria-hidden', 'true').hide();
      },
      buttons: buttons,
      minWidth: 320,
      width: 450
    }).show();

    // set dialog size according to content
    me.dialog_resize($dialog.get(0), $dialog.height(), 400);
  };

  // close the event history dialog
  var close_history_dialog = function () {
    $('#eventhistory, #eventdiff').each(function (i, elem) {
      var $dialog = $(elem);
      if ($dialog.is(':ui-dialog'))
        $dialog.dialog('close');
    });
  }

  // exports
  this.event_show_diff = event_show_diff;
  this.event_show_dialog = event_show_dialog;
  this.event_history_dialog = event_history_dialog;
  this.render_event_changelog = render_event_changelog;
  this.close_history_dialog = close_history_dialog;

  // open a dialog to display detailed free-busy information and to find free slots
  var event_freebusy_dialog = function () {
    var $dialog = $('#eventfreebusy'),
      event = me.selected_event;

    if ($dialog.is(':ui-dialog'))
      $dialog.dialog('close');

    if (!event_attendees.length)
      return false;

    //PAMELLA
    event.start = moment($("#edit-startdate").val() + " " + $("#edit-starttime").val(), "DD/MM/YYYY HH:mm");
    event.end = moment($("#edit-enddate").val() + " " + $("#edit-endtime").val(), "DD/MM/YYYY HH:mm");

    // set form elements
    var allday = $('#edit-allday').get(0);
    var end = 'toDate' in event.end ? event.end : moment(event.end);
    var start = 'toDate' in event.start ? event.start : moment(event.start);
    var duration = Math.round((end.format('x') - start.format('x')) / 1000);

    freebusy_ui.startdate = $('#schedule-startdate').val(format_date(start, settings.date_format)).data('duration', duration);
    freebusy_ui.starttime = $('#schedule-starttime').val(format_date(start, settings.time_format)).show();
    freebusy_ui.enddate = $('#schedule-enddate').val(format_date(end, settings.date_format));
    freebusy_ui.endtime = $('#schedule-endtime').val(format_date(end, settings.time_format)).show();

    if (allday.checked) {
      freebusy_ui.starttime.val("12:00").hide();
      freebusy_ui.endtime.val("13:00").hide();
      event.allDay = true;
    }

    // read attendee roles from drop-downs
    $('select.edit-attendee-role').each(function (i, elem) {
      if (event_attendees[i])
        event_attendees[i].role = $(elem).val();
    });

    // render time slots
    var now = new Date(), fb_start = new Date(), fb_end = new Date();
    fb_start.setTime(event.start);
    fb_start.setHours(0); fb_start.setMinutes(0); fb_start.setSeconds(0); fb_start.setMilliseconds(0);
    fb_end.setTime(fb_start.getTime() + DAY_MS);

    freebusy_data = { required: {}, all: {} };
    freebusy_ui.loading = 1;  // prevent render_freebusy_grid() to load data yet
    freebusy_ui.numdays = Math.max(allday.checked ? 14 : 1, Math.ceil(duration * 2 / 86400));
    freebusy_ui.interval = allday.checked ? 1440 : (60 / (settings.timeslots || 1));
    freebusy_ui.start = fb_start;
    freebusy_ui.end = new Date(freebusy_ui.start.getTime() + DAY_MS * freebusy_ui.numdays);
    render_freebusy_grid(0);

    // render list of attendees
    freebusy_ui.attendees = {};
    var domid, dispname, data, role_html, list_html = '';
    for (var i = 0; i &lt; event_attendees.length; i++) {
      data = event_attendees[i];
      dispname = Q(data.name || data.email);
      domid = String(data.email).replace(rcmail.identifier_expr, '');
      role_html = '&lt;a class="attendee-role-toggle" id="rcmlia' + domid + '" title="' + Q(rcmail.gettext('togglerole', 'calendar')) + '">&amp;nbsp;&lt;/a>';
      list_html += '&lt;div class="attendee ' + String(data.role).toLowerCase() + '" id="rcmli' + domid + '">' + role_html + dispname + '&lt;/div>';

      // clone attendees data for local modifications
      freebusy_ui.attendees[i] = freebusy_ui.attendees[domid] = $.extend({}, data);
    }

    // add total row
    list_html += '&lt;div class="attendee spacer">&amp;nbsp;&lt;/div>';
    list_html += '&lt;div class="attendee total">' + rcmail.gettext('reqallattendees', 'calendar') + '&lt;/div>';

    $('#schedule-attendees-list').html(list_html)
      .unbind('click.roleicons')
      .bind('click.roleicons', function (e) {
        // toggle attendee status upon click on icon
        if (e.target.id &amp;&amp; e.target.id.match(/rcmlia(.+)/)) {
          var attendee, domid = RegExp.$1,
            roles = ['REQ-PARTICIPANT', 'OPT-PARTICIPANT', 'NON-PARTICIPANT', 'CHAIR'];
          if ((attendee = freebusy_ui.attendees[domid]) &amp;&amp; attendee.role != 'ORGANIZER') {
            var req = attendee.role != 'OPT-PARTICIPANT' &amp;&amp; attendee.role != 'NON-PARTICIPANT';
            var j = $.inArray(attendee.role, roles);
            j = (j + 1) % roles.length;
            attendee.role = roles[j];
            $(e.target).parent().attr('class', 'attendee ' + String(attendee.role).toLowerCase());

            // update total display if required-status changed
            if (req != (roles[j] != 'OPT-PARTICIPANT' &amp;&amp; roles[j] != 'NON-PARTICIPANT')) {
              compute_freebusy_totals();
              update_freebusy_display(attendee.email);
            }
          }
        }

        return false;
      });

    // enable/disable buttons
    $('#schedule-find-prev').prop('disabled', fb_start.getTime() &lt; now.getTime());

    // dialog buttons
    var buttons = [
      {
        text: rcmail.gettext('select', 'calendar'),
        'class': 'save mainaction',
        click: function () {
          $('#edit-startdate').val(freebusy_ui.startdate.val());
          $('#edit-starttime').val(freebusy_ui.starttime.val());
          $('#edit-enddate').val(freebusy_ui.enddate.val());
          $('#edit-endtime').val(freebusy_ui.endtime.val());

          // write role changes back to main dialog
          $('select.edit-attendee-role').each(function (i, elem) {
            if (event_attendees[i] &amp;&amp; freebusy_ui.attendees[i]) {
              event_attendees[i].role = freebusy_ui.attendees[i].role;
              $(elem).val(event_attendees[i].role);
            }
          });

          if (freebusy_ui.needsupdate)
            update_freebusy_status(me.selected_event);
          freebusy_ui.needsupdate = false;
          $dialog.dialog("close");
          // PAMELA - met à jour la date après la sauvegarde des disponibilités
          rcmail.triggerEvent("dialog-attendees-save", {
            start: {
              date: freebusy_ui.startdate.val(),
              time: freebusy_ui.starttime.val()
            },
            end: {
              date: freebusy_ui.enddate.val(),
              time: freebusy_ui.endtime.val()
            }
          });
        }
      },
      {
        text: rcmail.gettext('cancel', 'calendar'),
        'class': 'cancel',
        click: function () { $dialog.dialog("close"); }
      }
    ];

    $dialog.dialog({
      modal: true,
      resizable: true,
      closeOnEscape: true,
      title: rcmail.gettext('scheduletime', 'calendar'),
      open: function () {
        rcmail.ksearch_blur();
        $dialog.attr('aria-hidden', 'false').find('#schedule-find-next, #schedule-find-prev').not(':disabled').first().focus();
      },
      close: function () {
        $dialog.dialog("destroy").attr('aria-hidden', 'true').hide();
        // TODO: focus opener button
      },
      resizeStop: function () {
        render_freebusy_overlay();
      },
      buttons: buttons,
      minWidth: 640,
      width: 850
    }).show();
    // PAMELA - correction (ne pas mettre si corriger lors d'une nouvelle version)
    setTimeout(() => {
      $dialog.dialog({
        modal: true,
        resizable: true,
        closeOnEscape: true,
        title: rcmail.gettext('scheduletime', 'calendar'),
        open: function () {
          rcmail.ksearch_blur();
          $dialog.attr('aria-hidden', 'false').find('#schedule-find-next, #schedule-find-prev').not(':disabled').first().focus();
        },
        close: function () {
          $dialog.dialog("destroy").attr('aria-hidden', 'true').hide();
          // TODO: focus opener button
        },
        resizeStop: function () {
          render_freebusy_overlay();
        },
        buttons: buttons,
        minWidth: 640,
        width: 850
      }).show();
    }, 50);

    // adjust dialog size to fit grid without scrolling
    var gridw = $('#schedule-freebusy-times').width();
    var overflow = gridw - $('#attendees-freebusy-table td.times').width();
    me.dialog_resize($dialog.get(0), $dialog.height() + (bw.ie ? 20 : 0), 800 + Math.max(0, overflow));

    // fetch data from server
    freebusy_ui.loading = 0;
    load_freebusy_data(freebusy_ui.start, freebusy_ui.interval);
  };

  // render an HTML table showing free-busy status for all the event attendees
  var render_freebusy_grid = function (delta) {
    if (delta) {
      freebusy_ui.start.setTime(freebusy_ui.start.getTime() + DAY_MS * delta);
      fix_date(freebusy_ui.start);

      // skip weekends if in workinhoursonly-mode
      if (Math.abs(delta) == 1 &amp;&amp; freebusy_ui.workinhoursonly) {
        while (is_weekend(freebusy_ui.start))
          freebusy_ui.start.setTime(freebusy_ui.start.getTime() + DAY_MS * delta);
        fix_date(freebusy_ui.start);
      }

      freebusy_ui.end = new Date(freebusy_ui.start.getTime() + DAY_MS * freebusy_ui.numdays);
    }

    var dayslots = Math.floor(1440 / freebusy_ui.interval);
    var date_format = 'ddd ' + (dayslots &lt;= 2 ? settings.date_short : settings.date_format);
    var lastdate, datestr, css,
      curdate = new Date(),
      allday = (freebusy_ui.interval == 1440),
      interval = allday ? 1440 : (freebusy_ui.interval * (settings.timeslots || 1));
    times_css = (allday ? 'allday ' : ''),
      dates_row = '&lt;tr class="dates">',
      times_row = '&lt;tr class="times">',
      slots_row = '';

    for (var s = 0, t = freebusy_ui.start.getTime(); t &lt; freebusy_ui.end.getTime(); s++) {
      curdate.setTime(t);
      datestr = format_date(curdate, date_format);
      if (datestr != lastdate) {
        if (lastdate &amp;&amp; !allday) break;
        dates_row += '&lt;th colspan="' + dayslots + '" class="boxtitle date' + format_date(curdate, 'DDMMYYYY') + '">' + Q(datestr) + '&lt;/th>';
        lastdate = datestr;
      }

      // set css class according to working hours
      css = is_weekend(curdate) || (freebusy_ui.interval &lt;= 60 &amp;&amp; !is_workinghour(curdate)) ? 'offhours' : 'workinghours';
      times_row += '&lt;th scope="col" class="' + times_css + css + '" id="t-' + Math.floor(t / 1000) + '">' + Q(allday ? rcmail.gettext('all-day', 'calendar') : format_date(curdate, settings.time_format)) + '&lt;/th>';
      slots_row += '&lt;td class="' + css + '">&amp;nbsp;&lt;/td>';

      t += interval * 60000;
    }
    dates_row += '&lt;/tr>';
    times_row += '&lt;/tr>';

    // render list of attendees
    var domid, data, list_html = '', times_html = '';
    for (var i = 0; i &lt; event_attendees.length; i++) {
      data = event_attendees[i];
      domid = String(data.email).replace(rcmail.identifier_expr, '');
      times_html += '&lt;tr id="fbrow' + domid + '" class="fbcontent">' + slots_row + '&lt;/tr>';
    }

    // add line for all/required attendees
    times_html += '&lt;tr class="spacer">&lt;td colspan="' + (dayslots * freebusy_ui.numdays) + '">&lt;/td>';
    times_html += '&lt;tr id="fbrowall" class="fbcontent">' + slots_row + '&lt;/tr>';

    var table = $('#schedule-freebusy-times');
    table.children('thead').html(dates_row + times_row);
    table.children('tbody').html(times_html);

    // initialize event handlers on grid
    if (!freebusy_ui.grid_events) {
      freebusy_ui.grid_events = true;
      table.children('thead').click(function (e) {
        // move event to the clicked date/time
        if (e.target.id &amp;&amp; e.target.id.match(/t-(\d+)/)) {
          var newstart = new Date(RegExp.$1 * 1000);
          // set time to 00:00
          if (me.selected_event.allDay) {
            newstart.setMinutes(0);
            newstart.setHours(0);
          }
          update_freebusy_dates(newstart, new Date(newstart.getTime() + freebusy_ui.startdate.data('duration') * 1000));
          render_freebusy_overlay();
        }
      });
    }

    // if we have loaded free-busy data, show it
    if (!freebusy_ui.loading) {
      if (freebusy_ui.start &lt; freebusy_data.start || freebusy_ui.end > freebusy_data.end || freebusy_ui.interval != freebusy_data.interval) {
        load_freebusy_data(freebusy_ui.start, freebusy_ui.interval);
      }
      else {
        for (var email, i = 0; i &lt; event_attendees.length; i++) {
          if ((email = event_attendees[i].email))
            update_freebusy_display(email);
        }
      }
    }

    // render current event date/time selection over grid table
    // use timeout to let the dom attributes (width/height/offset) be set first
    window.setTimeout(function () { render_freebusy_overlay(); }, 10);
  };

  // render overlay element over the grid to visiualize the current event date/time
  var render_freebusy_overlay = function () {
    var overlay = $('#schedule-event-time'),
      event_start = 'toDate' in me.selected_event.start ? me.selected_event.start.toDate() : me.selected_event.start;
    event_end = 'toDate' in me.selected_event.end ? me.selected_event.end.toDate() : me.selected_event.end;

    if (event_end.getTime() &lt;= freebusy_ui.start.getTime() || event_start.getTime() >= freebusy_ui.end.getTime()) {
      overlay.hide();
      if (overlay.data('isdraggable'))
        overlay.draggable('disable');
    }
    else {
      var i, n, table = $('#schedule-freebusy-times'),
        width = 0,
        pos = { top: table.children('thead').height(), left: 0 },
        eventstart = date2unixtime(clone_date(me.selected_event.start, me.selected_event.allDay ? 1 : 0)),
        eventend = date2unixtime(clone_date(me.selected_event.end, me.selected_event.allDay ? 2 : 0)) - 60,
        slotstart = date2unixtime(freebusy_ui.start),
        slotsize = freebusy_ui.interval * 60,
        slotnum = freebusy_ui.interval > 60 ? 1 : (60 / freebusy_ui.interval),
        // PAMELA - Fix accessibility
        cells = table.children('thead').find('tr.times th'),
        cell_width = cells.first().get(0).offsetWidth,
        h_margin = table.parents('table').data('h-margin'),
        v_margin = table.parents('table').data('v-margin'),
        slotend;

      if (h_margin === undefined)
        h_margin = 4;
      if (v_margin === undefined)
        v_margin = 4;

      // iterate through slots to determine position and size of the overlay
      for (i = 0; i &lt; cells.length; i++) {
        for (n = 0; n &lt; slotnum; n++) {
          slotend = slotstart + slotsize - 1;
          // event starts in this slot: compute left
          if (eventstart >= slotstart &amp;&amp; eventstart &lt;= slotend) {
            pos.left = Math.round(i * cell_width + (cell_width / slotnum) * n);
          }
          // event ends in this slot: compute width
          if (eventend >= slotstart &amp;&amp; eventend &lt;= slotend) {
            width = Math.round(i * cell_width + (cell_width / slotnum) * (n + 1)) - pos.left;
          }
          slotstart += slotsize;
        }
      }

      if (!width)
        width = table.width() - pos.left;

      // overlay is visible
      if (width > 0) {
        overlay.css({
          width: (width - h_margin) + 'px',
          height: (table.children('tbody').height() - v_margin) + 'px',
          left: pos.left + 'px',
          top: pos.top + 'px'
        }).show();

        // configure draggable
        if (!overlay.data('isdraggable')) {
          overlay.draggable({
            axis: 'x',
            scroll: true,
            stop: function (e, ui) {
              // convert pixels to time
              var px = ui.position.left;
              var range_p = $('#schedule-freebusy-times').width();
              var range_t = freebusy_ui.end.getTime() - freebusy_ui.start.getTime();
              var newstart = new Date(freebusy_ui.start.getTime() + px * (range_t / range_p));
              newstart.setSeconds(0); newstart.setMilliseconds(0);
              // snap to day boundaries
              if (me.selected_event.allDay) {
                if (newstart.getHours() >= 12)  // snap to next day
                  newstart.setTime(newstart.getTime() + DAY_MS);
                newstart.setMinutes(0);
                newstart.setHours(0);
              }
              else {
                // round to 5 minutes
                // @TODO: round to timeslots?
                var round = newstart.getMinutes() % 5;
                if (round > 2.5) newstart.setTime(newstart.getTime() + (5 - round) * 60000);
                else if (round > 0) newstart.setTime(newstart.getTime() - round * 60000);
              }
              // update event times and display
              update_freebusy_dates(newstart, new Date(newstart.getTime() + freebusy_ui.startdate.data('duration') * 1000));
              if (me.selected_event.allDay)
                render_freebusy_overlay();
            }
          }).data('isdraggable', true);
        }
        else
          overlay.draggable('enable');
      }
      else
        overlay.draggable('disable').hide();
    }
  };

  // fetch free-busy information for each attendee from server
  var load_freebusy_data = function (from, interval) {
    var start = new Date(from.getTime() - DAY_MS * 2);  // start 2 days before event
    fix_date(start);
    var end = new Date(start.getTime() + DAY_MS * Math.max(14, freebusy_ui.numdays + 7));   // load min. 14 days
    freebusy_ui.numrequired = 0;
    freebusy_data.all = [];
    freebusy_data.required = [];

    // load free-busy information for every attendee
    var domid, email;
    for (var i = 0; i &lt; event_attendees.length; i++) {
      if ((email = event_attendees[i].email)) {
        domid = String(email).replace(rcmail.identifier_expr, '');
        $('#rcmli' + domid).addClass('loading');
        freebusy_ui.loading++;

        $.ajax({
          type: 'GET',
          dataType: 'json',
          url: rcmail.get_task_url("calendar&amp;_action=freebusy-times"),// rcmail.url('freebusy-times'),
          data: { email: email, start: date2servertime(clone_date(start, 1)), end: date2servertime(clone_date(end, 2)), interval: interval, _remote: 1 },
          success: function (data) {
            freebusy_ui.loading--;

            // find attendee
            var i, attendee = null;
            for (i = 0; i &lt; event_attendees.length; i++) {
              if (freebusy_ui.attendees[i].email == data.email) {
                attendee = freebusy_ui.attendees[i];
                break;
              }
            }

            // copy data to member var
            var ts, status,
              req = attendee.role != 'OPT-PARTICIPANT',
              start = parseISO8601(data.start);

            freebusy_data.start = new Date(start);
            freebusy_data.end = parseISO8601(data.end);
            freebusy_data.interval = data.interval;
            freebusy_data[data.email] = {};

            for (i = 0; i &lt; data.slots.length; i++) {
              ts = date2timestring(start, data.interval > 60);
              status = data.slots.charAt(i);
              freebusy_data[data.email][ts] = status
              start = new Date(start.getTime() + data.interval * 60000);

              // set totals
              if (!freebusy_data.required[ts])
                freebusy_data.required[ts] = [0, 0, 0, 0];
              if (req)
                freebusy_data.required[ts][status]++;

              if (!freebusy_data.all[ts])
                freebusy_data.all[ts] = [0, 0, 0, 0];
              freebusy_data.all[ts][status]++;
            }

            // hide loading indicator
            var domid = String(data.email).replace(rcmail.identifier_expr, '');
            $('#rcmli' + domid).removeClass('loading');

            // update display
            update_freebusy_display(data.email);
          }
        });

        // count required attendees
        if (freebusy_ui.attendees[i].role != 'OPT-PARTICIPANT')
          freebusy_ui.numrequired++;
      }
    }
  };

  // re-calculate total status after role change
  var compute_freebusy_totals = function () {
    freebusy_ui.numrequired = 0;
    freebusy_data.all = [];
    freebusy_data.required = [];

    var email, req, status;
    for (var i = 0; i &lt; event_attendees.length; i++) {
      if (!(email = event_attendees[i].email))
        continue;

      req = freebusy_ui.attendees[i].role != 'OPT-PARTICIPANT';
      if (req)
        freebusy_ui.numrequired++;

      for (var ts in freebusy_data[email]) {
        if (!freebusy_data.required[ts])
          freebusy_data.required[ts] = [0, 0, 0, 0];
        if (!freebusy_data.all[ts])
          freebusy_data.all[ts] = [0, 0, 0, 0];

        status = freebusy_data[email][ts];
        freebusy_data.all[ts][status]++;

        if (req)
          freebusy_data.required[ts][status]++;
      }
    }
  };

  // update free-busy grid with status loaded from server
  var update_freebusy_display = function (email) {
    // MANTIS 0006913: Ajouter un statut « travail ailleurs » sur les événements
    // MANTIS 0008012: Ajouter un statut "Congés"
    var status_classes = ['unknown', 'free', 'busy', 'tentative', 'out-of-office', 'telework', 'vacation'];
    var domid = String(email).replace(rcmail.identifier_expr, '');
    var row = $('#fbrow' + domid);
    var rowall = $('#fbrowall').children();
    var dateonly = freebusy_ui.interval > 60,
      t, ts = date2timestring(freebusy_ui.start, dateonly),
      curdate = new Date(),
      fbdata = freebusy_data[email];

    if (fbdata &amp;&amp; fbdata[ts] !== undefined &amp;&amp; row.length) {
      t = freebusy_ui.start.getTime();
      row.children().each(function (i, cell) {
        var j, n, attr, last, all_slots = [], slots = [],
          all_cell = rowall.get(i),
          cnt = dateonly ? 1 : (60 / freebusy_ui.interval),
          percent = (100 / cnt);

        for (n = 0; n &lt; cnt; n++) {
          curdate.setTime(t);
          ts = date2timestring(curdate, dateonly);
          attr = {
            'style': 'float:left; width:' + percent.toFixed(2) + '%',
            'class': fbdata[ts] ? status_classes[fbdata[ts]] : 'unknown'
          };

          slots.push($('&lt;div>').attr(attr));

          // also update total row if all data was loaded
          if (!freebusy_ui.loading &amp;&amp; freebusy_data.all[ts] &amp;&amp; all_cell) {
            var w, all_status = freebusy_data.all[ts][2] ? 'busy' : 'unknown',
              req_status = freebusy_data.required[ts][2] ? 'busy' : 'free';

            for (j = 1; j &lt; status_classes.length; j++) {
              if (freebusy_ui.numrequired &amp;&amp; freebusy_data.required[ts][j] >= freebusy_ui.numrequired)
                req_status = status_classes[j];
              if (freebusy_data.all[ts][j] == event_attendees.length)
                all_status = status_classes[j];
            }

            attr['class'] = req_status + ' all-' + all_status;

            // these elements use some specific styling, so we want to minimize their number
            if (last &amp;&amp; last.attr('class').startsWith(attr['class'])) {
              w = percent + parseFloat(last.css('width').replace('%', ''));
              last.css('width', w.toFixed(2) + '%').attr('class', attr['class'] + ' w' + w.toFixed(0));
            }
            else {
              last = $('&lt;div>').attr(attr).addClass('w' + percent.toFixed(0)).append('&lt;span>');
              all_slots.push(last);
            }
          }

          t += freebusy_ui.interval * 60000;
        }

        $(cell).html('').append(slots);
        if (all_slots.length)
          $(all_cell).html('').append(all_slots);
      });
    }
  };

  // write changed event date/times back to form fields
  var update_freebusy_dates = function (start, end) {
    // fix all-day evebt times
    if (me.selected_event.allDay) {
      var numdays = Math.floor((me.selected_event.end.getTime() - me.selected_event.start.getTime()) / DAY_MS);
      start.setHours(12);
      start.setMinutes(0);
      end.setTime(start.getTime() + numdays * DAY_MS);
      end.setHours(13);
      end.setMinutes(0);
    }
    me.selected_event.start = start;
    me.selected_event.end = end;
    freebusy_ui.startdate.val(format_date(start, settings.date_format));
    freebusy_ui.starttime.val(format_date(start, settings.time_format));
    freebusy_ui.enddate.val(format_date(end, settings.date_format));
    freebusy_ui.endtime.val(format_date(end, settings.time_format));
    freebusy_ui.needsupdate = true;
  };

  // attempt to find a time slot where all attendees are available
  var freebusy_find_slot = function (dir) {
    // exit if free-busy data isn't available yet
    if (!freebusy_data || !freebusy_data.start)
      return false;

    var event = me.selected_event,
      eventstart = clone_date(event.start, event.allDay ? 1 : 0).getTime(),  // calculate with integers
      eventend = clone_date(event.end, event.allDay ? 2 : 0).getTime(),
      duration = eventend - eventstart - (event.allDay ? HOUR_MS : 0),  /* make sure we don't cross day borders on DST change */
      sinterval = freebusy_data.interval * 60000,
      intvlslots = 1,
      numslots = Math.ceil(duration / sinterval),
      fb_start = freebusy_data.start.getTime(),
      fb_end = freebusy_data.end.getTime(),
      checkdate, slotend, email, ts, slot, slotdate = new Date(),
      candidatecount = 0, candidatestart = false, success = false;

      const valid_ts = ['0', '1', '5'];
    // shift event times to next possible slot
    eventstart += sinterval * intvlslots * dir;
    eventend += sinterval * intvlslots * dir;

    // iterate through free-busy slots and find candidates
    for (slot = dir > 0 ? fb_start : fb_end - sinterval;
      (dir > 0 &amp;&amp; slot &lt; fb_end) || (dir &lt; 0 &amp;&amp; slot >= fb_start);
      slot += sinterval * dir
    ) {
      slotdate.setTime(slot);
      // fix slot if just crossed a DST change
      if (event.allDay) {
        fix_date(slotdate);
        slot = slotdate.getTime();
      }
      slotend = slot + sinterval;

      if ((dir > 0 &amp;&amp; slotend &lt;= eventstart) || (dir &lt; 0 &amp;&amp; slot >= eventend))  // skip
        continue;

      // respect workinghours setting
      if (freebusy_ui.workinhoursonly) {
        if (is_weekend(slotdate) || (freebusy_data.interval &lt;= 60 &amp;&amp; !is_workinghour(slotdate))) {  // skip off-hours
          candidatestart = false;
          candidatecount = 0;
          continue;
        }
      }

      if (!candidatestart)
        candidatestart = slot;

      ts = date2timestring(slotdate, freebusy_data.interval > 60);

      // check freebusy data for all attendees
      for (var i = 0; i &lt; event_attendees.length; i++) {
        if (freebusy_ui.attendees[i].role != 'OPT-PARTICIPANT' &amp;&amp; (email = freebusy_ui.attendees[i].email) &amp;&amp; freebusy_data[email] &amp;&amp; !valid_ts.includes(freebusy_data[email][ts])) {
          candidatestart = false;
          break;
        }
      }

      // occupied slot
      if (!candidatestart) {
        slot += Math.max(0, intvlslots - candidatecount - 1) * sinterval * dir;
        candidatecount = 0;
        continue;
      }
      else if (dir &lt; 0)
        candidatestart = slot;

      candidatecount++;

      // if candidate is big enough, this is it!
      if (candidatecount == numslots) {
        'toDate' in event.start ? (event.start = new Date(candidatestart)) : event.start.setTime(candidatestart);
        'toDate' in event.end ? (event.end = new Date(candidatestart + duration)) : event.end.setTime(candidatestart + duration);
        success = true;
        break;
      }
    }

    // update event date/time display
    if (success) {
      update_freebusy_dates(event.start, event.end);

      // move freebusy grid if necessary
      var event_start = 'toDate' in event.start ? event.start.toDate() : event.start,
        event_end = 'toDate' in event.end ? event.end.toDate() : event.end,
        offset = Math.ceil((event_start.getTime() - freebusy_ui.end.getTime()) / DAY_MS),
        now = new Date();

      if (event_start.getTime() >= freebusy_ui.end.getTime())
        render_freebusy_grid(Math.max(1, offset));
      else if (event_end.getTime() &lt;= freebusy_ui.start.getTime())
        render_freebusy_grid(Math.min(-1, offset));
      else
        render_freebusy_overlay();

      $('#schedule-find-prev').prop('disabled', event_start.getTime() &lt; now.getTime());

      // speak new selection
      rcmail.display_message(rcmail.gettext('suggestedslot', 'calendar') + ': ' + me.event_date_text(event, true), 'voice');
    }
    else {
      rcmail.alert_dialog(rcmail.gettext('noslotfound', 'calendar'));
    }
  };

  // update event properties and attendees availability if event times have changed
  var event_times_changed = function () {
    if (me.selected_event) {
      var allday = $('#edit-allday').get(0);
      me.selected_event.allDay = allday.checked;
      me.selected_event.start = me.parse_datetime(allday.checked ? '12:00' : $('#edit-starttime').val(), $('#edit-startdate').val());
      me.selected_event.end = me.parse_datetime(allday.checked ? '13:00' : $('#edit-endtime').val(), $('#edit-enddate').val());
      if (event_attendees)
        freebusy_ui.needsupdate = true;
      $('#edit-startdate').data('duration', Math.round((me.selected_event.end.getTime() - me.selected_event.start.getTime()) / 1000));

      //PAMELLA
      rcmail.triggerEvent('calendar.event_times_changed', {selected:me.selected_event});
    }
  };

  // add the given list of participants
  var add_attendees = function (names, params) {
    names = explode_quoted_string(names.replace(/,\s*$/, ''), ',');

    // parse name/email pairs
    var item, email, name, success = false;
    for (var i = 0; i &lt; names.length; i++) {
      email = name = '';
      item = $.trim(names[i]);

      if (!item.length) {
        continue;
      } // address in brackets without name (do nothing)
      else if (item.match(/^&lt;[^@]+@[^>]+>$/)) {
        email = item.replace(/[&lt;>]/g, '');
      } // address without brackets and without name (add brackets)
      else if (rcube_check_email(item)) {
        email = item;
      } // address with name
      else if (item.match(/([^\s&lt;@]+@[^>]+)>*$/)) {
        email = RegExp.$1;
        name = item.replace(email, '').replace(/^["\s&lt;>]+/, '').replace(/["\s&lt;>]+$/, '');
      }
      if (email) {
        // PAMELA 
        add_attendee($.extend({ email: email.toLowerCase(), name: name }, params));
        success = true;
      }
      else {
        rcmail.alert_dialog(rcmail.gettext('noemailwarning'));
      }
    }

    return success;
  };

  // add the given attendee to the list
  var add_attendee = function (data, readonly, before) {
    if (!me.selected_event)
      return false;

    // check for dupes...
    var exists = false;
    $.each(event_attendees, function (i, v) { exists |= (v.email == data.email); });
    if (exists)
      return false;

    var calendar = me.selected_event &amp;&amp; me.calendars[me.selected_event.calendar] ? me.calendars[me.selected_event.calendar] : me.calendars[me.selected_calendar];

    var dispname = Q(data.name || data.email);
    dispname = '&lt;span' + ((data.email &amp;&amp; data.email != dispname) ? ' title="' + Q(data.email) + '"' : '') + '>' + dispname + '&lt;/span>';

    // role selection
    var organizer = data.role == 'ORGANIZER';
    var opts = {};
    if (organizer)
      opts.ORGANIZER = rcmail.gettext('calendar.roleorganizer');
    opts['REQ-PARTICIPANT'] = rcmail.gettext('calendar.rolerequired');
    opts['OPT-PARTICIPANT'] = rcmail.gettext('calendar.roleoptional');
    opts['NON-PARTICIPANT'] = rcmail.gettext('calendar.rolenonparticipant');

    if (data.cutype != 'RESOURCE')
      opts['CHAIR'] = rcmail.gettext('calendar.rolechair');

    if (organizer &amp;&amp; !readonly)
      dispname = rcmail.env['identities-selector'];

    var select = '&lt;select class="edit-attendee-role form-control custom-select"'
      + (organizer || readonly ? ' disabled="true"' : '')
      + ' aria-label="' + rcmail.gettext('role', 'calendar') + '">';
    for (var r in opts)
      select += '&lt;option value="' + r + '" class="' + r.toLowerCase() + '"' + (data.role == r ? ' selected="selected"' : '') + '>' + Q(opts[r]) + '&lt;/option>';
    select += '&lt;/select>';

    // delete icon
    var icon = rcmail.env.deleteicon ? '&lt;img src="' + rcmail.env.deleteicon + '" alt="" />' : '&lt;span class="inner">' + Q(rcmail.gettext('delete')) + '&lt;/span>';
    var dellink = '&lt;a href="#delete" class="iconlink icon button delete deletelink" title="' + Q(rcmail.gettext('delete')) + '">' + icon + '&lt;/a>';
    var tooltip = '', status = (data.status || '').toLowerCase(),
      status_label = rcmail.gettext('status' + status, 'libcalendaring');

    // send invitation checkbox
    var invbox = '&lt;input type="checkbox" class="edit-attendee-reply" value="' + Q(data.email) + '" title="' + Q(rcmail.gettext('calendar.sendinvitations')) + '" '
      + (!data.noreply &amp;&amp; settings.itip_notify &amp; 1 ? 'checked="checked" ' : '') + '/>';

    if (data['delegated-to'])
      tooltip = rcmail.gettext('libcalendaring.delegatedto') + ' ' + data['delegated-to'];
    else if (data['delegated-from'])
      tooltip = rcmail.gettext('libcalendaring.delegatedfrom') + ' ' + data['delegated-from'];
    else if (!status &amp;&amp; organizer)
      tooltip = rcmail.gettext('statusorganizer', 'libcalendaring');
    else if (status)
      tooltip = status_label;

    // add expand button for groups
    if (data.cutype == 'GROUP') {
      dispname += ' &lt;a href="#expand" data-email="' + Q(data.email) + '" class="iconbutton add expandlink" title="' + rcmail.gettext('expandattendeegroup', 'libcalendaring') + '">' +
        rcmail.gettext('expandattendeegroup', 'libcalendaring') + '&lt;/a>';
    }

    var avail = data.email ? 'loading' : 'unknown';
    var table = rcmail.env.calendar_resources &amp;&amp; data.cutype == 'RESOURCE' ? resources_list : attendees_list;
    var img_src = rcmail.assets_path('program/resources/blank.gif');
    var elastic = $(table).parents('.no-img').length > 0;
    var avail_tag = elastic ? ('&lt;span class="' + avail + '"') : ('&lt;img alt="" src="' + img_src + '" class="availabilityicon ' + avail + '"');
    var html = '&lt;td class="role">' + select + '&lt;/td>' +
      '&lt;td class="name">&lt;span class="attendee-name">' + dispname + '&lt;/span>&lt;/td>' +
      '&lt;td class="availability">' + avail_tag + ' data-email="' + data.email + '" />&lt;/td>' +
      '&lt;td class="confirmstate">&lt;span class="attendee ' + (status || 'organizer') + '" title="' + Q(tooltip) + '">' + Q(status &amp;&amp; !elastic ? status_label : '') + '&lt;/span>&lt;/td>' +
      (data.cutype != 'RESOURCE' ? '&lt;td class="invite">' + (organizer || readonly || !invbox ? '' : invbox) + '&lt;/td>' : '') +
      '&lt;td class="options">' + (organizer || readonly ? '' : dellink) + '&lt;/td>';

    var tr = $('&lt;tr>')
      .addClass(String(data.role).toLowerCase())
      .html(html);

    if (before)
      tr.insertBefore(before)
    else
      tr.appendTo(table);

    tr.find('a.deletelink').click({ id: (data.email || data.name) }, function (e) { remove_attendee(this, e.data.id); return false; });
    tr.find('a.expandlink').click(data, function (e) { me.expand_attendee_group(e, add_attendee, remove_attendee); return false; });
    tr.find('input.edit-attendee-reply').click(function () {
      var enabled = $('#edit-attendees-invite:checked').length || $('input.edit-attendee-reply:checked').length;
      $('#eventedit .attendees-commentbox')[enabled ? 'show' : 'hide']();
    });

    // select organizer identity
    if (data.identity_id)
      $('#edit-identities-list').val(data.identity_id);

    // check free-busy status
    if (avail == 'loading') {
      check_freebusy_status(tr.find('.availability > *:first'), data.email, me.selected_event);
    }

    // Make Elastic checkboxes pretty
    if (window.UI &amp;&amp; UI.pretty_checkbox) {
      $(tr).find('input[type=checkbox]').each(function () { UI.pretty_checkbox(this); });
      $(tr).find('select').each(function () { UI.pretty_select(this); });
    }

    event_attendees.push(data);
    return true;
  };

  // iterate over all attendees and update their free-busy status display
  var update_freebusy_status = function (event) {
    attendees_list.find('.availability > *').each(function (i, v) {
      var email, icon = $(this);
      if (email = icon.attr('data-email'))
        check_freebusy_status(icon, email, event);
    });

    freebusy_ui.needsupdate = false;
  };

  // load free-busy status from server and update icon accordingly
  var check_freebusy_status = function (icon, email, event) {
    var calendar = event.calendar &amp;&amp; me.calendars[event.calendar] ? me.calendars[event.calendar] : { freebusy: false };
    if (!calendar.freebusy) {
      $(icon).attr('class', 'availabilityicon unknown');
      return;
    }

    icon = $(icon).attr('class', 'availabilityicon loading');

    $.ajax({
      type: 'GET',
      dataType: 'html',
      //Pamela - correction de l'url
      url: rcmail.get_task_url("calendar&amp;_action=freebusy-status", window.location.origin + window.location.pathname),//rcmail.url('freebusy-status'),
      data: { email: email, start: date2servertime(clone_date(event.start, event.allDay ? 1 : 0)), end: date2servertime(clone_date(event.end, event.allDay ? 2 : 0)), _remote: 1 },
      success: function (status) {
        var avail = String(status).toLowerCase();
        icon.removeClass('loading').addClass(avail).attr('title', rcmail.gettext('avail' + avail, 'calendar'));
      },
      error: function () {
        icon.removeClass('loading').addClass('unknown').attr('title', rcmail.gettext('availunknown', 'calendar'));
      }
    });
  };

  // remove an attendee from the list
  var remove_attendee = function (elem, id) {
    $(elem).closest('tr').remove();
    // PAMELA - Mode assistantes
    event_attendees = $.grep(event_attendees, function (data) { return (data.name != id &amp;&amp; data.email != id || data.role == 'ORGANIZER') });
  };

  // open a dialog to display detailed free-busy information and to find free slots
  var event_resources_dialog = function (search) {
    var $dialog = $('#eventresourcesdialog');

    if ($dialog.is(':ui-dialog'))
      $dialog.dialog('close');

    // dialog buttons
    var buttons = [
      {
        text: rcmail.gettext('addresource', 'calendar'),
        'class': 'mainaction save',
        click: function () { rcmail.command('add-resource'); $dialog.dialog("close"); }
      },
      {
        text: rcmail.gettext('close'),
        'class': 'cancel',
        click: function () { $dialog.dialog("close"); }
      }
    ];

    var resize = function () {
      var container = $(rcmail.gui_objects.resourceinfocalendar);
      container.fullCalendar('option', 'height', container.height() + 1);
    };

    // open jquery UI dialog
    $dialog.dialog({
      modal: true,
      resizable: false, // prevents from Availability tab reflow bugs on resize
      closeOnEscape: true,
      title: rcmail.gettext('findresources', 'calendar'),
      classes: { 'ui-dialog': 'selection-dialog resources-dialog' },
      open: function () {
        rcmail.ksearch_blur();
        $dialog.attr('aria-hidden', 'false');

        // for Elastic
        if ($('html.layout-small,html.layout-phone').length) {
          $('#eventresourcesdialog .resource-selection').css('display', 'flex');
          $('#eventresourcesdialog .resource-content').css('display', 'none');
        }
        setTimeout(resize, 50);
      },
      close: function () {
        $dialog.dialog('destroy').attr('aria-hidden', 'true').hide();
      },
      resize: resize,
      buttons: buttons,
      width: 900,
      height: 500
    }).show();

    $('.ui-dialog-buttonset button', $dialog.parent()).first().attr('id', 'rcmbtncalresadd');

    me.dialog_resize($dialog.get(0), 540, Math.min(1000, $(window).width() - 50));

    // set search query
    $('#resourcesearchbox').val(search || '');

    // initialize the treelist widget
    if (!resources_treelist) {
      resources_treelist = new rcube_treelist_widget(rcmail.gui_objects.resourceslist, {
        id_prefix: 'rcres',
        id_encode: rcmail.html_identifier_encode,
        id_decode: rcmail.html_identifier_decode,
        selectable: true,
        save_state: true
      });
      resources_treelist.addEventListener('select', function (node) {
        if (resources_data[node.id]) {
          resource_showinfo(resources_data[node.id]);
          rcmail.enable_command('add-resource', me.selected_event &amp;&amp; $("#eventedit").is(':visible'));

          // on elastic mobile display resource info box
          if ($('html.layout-small,html.layout-phone').length) {
            $('#eventresourcesdialog .resource-selection').css('display', 'none');
            $('#eventresourcesdialog .resource-content').css('display', 'flex');
            $(window).resize();
            resize();
          }
        }
        else {
          rcmail.enable_command('add-resource', false);
          $(rcmail.gui_objects.resourceinfo).hide();
          $(rcmail.gui_objects.resourceownerinfo).hide();
          $(rcmail.gui_objects.resourceinfocalendar).fullCalendar('removeEventSources');
        }
      });

      // fetch (all) resource data from server
      me.loading_lock = rcmail.set_busy(true, 'loading', me.loading_lock);
      rcmail.http_request('resources-list', {}, me.loading_lock);

      // register button
      rcmail.register_button('add-resource', 'rcmbtncalresadd', 'button');

      // initialize resource calendar display
      var resource_cal = $(rcmail.gui_objects.resourceinfocalendar);
      resource_cal.fullCalendar($.extend({}, fullcalendar_defaults, {
        header: { left: '', center: '', right: '' },
        height: resource_cal.height() + 4,
        defaultView: 'agendaWeek',
        eventSources: [],
        slotMinutes: 60,
        allDaySlot: false,
        eventRender: function (event, element, view) {
          var title = rcmail.get_label(event.status, 'calendar');
          element.addClass('status-' + event.status);
          element.find('.fc-title').text(title);
          element.attr('aria-label', me.event_date_text(event, true) + ': ' + title);
        }
      }));

      $('#resource-calendar-prev').click(function () {
        resource_cal.fullCalendar('prev');
        return false;
      });
      $('#resource-calendar-next').click(function () {
        resource_cal.fullCalendar('next');
        return false;
      });
    }
    else if (search) {
      resource_search();
    }
    else {
      resource_render_list(resources_index);
    }

    if (me.selected_event &amp;&amp; me.selected_event.start) {
      $(rcmail.gui_objects.resourceinfocalendar).fullCalendar('gotoDate', me.selected_event.start);
    }
  };

  // render the resource details UI box
  var resource_showinfo = function (resource) {
    // inline function to render a resource attribute
    function render_attrib(value) {
      if (typeof value == 'boolean') {
        return value ? rcmail.get_label('yes') : rcmail.get_label('no');
      }

      return value;
    }

    if (rcmail.gui_objects.resourceinfo) {
      var tr, table = $(rcmail.gui_objects.resourceinfo).show().find('tbody').html(''),
        attribs = $.extend({ name: resource.name }, resource.attributes || {})
      attribs.description = resource.description;

      for (var k in attribs) {
        if (typeof attribs[k] == 'undefined')
          continue;
        table.append($('&lt;tr>').addClass(k + ' form-group row')
          .append('&lt;td class="title col-sm-4">&lt;label class="col-form-label">' + Q(ucfirst(rcmail.get_label(k, 'calendar'))) + '&lt;/label>&lt;/td>')
          .append('&lt;td class="value col-sm-8 form-control-plaintext">' + text2html(render_attrib(attribs[k])) + '&lt;/td>')
        );
      }

      $(rcmail.gui_objects.resourceownerinfo).hide();
      $(rcmail.gui_objects.resourceinfocalendar).fullCalendar('removeEventSources');

      if (resource.owner) {
        // display cached data
        if (resource_owners[resource.owner]) {
          resource_owner_load(resource_owners[resource.owner]);
        }
        else {
          // fetch owner data from server
          me.loading_lock = rcmail.set_busy(true, 'loading', me.loading_lock);
          rcmail.http_request('resources-owner', { _id: resource.owner }, me.loading_lock);
        }
      }

      // load resource calendar
      resources_events_source.url = "./?_task=calendar&amp;_action=resources-calendar&amp;_id=" + urlencode(resource.ID);
      $(rcmail.gui_objects.resourceinfocalendar).fullCalendar('addEventSource', resources_events_source);
    }
  };

  // callback from server for resource listing
  var resource_data_load = function (data) {
    var resources_tree = {};

    // store data by ID
    $.each(data, function (i, rec) {
      resources_data[rec.ID] = rec;

      // assign parent-relations
      if (rec.members) {
        $.each(rec.members, function (j, m) {
          resources_tree[m] = rec.ID;
        });
      }
    });

    // walk the parent-child tree to determine the depth of each node
    $.each(data, function (i, rec) {
      rec._depth = 0;
      if (resources_tree[rec.ID])
        rec.parent_id = resources_tree[rec.ID];

      var parent_id = resources_tree[rec.ID];
      while (parent_id) {
        rec._depth++;
        parent_id = resources_tree[parent_id];
      }
    });

    // sort by depth, collection and name
    data.sort(function (a, b) {
      var j = a._type == 'collection' ? 1 : 0,
        k = b._type == 'collection' ? 1 : 0,
        d = a._depth - b._depth;
      if (!d) d = (k - j);
      if (!d) d = b.name &lt; a.name ? 1 : -1;
      return d;
    });

    $.each(data, function (i, rec) {
      resources_index.push(rec.ID);
    });

    // apply search filter...
    if ($('#resourcesearchbox').val() != '')
      resource_search();
    else  // ...or render full list
      resource_render_list(resources_index);

    rcmail.set_busy(false, null, me.loading_lock);
  };

  // renders the given list of resource records into the treelist
  var resource_render_list = function (index) {
    var rec, link;

    resources_treelist.reset();

    $.each(index, function (i, dn) {
      if (rec = resources_data[dn]) {
        link = $('&lt;a>').attr('href', '#')
          .attr('rel', rec.ID)
          .html(Q(rec.name));

        resources_treelist.insert({ id: rec.ID, html: link, classes: [rec._type], collapsed: true }, rec.parent_id, false);
      }
    });
  };

  // callback from server for owner information display
  var resource_owner_load = function (data) {
    if (data) {
      // cache this!
      resource_owners[data.ID] = data;

      var table = $(rcmail.gui_objects.resourceownerinfo).find('tbody').html('');

      for (var k in data) {
        if (k == 'event' || k == 'ID')
          continue;

        table.append($('&lt;tr>').addClass(k)
          .append('&lt;td class="title">' + Q(ucfirst(rcmail.get_label(k, 'calendar'))) + '&lt;/td>')
          .append('&lt;td class="value">' + text2html(data[k]) + '&lt;/td>')
        );
      }

      table.parent().show();
    }
  }

  // quick-filter the loaded resource data
  var resource_search = function () {
    var dn, rec, dataset = [],
      q = $('#resourcesearchbox').val().toLowerCase();

    if (q.length &amp;&amp; resources_data) {
      // search by iterating over all resource records
      for (dn in resources_data) {
        rec = resources_data[dn];
        if ((rec.name &amp;&amp; String(rec.name).toLowerCase().indexOf(q) >= 0)
          || (rec.email &amp;&amp; String(rec.email).toLowerCase().indexOf(q) >= 0)
          || (rec.description &amp;&amp; String(rec.description).toLowerCase().indexOf(q) >= 0)
        ) {
          dataset.push(rec.ID);
        }
      }

      resource_render_list(dataset);

      // select single match
      if (dataset.length == 1) {
        resources_treelist.select(dataset[0]);
      }
    }
    else {
      $('#resourcesearchbox').val('');
    }
  };

  // 
  var reset_resource_search = function () {
    $('#resourcesearchbox').val('').focus();
    resource_render_list(resources_index);
  };

  // 
  var add_resource2event = function () {
    var resource = resources_data[resources_treelist.get_selection()];
    if (resource)
      add_attendee($.extend({ role: 'REQ-PARTICIPANT', status: 'NEEDS-ACTION', cutype: 'RESOURCE' }, resource));
  }

  // when the user accepts or declines an event invitation
  var event_rsvp = function (response, delegate, replymode, event) {
    var btn;
    if (typeof response == 'object') {
      btn = $(response);
      response = btn.attr('rel')
    }
    else {
      btn = $('#event-rsvp input.button[rel=' + response + ']');
    }

    // show menu to select rsvp reply mode (current or all)
    if (me.selected_event &amp;&amp; me.selected_event.recurrence &amp;&amp; !replymode) {
      rcube_libcalendaring.itip_rsvp_recurring(btn, function (resp, mode) {
        event_rsvp(resp, null, mode, event);
      }, event);
      return;
    }

    if (me.selected_event &amp;&amp; me.selected_event.attendees &amp;&amp; response) {
      // bring up delegation dialog
      if (response == 'delegated' &amp;&amp; !delegate) {
        rcube_libcalendaring.itip_delegate_dialog(function (data) {
          data.rsvp = data.rsvp ? 1 : '';
          event_rsvp('delegated', data, replymode, event);
        });
        return;
      }

      // PAMELA - Mode assistantes
      let calendar = me.selected_event.calendar &amp;&amp; me.calendars[me.selected_event.calendar] ? me.calendars[me.selected_event.calendar] : { editable: false, rights: 'lrs' };

      // update attendee status
      attendees = [];
      for (var data, i = 0; i &lt; me.selected_event.attendees.length; i++) {
        data = me.selected_event.attendees[i];
        // PAMELA - Mode assistantes
        // if (settings.identity.emails.indexOf(';' + String(data.email).toLowerCase()) >= 0) {
        if (calendar.owner_email.toLowerCase() == String(data.email).toLowerCase()) {
          data.status = response.toUpperCase();
          data.rsvp = 0;  // unset RSVP flag

          if (data.status == 'DELEGATED') {
            data['delegated-to'] = delegate.to;
            data.rsvp = delegate.rsvp
          }
          else {
            if (data['delegated-to']) {
              delete data['delegated-to'];
              if (data.role == 'NON-PARTICIPANT' &amp;&amp; data.status != 'DECLINED')
                data.role = 'REQ-PARTICIPANT';
            }
          }

          attendees.push(i)
        }
        else if (response != 'DELEGATED' &amp;&amp; data['delegated-from'] &amp;&amp;
          // PAMELA - Mode assisantes
          // settings.identity.emails.indexOf(';' + String(data['delegated-from']).toLowerCase()) >= 0) {
          calendar.owner_email.toLowerCase() == String(data['delegated-from']).toLowerCase()) {
          delete data['delegated-from'];
        }

        // set free_busy status to transparent if declined (#4425)
        if (data.status == 'DECLINED' || data.role == 'NON-PARTICIPANT') {
          me.selected_event.free_busy = 'free';
        }
        else {
          me.selected_event.free_busy = 'busy';
        }
      }

      // submit status change to server
      var submit_data = $.extend({}, { source: null, comment: $('#reply-comment-event-rsvp').val(), _savemode: replymode || 'all' }, (delegate || {})),
        submit_items = 'id,uid,_instance,calendar,_mbox,_uid,_part,attendees,free_busy,allDay',
        noreply = $('#noreply-event-rsvp:checked').length ? 1 : 0;

      // Submit only that data we really need
      $.each(submit_items.split(','), function () {
        if (this in me.selected_event)
          submit_data[this] = me.selected_event[this];
      });

      // import event from mail (temporary iTip event)
      if (submit_data._mbox &amp;&amp; submit_data._uid) {
        me.saving_lock = rcmail.set_busy(true, 'calendar.savingdata');
        rcmail.http_post('mailimportitip', {
          _mbox: submit_data._mbox,
          _uid: submit_data._uid,
          _part: submit_data._part,
          _status: response,
          _to: (delegate ? delegate.to : null),
          _rsvp: (delegate &amp;&amp; delegate.rsvp) ? 1 : 0,
          _noreply: noreply,
          _comment: submit_data.comment,
          _instance: submit_data._instance,
          _savemode: submit_data._savemode
        });
      }
      else if (settings.invitation_calendars) {
        update_event('rsvp', submit_data, { status: response, noreply: noreply, attendees: attendees });
      }
      else {
        me.saving_lock = rcmail.set_busy(true, 'calendar.savingdata');
        rcmail.http_post('calendar/event', { action: 'rsvp', e: submit_data, status: response, attendees: attendees, noreply: noreply });
      }

      event_show_dialog(me.selected_event);
    }
  };

  //PAMELA - use custom event_rsvp
  this.event_rsvp = event_rsvp;

  // add the given date to the RDATE list
  var add_rdate = function (date) {
    var li = $('&lt;li>')
      .attr('data-value', date2servertime(date))
      .append($('&lt;span>').text(format_date(date, settings.date_format)))
      .appendTo('#edit-recurrence-rdates');

    $('&lt;a>').attr('href', '#del')
      .addClass('iconbutton delete')
      .html(rcmail.get_label('delete', 'calendar'))
      .attr('title', rcmail.get_label('delete', 'calendar'))
      .appendTo(li);
  };

  // re-sort the list items by their 'data-value' attribute
  var sort_rdates = function () {
    var mylist = $('#edit-recurrence-rdates'),
      listitems = mylist.children('li').get();
    listitems.sort(function (a, b) {
      var compA = $(a).attr('data-value');
      var compB = $(b).attr('data-value');
      return (compA &lt; compB) ? -1 : (compA > compB) ? 1 : 0;
    })
    $.each(listitems, function (idx, item) { mylist.append(item); });
  }

  // remove the link reference matching the given uri
  function remove_link(elem) {
    var $elem = $(elem), uri = $elem.attr('data-uri');

    me.selected_event.links = $.grep(me.selected_event.links, function (link) { return link.uri != uri; });

    // remove UI list item
    $elem.hide().closest('li').addClass('deleted');
  }

  // post the given event data to server
  var update_event = function (action, data, add) {
    me.saving_lock = rcmail.set_busy(true, 'calendar.savingdata');

    // PAMELA - Evenement perdu dans le cas de déconnexion du serveur
    rcmail.http_post('calendar/event', $.extend({ action: action, e: data }, (add || {})), me.saving_lock);

    // // render event temporarily into the calendar
    // if ((data.start &amp;&amp; data.end) || data.id) {
    //   var tmp, event = data.id ? $.extend(fc.fullCalendar('clientEvents', data.id)[0], data) : data;

    //   if (data.start)
    //     event.start = data.start;
    //   if (data.end)
    //     event.end = data.end;
    //   if (data.allDay !== undefined)
    //     event.allDay = !!data.allDay; // must be boolean for fullcalendar

    //   // For fullCalendar all-day event's end date must be exclusive
    //   if (event.allDay &amp;&amp; data.end &amp;&amp; (tmp = moment(data.end)) &amp;&amp; tmp.format('Hms') !== '000') {
    //     event.end = moment().year(tmp.year()).month(tmp.month()).date(tmp.date()).hour(0).minute(0).second(0).add(1, 'days');
    //   }

    //   event.editable = false;
    //   event.temp = true;
    //   event.className = ['fc-event-temp'];

    //   fc.fullCalendar(data.id ? 'updateEvent' : 'renderEvent', event);

    //   // mark all recurring instances as temp
    //   if (event.recurrence || event.recurrence_id) {
    //     var base_id = event.recurrence_id ? event.recurrence_id : String(event.id).replace(/-\d+(T\d{6})?$/, '');
    //     $.each(fc.fullCalendar('clientEvents', function (e) { return e.id == base_id || e.recurrence_id == base_id; }), function (i, ev) {
    //       ev.temp = true;
    //       ev.editable = false;
    //       event.className.push('fc-event-temp');
    //       fc.fullCalendar('updateEvent', ev);
    //     });
    //   }
    // }
  };

  // mouse-click handler to check if the show dialog is still open and prevent default action
  var dialog_check = function (e) {
    var showd = $("#eventshow");
    if (showd.is(':visible') &amp;&amp; !$(e.target).closest('.ui-dialog').length &amp;&amp; !$(e.target).closest('.popupmenu').length) {
      showd.dialog('close');
      e.stopImmediatePropagation();
      ignore_click = true;
      return false;
    }
    else if (ignore_click) {
      window.setTimeout(function () { ignore_click = false; }, 20);
      return false;
    }
    return true;
  };

  // display confirm dialog when modifying/deleting an event
  var update_event_confirm = function (action, event, data) {
    // Allow other plugins to do actions here
    // E.g. when you move/resize the event init wasn't called
    // but we need it as some plugins may modify user identities
    // we depend on here (kolab_delegation)
    rcmail.triggerEvent('calendar-event-init', { o: event });

    if (!data) data = event;
    var decline = false, notify = false, html = '', cal = me.calendars[event.calendar],
      _is_invitation = String(event.calendar).match(/^--invitation--(declined|pending)/) &amp;&amp; RegExp.$1,
      _has_attendees = me.has_attendees(event),
      _is_attendee = _has_attendees &amp;&amp; me.is_attendee(event),
      _is_organizer = me.is_organizer(event);

    // event has attendees, ask whether to notify them
    if (_has_attendees) {
      var checked = (settings.itip_notify &amp; 1 ? ' checked="checked"' : '');

      if (action == 'remove' &amp;&amp; cal.group != 'shared' &amp;&amp; !_is_organizer &amp;&amp; _is_attendee &amp;&amp; _is_invitation != 'declined') {
        decline = true;
        checked = event.status != 'CANCELLED' ? checked : '';
        html += '&lt;div class="message dialog-message ui alert boxwarning">' +
          '&lt;label>&lt;input class="confirm-attendees-decline pretty-checkbox" type="checkbox"' + checked + ' value="1" name="decline" />&amp;nbsp;' +
          rcmail.gettext('itipdeclineevent', 'calendar') +
          '&lt;/label>&lt;/div>';
      }
      else if (_is_organizer) {
        notify = true;
        if (settings.itip_notify &amp; 2) {
          html += '&lt;div class="message dialog-message ui alert boxwarning">' +
            '&lt;label>&lt;input class="confirm-attendees-donotify pretty-checkbox" type="checkbox"' + checked + ' value="1" name="notify" />&amp;nbsp;' +
            rcmail.gettext((action == 'remove' ? 'sendcancellation' : 'sendnotifications'), 'calendar') +
            '&lt;/label>&lt;/div>';
        }
        else {
          data._notify = settings.itip_notify;
        }
      }
      else if (cal.group != 'shared' &amp;&amp; !_is_invitation) {
        html += '&lt;div class="message dialog-message ui alert boxwarning">' + $('#edit-localchanges-warning').html() + '&lt;/div>';
        data._notify = 0;
      }
    }

    // recurring event: user needs to select the savemode
    if (event.recurrence) {
      var future_disabled = '', message_label = (action == 'remove' ? 'removerecurringeventwarning' : 'changerecurringeventwarning');

      // disable the 'future' savemode if I'm an attendee
      // reason: no calendaring system supports the thisandfuture range parameter in iTip REPLY
      if (action == 'remove' &amp;&amp; !_is_organizer &amp;&amp; _is_attendee) {
        future_disabled = ' disabled';
      }

      html += '&lt;div class="message dialog-message ui alert boxwarning">' + rcmail.gettext(message_label, 'calendar') + '&lt;/div>' +
        '&lt;div class="savemode">' +
        '&lt;a href="#current" class="button btn btn-secondary">' + rcmail.gettext('currentevent', 'calendar') + '&lt;/a>' +
        '&lt;a href="#future" class="button btn btn-secondary' + future_disabled + '">' + rcmail.gettext('futurevents', 'calendar') + '&lt;/a>' +
        '&lt;a href="#all" class="button btn btn-secondary">' + rcmail.gettext('allevents', 'calendar') + '&lt;/a>' +
        (action != 'remove' ? '&lt;a href="#new" class="button btn btn-secondary">' + rcmail.gettext('saveasnew', 'calendar') + '&lt;/a>' : '') +
        '&lt;/div>';
    }

    // show dialog
    if (html) {
      var $dialog = $('&lt;div>').html(html);

      $dialog.find('a.button').filter(':not(.disabled)').click(function (e) {
        data._savemode = String(this.href).replace(/.+#/, '');

        // open event edit dialog when saving as new
        if (data._savemode == 'new') {
          event._savemode = 'new';
          event_edit_dialog('edit', event);
          fc.fullCalendar('refetchEvents');
        }
        else {
          if ($dialog.find('input.confirm-attendees-donotify').length)
            data._notify = $dialog.find('input.confirm-attendees-donotify').get(0).checked ? 1 : 0;
          if (decline) {
            data._decline = $dialog.find('input.confirm-attendees-decline:checked').length;
            data._notify = 0;
          }
          update_event(action, data);
        }

        $dialog.dialog("close");
        return false;
      });

      var buttons = [];

      if (!event.recurrence) {
        buttons.push({
          text: rcmail.gettext((action == 'remove' ? 'delete' : 'save'), 'calendar'),
          'class': action == 'remove' ? 'delete mainaction' : 'save mainaction',
          click: function () {
            data._notify = notify &amp;&amp; $dialog.find('input.confirm-attendees-donotify:checked').length ? 1 : 0;
            data._decline = decline &amp;&amp; $dialog.find('input.confirm-attendees-decline:checked').length ? 1 : 0;
            update_event(action, data);
            $(this).dialog("close");
          }
        });
      }

      buttons.push({
        text: rcmail.gettext('cancel', 'calendar'),
        'class': 'cancel',
        click: function () {
          $(this).dialog("close");
        }
      });

      $dialog.dialog({
        modal: true,
        width: 460,
        dialogClass: 'warning',
        title: rcmail.gettext((action == 'remove' ? 'removeeventconfirm' : 'changeeventconfirm'), 'calendar'),
        buttons: buttons,
        open: function () {
          setTimeout(function () {
            $dialog.parent().find('button:not(.ui-dialog-titlebar-close)').first().focus();
          }, 5);
        },
        close: function () {
          $dialog.dialog("destroy").remove();
          if (!rcmail.busy)
            fc.fullCalendar('refetchEvents');
        }
      }).addClass('event-update-confirm').show();

      return false;
    }
    // show regular confirm box when deleting
    else if (action == 'remove' &amp;&amp; !cal.undelete) {
      if (!confirm(rcmail.gettext('deleteventconfirm', 'calendar')))
        return false;
    }

    // do update
    update_event(action, data);

    return true;
  };


  /*** public methods ***/

  //PAMELA
  this.edit_update_current_event_attendee = function edit_update_current_event_attendee(attendee, add = true) {
    if (!!me.selected_event)
    {
      if (add) {
        if (!event_attendees.find(x => x.email === attendee.email)) event_attendees.push(attendee);
        else {
          this.edit_update_current_event_attendee(attendee, false);
          this.edit_update_current_event_attendee(attendee);
        }
      }
      else event_attendees = event_attendees.filter(x => x.email !== attendee.email);
    }

    return event_attendees;
  };

  //PAMELLA
  this.edit_clear_attendees = function edit_clear_attendees() {
    event_attendees.length = 0;
  };

  /**
   * Remove saving lock and free the UI for new input
   */
  this.unlock_saving = function () {
    if (me.saving_lock)
      rcmail.set_busy(false, null, me.saving_lock);
  };

  // opens the given calendar in a popup dialog
  this.quickview = function (id, shift) {
    var src, in_quickview = false;
    $.each(this.quickview_sources, function (i, cal) {
      if (cal.id == id) {
        in_quickview = true;
        src = cal;
      }
    });

    // remove source from quickview
    if (in_quickview &amp;&amp; shift) {
      this.quickview_sources = $.grep(this.quickview_sources, function (src) { return src.id != id; });
    }
    else {
      if (!shift) {
        // remove all current quickview event sources
        if (this.quickview_active) {
          fc.fullCalendar('removeEventSources');

          // PAMELA 
          $.each(this.calendars, function (k, cal) {
            fc.fullCalendar('removeResource', cal);
          });
        }

        this.quickview_sources = [];

        // uncheck all active quickview icons
        calendars_list.container.find('div.focusview')
          .add('#calendars .searchresults div.focusview')
          .removeClass('focusview')
          .find('a.quickview').attr('aria-checked', 'false');
      }

      if (!in_quickview) {
        // clone and modify calendar properties
        src = $.extend({}, this.calendars[id]);
        src.url += '&amp;_quickview=1';
        this.quickview_sources.push(src);
      }
    }

    // disable quickview
    if (this.quickview_active &amp;&amp; !this.quickview_sources.length) {
      // register regular calendar event sources
      $.each(this.calendars, function (k, cal) {
        if (cal.active) {
          fc.fullCalendar('addEventSource', cal);

          // PAMELA
          fc.fullCalendar('addResource', cal);
        }
      });

      this.quickview_active = false;
      $('body').removeClass('quickview-active');

      // uncheck all active quickview icons
      calendars_list.container.find('div.focusview')
        .add('#calendars .searchresults div.focusview')
        .removeClass('focusview')
        .find('a.quickview').attr('aria-checked', 'false');
    }
    // activate quickview
    else if (!this.quickview_active) {
      // remove regular calendar event sources
      fc.fullCalendar('removeEventSources');

      // PAMELA 
      $.each(this.calendars, function (k, cal) {
        fc.fullCalendar('removeResource', cal);
      });

      // register quickview event sources
      $.each(this.quickview_sources, function (i, src) {
        fc.fullCalendar('addEventSource', src);

        // PAMELA
        fc.fullCalendar('addResource', src);
      });

      this.quickview_active = true;
      $('body').addClass('quickview-active');
    }
    // update quickview sources
    else if (in_quickview) {
      fc.fullCalendar('removeEventSource', src);

      // PAMELA
      fc.fullCalendar('removeResource', src);
    }
    else if (src) {
      fc.fullCalendar('addEventSource', src);

      // PAMELA
      fc.fullCalendar('addResource', src);
    }

    // activate quickview icon
    if (this.quickview_active) {
      $(calendars_list.get_item(id)).find('.calendar').first()
        .add('#calendars .searchresults .cal-' + id)
      [in_quickview ? 'removeClass' : 'addClass']('focusview')
        .find('a.quickview').attr('aria-checked', in_quickview ? 'false' : 'true');
    }
  };

  // disable quickview mode
  function reset_quickview() {
    // remove all current quickview event sources
    if (me.quickview_active) {
      fc.fullCalendar('removeEventSources');
      me.quickview_sources = [];
    }

    // register regular calendar event sources
    $.each(me.calendars, function (k, cal) {
      if (cal.active) {
        fc.fullCalendar('addEventSource', cal);

        // PAMELA
        fc.fullCalendar('addResource', cal);
      }
    });

    // uncheck all active quickview icons
    calendars_list.container.find('div.focusview')
      .add('#calendars .searchresults div.focusview')
      .removeClass('focusview')
      .find('a.quickview').attr('aria-checked', 'false');

    me.quickview_active = false;
    $('body').removeClass('quickview-active');
  };

  //public method to show the print dialog.
  this.print_calendars = function (view) {
    if (!view) view = fc.fullCalendar('getView').name;
    var date = fc.fullCalendar('getDate').toDate();

    rcmail.open_window(rcmail.url('print', {
      view: view,
      date: date2unixtime(date),
      range: settings.agenda_range,
      search: this.search_query
    }), true, true);
  };

  // public method to bring up the new event dialog
  this.add_event = function (templ) {
    if (this.selected_calendar) {
      var now = new Date();
      var date = fc.fullCalendar('getDate').toDate();
      date.setHours(now.getHours() + 1);
      date.setMinutes(0);
      var end = new Date(date.getTime());
      end.setHours(date.getHours() + 1);
      event_edit_dialog('new', $.extend({ start: date, end: end, allDay: false, calendar: this.selected_calendar }, templ || {}));
    }
  };

  // delete the given event after showing a confirmation dialog
  this.delete_event = function (event) {
    // show confirm dialog for recurring events, use jquery UI dialog
    return update_event_confirm('remove', event, { id: event.id, calendar: event.calendar, attendees: event.attendees });
  };

  // opens a jquery UI dialog with event properties (or empty for creating a new calendar)
  this.calendar_edit_dialog = function (calendar) {
    if (!calendar)
      calendar = { name: '', color: 'cc0000', editable: true, showalarms: true };

    var title = rcmail.gettext((calendar.id ? 'editcalendar' : 'createcalendar'), 'calendar'),
      params = { action: calendar.id ? 'form-edit' : 'form-new', c: { id: calendar.id }, _framed: 1 },
      $dialog = $('&lt;iframe>').attr('src', rcmail.url('calendar', params)).on('load', function () {
        var contents = $(this).contents();
        contents.find('#calendar-name')
          .prop('disabled', !calendar.editable &amp;&amp; !(calendar.name_editable ?? false))
          .val(calendar.editname || calendar.name)
          .select();
        contents.find('#calendar-color')
          .val(calendar.color);
        contents.find('#calendar-showalarms')
          .prop('checked', calendar.showalarms);
      }),
      save_func = function () {
        var data,
          form = $dialog.contents().find('#calendarpropform'),
          name = form.find('#calendar-name');

        // form is not loaded
        if (!form || !form.length)
          return false;

        // do some input validation
        if (!name.val() || name.val().length &lt; 2) {
          rcmail.alert_dialog(rcmail.gettext('invalidcalendarproperties', 'calendar'), function () {
            name.select();
          });

          return false;
        }

        // post data to server
        data = form.serializeJSON();
        if (data.color)
          data.color = data.color.replace(/^#/, '');
        if (calendar.id)
          data.id = calendar.id;

        me.saving_lock = rcmail.set_busy(true, 'calendar.savingdata');
        rcmail.http_post('calendar', { action: (calendar.id ? 'edit' : 'new'), c: data });
        $dialog.dialog("close");
      };

    rcmail.simple_dialog($dialog, title, save_func, {
      width: 600,
      // PAMELA - Augmenter la hauter pour les calendriers externes
      height: 515
    });
  };

  this.calendar_remove = function (calendar) {
    this.calendar_destroy_source(calendar.id);
    rcmail.http_post('calendar', { action: 'subscribe', c: { id: calendar.id, active: 0, permanent: 0, recursive: 1 } });
    return true;
  };

  // MANTIS 3607: Permettre de remplacer tous les évènements lors d'un import
  this.calendar_delete_all = function (calendar) {
    if (confirm(rcmail.gettext('deleteallcalendarconfirm', 'calendar'))) {
      var lock = rcmail.display_message(rcmail.get_label('loading'), 'loading');
      rcmail.http_post('calendar', { action: 'delete_all', c: { id: calendar.id } });
      return true;
    }
    return false;
  };

  // MANTIS 3896: Partage public et protégé de l'agenda
  this.calendar_check_feed_url = function (calendar) {
    setTimeout(() => {
      var lock = rcmail.display_message(rcmail.get_label('loading'), 'loading');
      rcmail.http_post('calendar', { action: 'check_feed_url', c: { id: calendar.id, checked: $('.ui-dialog #checkpublicfeedurl').prop('checked') } }, lock);
      return true;
    }, 200);
  };

  // MANTIS 3896: Partage public et protégé de l'agenda
  this.calendar_show_feed_url = function (calendar, url) {
    if (url) {
      $('.ui-dialog #input_calpublicfeedurl').show();
      $('.ui-dialog #calpublicfeedurl').val(url);
      $(".ui-dialog #checkpublicfeedurl").prop("checked", true);
      this.calendars[calendar].feedcalendarurl = url;
    }
    else {
      $('.ui-dialog #input_calpublicfeedurl').hide();
      $('.ui-dialog #calpublicfeedurl').val('');
      $(".ui-dialog #checkpublicfeedurl").prop("checked", false);
      delete this.calendars[calendar].feedcalendarurl;
    }
  };

  this.toggle_appointment = function (calendar) {
    setTimeout(() => {
      var lock = rcmail.display_message(rcmail.get_label('loading'), 'loading');
      rcmail.http_post('calendar', { action: 'toggle_appointment', c: { id: calendar.id, checked: $('.ui-dialog #check_appointment').prop('checked') } }, lock);
      return true;
    }, 200);
  };

  this.appointment_show_url = function (calendar, url) {
    if (url) {
      $('.ui-dialog #appointment_url').val(url);
      $('.ui-dialog #button_fullcalendarurl').show();
      $('.ui-dialog #appointment_configuration').show();
      $(".ui-dialog #check_appointment").prop("checked", true);
      this.calendars[calendar].appointment_url = url;
    }
    else {
      $('.ui-dialog #appointment_url').val('');
      $('.ui-dialog #button_fullcalendarurl').hide();
      $('.ui-dialog #appointment_configuration').hide();
      $(".ui-dialog #check_appointment").prop("checked", false);
      this.calendars[calendar].appointment_url = url;
    }
    appointment_save_func();   
  };

  this.calendar_delete = function (calendar) {
    var label = calendar.children ? 'deletecalendarconfirmrecursive' : 'deletecalendarconfirm';
    rcmail.confirm_dialog(rcmail.gettext(label, 'calendar'), 'delete', function () {
      rcmail.http_post('calendar', { action: 'delete', c: { id: calendar.id } });
      return true;
    });

    return false;
  };

  this.calendar_refresh_source = function (id) {
    // got race-conditions fc.currentFetchID when using refetchEventSources,
    // so we remove and add the source instead
    // fc.fullCalendar('refetchEventSources', me.calendars[id]);
    // TODO: Check it again with fullcalendar >= 3.9
    fc.fullCalendar('removeEventSource', me.calendars[id]);
    fc.fullCalendar('addEventSource', me.calendars[id]);
  };

  this.calendar_destroy_source = function (id) {
    var delete_ids = [];

    if (this.calendars[id]) {
      // find sub-calendars
      if (this.calendars[id].children) {
        for (var child_id in this.calendars) {
          if (String(child_id).indexOf(id) == 0)
            delete_ids.push(child_id);
        }
      }
      else {
        delete_ids.push(id);
      }
    }

    // delete all calendars in the list
    for (var i = 0; i &lt; delete_ids.length; i++) {
      id = delete_ids[i];
      calendars_list.remove(id);
      fc.fullCalendar('removeEventSource', this.calendars[id]);
      $('#edit-calendar option[value="' + id + '"]').remove();
      delete this.calendars[id];
    }

    if (this.selected_calendar == id) {
      this.init_calendars(true);
    }
  };

  // open a dialog to upload an .ics file with events to be imported
  this.import_events = function (calendar) {
    // close show dialog first
    var $dialog = $("#eventsimport"),
      form = rcmail.gui_objects.importform;

    if ($dialog.is(':ui-dialog'))
      $dialog.dialog('close');

    if (calendar)
      $('#event-import-calendar').val(calendar.id);

    var buttons = [
      {
        text: rcmail.gettext('import', 'calendar'),
        'class': 'mainaction import',
        click: function () {
          if (form &amp;&amp; form.elements._data.value) {
            rcmail.async_upload_form(form, 'import_events', function (e) {
              rcmail.set_busy(false, null, me.saving_lock);
              $('.ui-dialog-buttonpane button', $dialog.parent()).prop('disabled', false);

              // display error message if no sophisticated response from server arrived (e.g. iframe load error)
              if (me.import_succeeded === null)
                rcmail.display_message(rcmail.get_label('importerror', 'calendar'), 'error');
            });

            // display upload indicator (with extended timeout)
            var timeout = rcmail.env.request_timeout;
            rcmail.env.request_timeout = 600;
            me.import_succeeded = null;
            me.saving_lock = rcmail.set_busy(true, 'uploading');
            $('.ui-dialog-buttonpane button', $dialog.parent()).prop('disabled', true);

            // restore settings
            rcmail.env.request_timeout = timeout;
          }
        }
      },
      {
        text: rcmail.gettext('cancel', 'calendar'),
        'class': 'cancel',
        click: function () { $dialog.dialog("close"); }
      }
    ];

    // open jquery UI dialog
    $dialog.dialog({
      modal: true,
      resizable: false,
      closeOnEscape: false,
      title: rcmail.gettext('importevents', 'calendar'),
      close: function () {
        $('.ui-dialog-buttonpane button', $dialog.parent()).prop('disabled', false);
        $dialog.dialog("destroy").hide();
      },
      buttons: buttons,
      width: 520
    }).show();
  };

  // callback from server if import succeeded
  this.import_success = function (p) {
    this.import_succeeded = true;
    $("#eventsimport:ui-dialog").dialog('close');
    rcmail.set_busy(false, null, me.saving_lock);
    rcmail.gui_objects.importform.reset();

    if (p.refetch)
      this.refresh(p);
  };

  // callback from server to report errors on import
  this.import_error = function (p) {
    this.import_succeeded = false;
    rcmail.set_busy(false, null, me.saving_lock);
    rcmail.display_message(p.message || rcmail.get_label('importerror', 'calendar'), 'error');
  }

  // open a dialog to select calendars for export
  this.export_events = function (calendar) {
    // close show dialog first
    var $dialog = $("#eventsexport"),
      form = rcmail.gui_objects.exportform;

    if ($dialog.is(':ui-dialog'))
      $dialog.dialog('close');

    if (calendar)
      $('#event-export-calendar').val(calendar.id);

    $('#event-export-range').change(function (e) {
      var custom = $(this).val() == 'custom', input = $('#event-export-startdate');

      $(this)[custom ? 'removeClass' : 'addClass']('rounded-right'); // Elastic/Bootstrap
      input[custom ? 'show' : 'hide']();
      if (custom)
        input.select();
    })

    var buttons = [
      {
        text: rcmail.gettext('export', 'calendar'),
        'class': 'mainaction export',
        click: function () {
          if (form) {
            var start = 0, range = $('#event-export-range', this).val(),
              source = $('#event-export-calendar').val();
              //PAMELA - Dans la mesure où la fonction Exporter ne peut prendre les PJ, autant virer l'option.
              // attachmt = $('#event-export-attachments').get(0).checked;

            if (range == 'custom')
              start = date2unixtime(me.parse_datetime('00:00', $('#event-export-startdate').val()));
            else if (range > 0)
              start = 'today -' + range + ' months';

            rcmail.goto_url('export_events', { source: source, start: start, attachments: 0 }, false);
          }
          $dialog.dialog("close");
        }
      },
      {
        text: rcmail.gettext('cancel', 'calendar'),
        'class': 'cancel',
        click: function () { $dialog.dialog("close"); }
      }
    ];

    // open jquery UI dialog
    $dialog.dialog({
      modal: true,
      resizable: false,
      closeOnEscape: false,
      title: rcmail.gettext('exporttitle', 'calendar'),
      close: function () {
        $('.ui-dialog-buttonpane button', $dialog.parent()).prop('disabled', false);
        $dialog.dialog("destroy").hide();
      },
      buttons: buttons,
      width: 520
    }).show();
  };

  // download the selected event as iCal
  this.event_download = function (event) {
    if (event &amp;&amp; event.id) {
      rcmail.goto_url('export_events', { source: event.calendar, id: event.id, attachments: 1 }, false);
    }
  };

  // open the message compose step with a calendar_event parameter referencing the selected event.
  // the server-side plugin hook will pick that up and attach the event to the message.
  this.event_sendbymail = function (event, e) {
    if (event &amp;&amp; event.id) {
      rcmail.command('compose', { _calendar_event: event._id }, e ? e.target : null, e);
    }
  };

  // display the edit dialog, request 'new' action and pass the selected event
  this.event_copy = function (event) {
    if (event &amp;&amp; event.id) {
      var copy = $.extend(true, {}, event);

      delete copy.id;
      delete copy._id;
      delete copy.created;
      delete copy.changed;
      delete copy.recurrence_id;
      delete copy.attachments; // @TODO

      $.each(copy.attendees, function (k, v) {
        if (v.role != 'ORGANIZER') {
          v.status = 'NEEDS-ACTION';
        }
      });

      setTimeout(function () { event_edit_dialog('new', copy); }, 50);
    }
  };

  // show URL of the given calendar in a dialog box
  this.showurl = function (calendar) {
    if (calendar.feedurl) {
      var dialog = $('#calendarurlbox').clone(true).removeClass('uidialog');

      if (calendar.caldavurl) {
        $('#caldavurl', dialog).val(calendar.caldavurl);
        $('#calendarcaldavurl', dialog).show();
      }
      else {
        $('#calendarcaldavurl', dialog).hide();
      }

      if (calendar.caldavurl) {
        $('#caldavurl', dialog).val(calendar.caldavurl);
        $('#calendarcaldavurl', dialog).show();
      }
      else {
        $('#calendarcaldavurl', dialog).hide();
      }

      if (calendar.feedfreebusyurl) {
        $('#calfreebusyurl', dialog).val(calendar.feedfreebusyurl);
        $('#calendarcalfreebusyurl', dialog).show();
      }


      if (calendar.showfeedcalendarurl) {
        if (calendar.feedcalendarurl) {
          $('#input_calpublicfeedurl', dialog).show();
          $('#calpublicfeedurl', dialog).val(calendar.feedcalendarurl);
          $('#button_fullcalendarurl', dialog).show();

          $("#checkpublicfeedurl", dialog).prop("checked", true);
        }
        else {
          $('#input_calpublicfeedurl', dialog).hide();
          $('#calpublicfeedurl', dialog).val('');
          $('#button_fullcalendarurl', dialog).hide();
          $("#checkpublicfeedurl", dialog).prop("checked", false);
        }
        $('#ppublicfeedurl', dialog).parent().parent().show();
      }
      else {
        $('#ppublicfeedurl', dialog).parent().parent().hide();
      }

      rcmail.simple_dialog(dialog, rcmail.gettext('showurl', 'calendar'), null, {
        open: function () { $('#calfeedurl', dialog).val(calendar.feedurl); },
        cancel_button: 'close'
      });
    }
  };

  //PAMELA appointment configuration
  this.appointment = function (calendar) {
    let dialog = $('#appointmentbox').clone(true).removeClass('uidialog');
    let form = dialog.find('#appointmentpropform');
    rcmail.env.appointment_form = form;

    //On initialise le datetimepicker sur tous les jours de la semaines
    for (let i = 1; i &lt; 8; i++) {
      $('#time_start_' + i + '-1', dialog).datetimepicker({
        datepicker: false,
        format: 'H:i',
        step: 15,
        value: settings.work_start + ':00'
      });

      $('#time_end_' + i + '-1', dialog).datetimepicker({
        datepicker: false,
        format: 'H:i',
        step: 15,
        value: settings.work_end + ':00'
      });
    }


    let user_pref = JSON.parse(rcmail.env.user_appointment_pref);

    if (user_pref &amp;&amp; (user_pref.enabled === "true" || user_pref.enabled === true ? true : false)) {

      form.find('#check_appointment').prop('checked', user_pref)
      form.find('#appointment_url').val(user_pref.url);
      form.find('#check_user_select_time').prop('checked', user_pref.check_user_select_time === 'true');
      if (user_pref.check_user_select_time === 'true') {
        form.find('#time').hide();
      }
      else {
        if (user_pref.custom_time_select) {
          form.find(`#time_select option[value="custom"]`).prop('selected', true);
          form.find('#custom_time').show();
          form.find(`#custom_time_select option[value="${user_pref.custom_time_select}"]`).prop('selected', true);
          form.find('#custom_time_input').val(user_pref.time_select)

        } else {
          form.find(`#time_select option[value="${user_pref.time_select}"]`).prop('selected', true);
        }
      }

      if (user_pref.place) {
        user_pref.place.forEach(element => {
          switch (element.type) {
            case "attendee_call":
              form.find(`#phone`).prop('checked', true);
              form.find('#phone_fields').show();
              form.find(`#attendee_call`).prop('checked', true);
              form.find('#phone_number_field').show();
              form.find('#phone_input').val(element.value);
              break;
            case "organizer_call":
              form.find(`#phone`).prop('checked', true);
              form.find('#phone_fields').show();
              form.find(`#organizer_call`).prop('checked', true);
              break;
            case "address":
              form.find(`#${element.type}`).prop('checked', true);
              form.find('#address_fields').show();
              form.find('#address_input').val(element.value);
              break;
            case "webconf":
              form.find(`#${element.type}`).prop('checked', true);
              form.find('#webconf_fields').show();
              form.find('#webconf_input').val(element.value);
              form.find('#webconf_phone').val(element.phone);
              form.find('#webconf_phone_pin').val(element.pin);
              break;

            default:
              break;
          }
        });
      }

      form.find(`#time_before_select option[value="${user_pref.time_before_select}"]`).prop('selected', true);
      form.find(`#time_after_select option[value="${user_pref.time_after_select}"]`).prop('selected', true);
      form.find('#custom_reason').prop('checked', user_pref.custom_reason === 'true');

      if (user_pref.reason) {
        user_pref.reason.forEach((element, index) => {
          if (index == 0) {
            form.find('#time_reason-1').val(element)
          }
          else {
            let input_array = form.find('#appointment_reason .row:last-child').find('input');
            let start_input = input_array.attr('id').split('-');
            let new_id = parseInt(start_input[1]) + 1;

            form.find('#appointment_reason').append('&lt;div id="row' + new_id + '" class="form-group row mt-3">&lt;div class="col-10">&lt;input type="text" class="form-control" id="time_reason-' + new_id + '" placeholder="Motif" value="' + element + '">&lt;/div>&lt;div class="col-1">&lt;button class="btn btn-danger" title="Supprimer le motif de rendez-vous" id="reason_trash_' + new_id + '" onclick="remove_reason(`' + new_id + '`)">&lt;span class="icon-mel-trash">&lt;/span>&lt;/button>&lt;/div>&lt;/div>');

          }
        })
      }

      for (let i = 0; i &lt; 7; i++) {
        let day_range = user_pref.range[i];

        let new_i;
        i == 0 ? new_i = 7 : new_i = i;
        if (day_range != "") {
          form.find('#day_check_' + new_i).prop('checked', true);
          form.find('#appointment_range_' + new_i).show();

          form.find(`#time_start_${new_i}-1`).val(day_range[0])
          form.find(`#time_end_${new_i}-1`).val(day_range[1])

          if (day_range.length > 2) {
            for (let j = 2; j &lt; day_range.length; j += 2) {
              let id = new_i + '-' + j;
              form.find('#appointment_range_' + new_i).append('&lt;div id="row' + id + '" class="row mt-2">&lt;div class="col-5">&lt;input id="time_start_' + id + '" name="time_start_' + id + '" type="text" class="form-control" onchange="check_time_validity(`' + id + '`)">&lt;/div>-&lt;div class="col-5">&lt;input id="time_end_' + id + '" name="time_end_' + id + '"  type="text" class="form-control" onchange="check_time_validity(`' + id + '`)">&lt;/div>&lt;div class="col-1 pl-0">&lt;button class="btn btn-danger" id="time_trash_' + id + '" onclick="remove_time(`' + id + '`)">&lt;span class="icon-mel-trash">&lt;/span>&lt;/button>&lt;/div>&lt;span id="time_alert_' + id + '" class="text-danger" style="display: none;">&lt;/span>&lt;/div>');

              form.find('#time_start_' + id).datetimepicker({
                datepicker: false,
                format: 'H:i',
                step: 15,
                value: day_range[j]
              });

              form.find('#time_end_' + id).datetimepicker({
                datepicker: false,
                format: 'H:i',
                step: 15,
                value: day_range[j + 1]
              });
            }
          }
        }
        else {
          form.find('#day_check_' + new_i).prop('checked', false);
          form.find('#appointment_range_' + new_i).hide();
        }
      }

    }
    else {
      form.find('#appointment_configuration').hide();
      dialog.find('#button_fullcalendarurl').hide();
    }

    save_func = function () {
      appointment_save_func()
    };

    rcmail.simple_dialog(dialog, rcmail.gettext('configureappointment', 'calendar'), save_func, {
      cancel_button: 'close'
    });
  };

  function appointment_save_func() {
    let appointment = {};
    let form = rcmail.env.appointment_form;

    appointment.check_user_select_time = form.find('#check_user_select_time').prop('checked');

    if (!appointment.check_user_select_time) {
      appointment.time_select = form.find('#time_select').val();

      if (appointment.time_select == 'custom') {
        appointment.custom_time_select = form.find('#custom_time_select').val();
        appointment.time_select = form.find('#custom_time_input').val();
      }
    }

    let error_message = "Ce champs est obligatoire";
    let error = false;
    for (let e of form.find('input[required]')) {
      if (!($(e).val() || null)) {
        if (!$(e).is(':hidden')) {    
          form.find(`#${e.id}`).addClass('is-invalid');
          form.find(`#${e.id.split('_')[0]}_error`).text(error_message);
          error = true;
        }
      }
      else {
        form.find(`#${e.id}`).removeClass('is-invalid');
        form.find(`#${e.id.split('_')[0]}_error`).text("");
      }
    }
    if (error) {
      return;
    }

    appointment.range = {};


    for (let i = 1; i &lt; 8; i++) {
      let inputs_val = [""];

      if (form.find('#day_check_' + i).prop('checked')) {

        let inputs = form.find('#appointment_range_' + i).find('input');
        inputs_val = [];
        inputs.each((index, input) => {
          inputs_val.push(input.value)
        })
      }

      //le dimanche doit être 0 pour fullcalendar
      if (i == 7) {
        appointment.range[0] = inputs_val;
      }
      else {
        appointment.range[i] = inputs_val;
      }
    }

    appointment.time_before_select = form.find('#time_before_select').val();
    appointment.time_after_select = form.find('#time_after_select').val();

    let appointment_reason = [];
    let inputs_reason = form.find('#appointment_reason').find('input');
    inputs_reason.each((index, input) => {
      appointment_reason.push(input.value)
    })
    appointment.reason = appointment_reason;

    appointment.custom_reason = form.find('#custom_reason').prop('checked');

    select_place = form.find('#place').find('input:checkbox');

    let place = [];
    select_place.each((index, input) => {
      if ($(input).prop('checked')) {
        let id = input.id;
        switch (id) {
          case 'address':
            place.push({ "type": id, value: form.find('#address_input').val(), text: form.find('#adress_text').text() })
            break;
          case 'phone':
            form.find('#phone_fields').find('input').each((index, input) => {
              if ($(input).prop('checked')) {
                if (input.id == "organizer_call") {
                  place.push({ "type": input.id, value: true, text: form.find('#phone_text').text() })
                }
                if (input.id == "attendee_call") {
                  place.push({ "type": input.id, value: form.find('#phone_input').val(), text: form.find('#phone_text').text() })
                }
              }

            })
            break;
          case 'webconf':
            place.push({ "type": id, value: form.find('#webconf_input').val(), text: form.find('#webconf_text').text(), phone: form.find('#webconf_phone').val(), pin: form.find('#webconf_phone_pin').val() })
            break;

          default:
            break;
        }
      }
    });

    appointment.place = place;
    appointment.url = form.find('#appointment_url').val();

    appointment.enabled = form.find('#check_appointment').prop('checked');
    
    rcmail.env.user_appointment_pref = JSON.stringify(appointment);

    var lock = rcmail.display_message(rcmail.get_label('loading'), 'loading');
    rcmail.http_post('calendar', { action: "appointment", c: appointment }, lock);
  };

  // show free-busy URL in a dialog box
  this.showfburl = function () {
    var dialog = $('#fburlbox').clone(true);

    rcmail.simple_dialog(dialog, rcmail.gettext('showfburl', 'calendar'), null, {
      open: function () { $('#fburl', dialog).val(settings.freebusy_url).select(); },
      cancel_button: 'close'
    });
  };

  // refresh the calendar view after saving event data
  this.refresh = function (p) {
    // PAMELA - Gestion du cache
    if (p.update &amp;&amp; p.update.calendar_token) {
      me.calendars[p.source].token = p.update.calendar_token;
    }
    var source = me.calendars[p.source];

    // helper function to update the given fullcalendar view
    function update_view(view, event, source) {
      var existing = view.fullCalendar('clientEvents', event._id);
      if (existing.length) {
        delete existing[0].temp;
        delete existing[0].editable;
        $.extend(existing[0], event);

        view.fullCalendar('updateEvent', existing[0]);
        // remove old recurrence instances
        if (event.recurrence &amp;&amp; !event.recurrence_id)
          view.fullCalendar('removeEvents', function (e) { return e._id.indexOf(event._id + '-') == 0; });
      }
      else {
        // PAMELA - Fullcalendar premium
        // event.source = view.fullCalendar('getEventSourceById', source.id);  // link with source
        // view.fullCalendar('renderEvent', event);
        // MANTIS 0007067: Problème de doublon d'événement en affichage pendant une mise à jour
        fc.fullCalendar('refetchEventSources', source);
        fetch_counts();
      }
      // PAMELA - Gestion du cache
      fc.fullCalendar('updateEventSourceToken', source);
    }

    // remove temp events
    fc.fullCalendar('removeEvents', function (e) { return e.temp; });

    if (source &amp;&amp; (p.refetch || (p.update &amp;&amp; !source.active))) {
      // activate event source if new event was added to an invisible calendar
      if (this.quickview_active) {
        // map source to the quickview_sources equivalent
        $.each(this.quickview_sources, function (src) {
          if (src.id == source.id) {
            source = src;
            return false;
          }
        });
      }
      else if (!source.active) {
        source.active = true;
        $('#rcmlical' + source.id + ' input').prop('checked', true);
      }

      // PAMELA - gestion du cache
      let sources = [];
      for (const key in p.cals) {
        if (me.calendars[key].token != p.cals[key].token) {
          me.calendars[key].token = p.cals[key].token;
          sources.push(me.calendars[key]);
        }
      }
      fc.fullCalendar('refetchEventSources', sources);
      // fc.fullCalendar('refetchEventSources', source.id);
      fetch_counts();
    }
    // add/update single event object
    else if (source &amp;&amp; p.update) {
      var event = p.update;

      // update main view
      update_view(fc, event, source);

      // update the currently displayed event dialog
      if ($('#eventshow').is(':visible') &amp;&amp; me.selected_event &amp;&amp; me.selected_event.id == event.id)
        event_show_dialog(event);
    }
    // refetch all calendars
    else if (p.refetch) {
      // PAMELA - gestion du cache
      let sources = [];
      for (const key in p.cals) {
        if (me.calendars[key].token != p.cals[key].token) {
          me.calendars[key].token = p.cals[key].token;
          sources.push(me.calendars[key]);
        }
      }
      fc.fullCalendar('refetchEventSources', sources);
      // fc.fullCalendar('refetchEvents');
      fetch_counts();
    }
  };

  // modify query parameters for refresh requests
  this.before_refresh = function (query) {
    var view = fc.fullCalendar('getView');

    query.start = date2unixtime(view.start.toDate());
    query.end = date2unixtime(view.end.toDate());

    if (this.search_query)
      query.q = this.search_query;

    return query;
  };

  // callback from server providing event counts
  this.update_counts = function (p) {
    $.each(p.counts, function (cal, count) {
      var li = calendars_list.get_item(cal),
        bubble = $(li).children('.calendar').find('span.count');

      if (!bubble.length &amp;&amp; count > 0) {
        bubble = $('&lt;span>')
          .addClass('count')
          .appendTo($(li).children('.calendar').first())
      }

      if (count > 0) {
        bubble.text(count).show();
      }
      else {
        bubble.text('').hide();
      }
    });
  };

  // callback after an iTip message event was imported
  this.itip_message_processed = function (data) {
    // remove temporary iTip source
    fc.fullCalendar('removeEventSource', this.calendars['--invitation--itip']);

    $('#eventshow:ui-dialog').dialog('close');
    this.selected_event = null;

    // refresh destination calendar source
    this.refresh({ source: data.calendar, refetch: true });

    this.unlock_saving();

    // process 'after_action' in mail task
    if (window.opener &amp;&amp; window.opener.rcube_libcalendaring)
      window.opener.rcube_libcalendaring.itip_message_processed(data);
  };

  // reload the calendar view by keeping the current date/view selection
  this.reload_view = function () {
    var query = { view: fc.fullCalendar('getView').name },
      date = fc.fullCalendar('getDate');
    if (date)
      query.date = date2unixtime(date.toDate());
    rcmail.redirect(rcmail.url('', query));
  }

  // update browser location to remember current view
  this.update_state = function () {
    var query = { view: current_view },
      date = fc.fullCalendar('getDate');
    if (date)
      query.date = date2unixtime(date.toDate());

    if (window.history.replaceState)
      window.history.replaceState({}, document.title, rcmail.url('', query).replace('&amp;_action=', ''));
  };

  this.resource_search = resource_search;
  this.reset_resource_search = reset_resource_search;
  this.add_resource2event = add_resource2event;
  this.resource_data_load = resource_data_load;
  this.resource_owner_load = resource_owner_load;


  /***  event searching  ***/

  // execute search
  this.quicksearch = function () {
    if (rcmail.gui_objects.qsearchbox) {
      var q = rcmail.gui_objects.qsearchbox.value;
      if (q != '') {
        var id = 'search-' + q;
        var sources = [];

        if (me.quickview_active)
          reset_quickview();

        if (this._search_message)
          rcmail.hide_message(this._search_message);

        $.each(fc.fullCalendar('getEventSources'), function () {
          this.url = this.url.replace(/&amp;q=.+/, '') + '&amp;q=' + urlencode(q);
          me.calendars[this.id].url = this.url;
          sources.push(this.id);
        });
        id += '@' + sources.join(',');

        // ignore if query didn't change
        if (this.search_request == id) {
          return;
        }
        // remember current view
        else if (!this.search_request) {
          this.default_view = fc.fullCalendar('getView').name;
        }

        this.search_request = id;
        this.search_query = q;

        // change to list view
        fc.fullCalendar('changeView', 'list');

        // refetch events with new url (if not already triggered by changeView)
        if (!this.is_loading)
          fc.fullCalendar('refetchEvents');
      }
      else  // empty search input equals reset
        this.reset_quicksearch();
    }
  };

  // reset search and get back to normal event listing
  this.reset_quicksearch = function () {
    $(rcmail.gui_objects.qsearchbox).val('');

    if (this._search_message)
      rcmail.hide_message(this._search_message);

    if (this.search_request) {
      $.each(fc.fullCalendar('getEventSources'), function () {
        this.url = this.url.replace(/&amp;q=.+/, '');
        me.calendars[this.id].url = this.url;
      });

      this.search_request = this.search_query = null;

      fc.fullCalendar('refetchEvents');
    }
  };

  // callback if all sources have been fetched from server
  this.events_loaded = function () {
    if (this.search_request &amp;&amp; !fc.fullCalendar('clientEvents').length) {
      this._search_message = rcmail.display_message(rcmail.gettext('searchnoresults', 'calendar'), 'notice');
    }
  };

  // adjust calendar view size
  this.view_resize = function () {
    var footer = fc.fullCalendar('getView').name == 'list' ? $('#agendaoptions').outerHeight() : 0;
    fc.fullCalendar('option', 'height', $('#calendar').height() - footer);
  };

  // mark the given calendar folder as selected
  this.select_calendar = function (id, nolistupdate) {
    if (!nolistupdate)
      calendars_list.select(id);

    // trigger event hook
    rcmail.triggerEvent('selectfolder', { folder: id, prefix: 'rcmlical' });

    this.selected_calendar = id;

    rcmail.update_state({ source: id });
    rcmail.enable_command('addevent', this.calendars[id] &amp;&amp; this.calendars[id].editable);
  };

  // register the given calendar to the current view
  var add_calendar_source = function (cal) {
    var brightness, select, id = cal.id;

    me.calendars[id] = $.extend({
      url: rcmail.url('calendar/load_events', { source: id }),
      id: id
    }, cal);

    if (fc &amp;&amp; (cal.active || cal.subscribed)) {
      if (cal.active) {
        fc.fullCalendar('addEventSource', me.calendars[id]);

        // PAMELA
        fc.fullCalendar('addResource', me.calendars[id]);
      }

      var submit = { id: id, active: cal.active ? 1 : 0 };
      if (cal.subscribed !== undefined)
        submit.permanent = cal.subscribed ? 1 : 0;
      rcmail.http_post('calendar', { action: 'subscribe', c: submit });
    }

    // insert to #calendar-select options if writeable
    select = $('#edit-calendar');
    if (fc &amp;&amp; me.has_permission(cal, 'i') &amp;&amp; select.length &amp;&amp; !select.find('option[value="' + id + '"]').length) {
      $('&lt;option>').attr('value', id).html(cal.name).appendTo(select);
    }
  }

  // fetch counts for some calendars from the server
  var fetch_counts = function () {
    if (count_sources.length) {
      setTimeout(function () {
        rcmail.http_request('calendar/count', { source: count_sources });
      }, 500);
    }
  };

  this.init_calendars = function (refresh) {
    var id, cal, active;

    for (id in rcmail.env.calendars) {
      cal = rcmail.env.calendars[id];
      active = cal.active || false;

      if (!refresh) {
        add_calendar_source(cal);

        // check active calendars
        $('#rcmlical' + id + ' > .calendar input').prop('checked', active);

        if (active) {
          event_sources.push(this.calendars[id]);
        }
        if (cal.counts) {
          count_sources.push(id);
        }
      }

      if (cal.editable &amp;&amp; (!this.selected_calendar || refresh)) {
        this.selected_calendar = id;
        if (refresh) {
          this.select_calendar(id);
          refresh = false;
        }
      }
    }
  };


  /***  startup code  ***/

  // initialize treelist widget that controls the calendars list
  var widget_class = window.kolab_folderlist || rcube_treelist_widget;
  calendars_list = new widget_class(rcmail.gui_objects.calendarslist, {
    id_prefix: 'rcmlical',
    selectable: true,
    save_state: true,
    keyboard: false,
    searchbox: '#calendarlistsearch',
    search_action: 'calendar/calendar',
    search_sources: ['folders', 'users'],
    search_title: rcmail.gettext('calsearchresults', 'calendar')
  });
  calendars_list.addEventListener('select', function (node) {
    if (node &amp;&amp; node.id &amp;&amp; me.calendars[node.id]) {
      me.select_calendar(node.id, true);
      rcmail.enable_command('calendar-edit', 'calendar-showurl', 'calendar-appointment', 'calendar-showfburl', true);
      // PAMELA - Différencier editable et deletable
      rcmail.enable_command('calendar-delete', me.calendars[node.id].deletable);
      rcmail.enable_command('calendar-remove', me.calendars[node.id] &amp;&amp; me.calendars[node.id].removable);
      // MANTIS 3607: Permettre de remplacer tous les évènements lors d'un import
      rcmail.enable_command('calendar-delete-all', true);
      // MANTIS 3896: Partage public et protégé de l'agenda
      rcmail.enable_command('calendar-check-feed-url', true);
      rcmail.enable_command('toggle-appointment', true);
      rcmail.enable_command('calendar-setting-resource', true);
    }
  });
  calendars_list.addEventListener('insert-item', function (p) {
    var cal = p.data;
    if (cal &amp;&amp; cal.id) {
      add_calendar_source(cal);

      // add css classes related to this calendar to document
      if (cal.css) {
        $('&lt;style type="text/css">&lt;/style>')
          .html(cal.css)
          .appendTo('head');
      }
    }
  });
  calendars_list.addEventListener('subscribe', function (p) {
    var cal;
    if ((cal = me.calendars[p.id])) {
      cal.subscribed = p.subscribed || false;
      rcmail.http_post('calendar', { action: 'subscribe', c: { id: p.id, active: cal.active ? 1 : 0, permanent: cal.subscribed ? 1 : 0 } });
    }
  });
  calendars_list.addEventListener('remove', function (p) {
    if (me.calendars[p.id] &amp;&amp; me.calendars[p.id].removable) {
      me.calendar_remove(me.calendars[p.id]);
    }
  });
  calendars_list.addEventListener('search-complete', function (data) {
    if (data.length)
      rcmail.display_message(rcmail.gettext('nrcalendarsfound', 'calendar').replace('$nr', data.length), 'voice');
    else
      rcmail.display_message(rcmail.gettext('nocalendarsfound', 'calendar'), 'notice');
  });
  calendars_list.addEventListener('click-item', function (event) {
    // handle clicks on quickview icon: temprarily add this source and open in quickview
    if ($(event.target).hasClass('quickview') &amp;&amp; event.data) {
      if (!me.calendars[event.data.id]) {
        event.data.readonly = true;
        event.data.active = false;
        event.data.subscribed = false;
        add_calendar_source(event.data);
      }
      me.quickview(event.data.id, event.shiftKey || event.metaKey || event.ctrlKey);
      return false;
    }
  });

  // init (delegate) event handler on calendar list checkboxes
  $(rcmail.gui_objects.calendarslist).on('click', 'input[type=checkbox]', function (e) {
    e.stopPropagation();

    if (me.quickview_active) {
      this.checked = !this.checked;
      return false;
    }

    var id = this.value;

    // add or remove event source on click
    if (me.calendars[id]) {
      // adjust checked state of original list item
      if (calendars_list.is_search()) {
        calendars_list.container.find('input[value="' + id + '"]').prop('checked', this.checked);
      }

      me.calendars[id].active = this.checked;

      // add/remove event source
      fc.fullCalendar(this.checked ? 'addEventSource' : 'removeEventSource', me.calendars[id]);

      // PAMELA
      fc.fullCalendar(this.checked ? 'addResource' : 'removeResource', me.calendars[id]);

      rcmail.http_post('calendar', { action: 'subscribe', c: { id: id, active: this.checked ? 1 : 0 } });
    }
  })
    .on('keypress', 'input[type=checkbox]', function (e) {
      // select calendar on &lt;Enter>
      if (e.keyCode == 13) {
        calendars_list.select(this.value);
        return rcube_event.cancel(e);
      }
    })
    // init (delegate) event handler on quickview links
    .on('click', 'a.quickview', function (e) {
      var id = $(this).closest('li').attr('id').replace(/^rcmlical/, '');

      if (calendars_list.is_search())
        id = id.replace(/--xsR$/, '');

      if (me.calendars[id])
        me.quickview(id, e.shiftKey || e.metaKey || e.ctrlKey);

      if (!rcube_event.is_keyboard(e) &amp;&amp; this.blur)
        this.blur();

      e.stopPropagation();
      return false;
    });

  // register dbl-click handler to open calendar edit dialog
  $(rcmail.gui_objects.calendarslist).on('dblclick', ':not(.virtual) > .calname', function (e) {
    var id = $(this).closest('li').attr('id').replace(/^rcmlical/, '');
    me.calendar_edit_dialog(me.calendars[id]);
  });

  // Make Elastic checkboxes pretty
  if (window.UI &amp;&amp; UI.pretty_checkbox) {
    $(rcmail.gui_objects.calendarslist).find('input[type=checkbox]').each(function () {
      UI.pretty_checkbox(this);
    });
    calendars_list.addEventListener('add-item', function (prop) {
      UI.pretty_checkbox($(prop.li).find('input'));
    });
  }

  // create list of event sources AKA calendars
  this.init_calendars();

  // select default calendar
  if (rcmail.env.source &amp;&amp; this.calendars[rcmail.env.source])
    this.selected_calendar = rcmail.env.source;
  else if (settings.default_calendar &amp;&amp; this.calendars[settings.default_calendar] &amp;&amp; this.calendars[settings.default_calendar].editable)
    this.selected_calendar = settings.default_calendar;

  if (this.selected_calendar)
    this.select_calendar(this.selected_calendar);

  var viewdate = new Date();
  if (rcmail.env.date)
    viewdate.setTime(fromunixtime(rcmail.env.date));

  // add source with iTip event data for rendering
  if (rcmail.env.itip_events &amp;&amp; rcmail.env.itip_events.length) {
    me.calendars['--invitation--itip'] = {
      events: rcmail.env.itip_events,
      color: 'ffffff',
      editable: false,
      rights: 'lrs',
      attendees: true
    };
    event_sources.push(me.calendars['--invitation--itip']);
  }

  // initalize the fullCalendar plugin
  var fc = $('#calendar').fullCalendar($.extend({}, fullcalendar_defaults, {
    header: {
      right: 'prev,next today',
      center: 'title',
      left: 'timelineDay,agendaDay,agendaTwoDay,agendaThreeDay,agendaResource,agendaWork,agendaWeek,timelineWeek,monthWork,month,list'
    },
    defaultDate: viewdate,
    height: $('#calendar').height(),
    eventSources: event_sources,
    selectable: true,
    selectHelper: false,
    loading: function (isLoading) {
      me.is_loading = isLoading;
      this._rc_loading = rcmail.set_busy(isLoading, me.search_request ? 'searching' : 'loading', this._rc_loading);
      // trigger callback (using timeout, otherwise clientEvents is always empty)
      if (!isLoading)
        setTimeout(function () { me.events_loaded(); }, 20);
      setTimeout(() => {
        let time = settings.first_hour &lt; 10 ? '0' + settings.first_hour : settings.first_hour;
        $(".fc-scroller").scrollTop($('[data-time="' + time + ':00:00' + '"]').position().top);
      }, 20);
    },
    // callback for date range selection
    // PAMELA - Fullcalendar premium
    select: function (start, end, e, view, resource) {
      var range_select = (start.hasTime() || start != end)
      if (dialog_check(e) &amp;&amp; range_select)
        // PAMELA - Fullcalendar premium
        event_edit_dialog('new', { start: start, end: end, allDay: !start.hasTime(), calendar: resource ? resource.id : me.selected_calendar });
      if (range_select || ignore_click)
        view.calendar.unselect();
    },
    // callback for clicks in all-day box
    // PAMELA - Fullcalendar premium
    dayClick: function (date, e, view, resource) {
      var now = new Date().getTime();
      if (now - day_clicked_ts &lt; 400 &amp;&amp; day_clicked == date.toDate().getTime()) {  // emulate double-click on day
        var enddate = new Date();
        if (date.hasTime())
          enddate.setTime(date.toDate().getTime() + DAY_MS - 60000);
        // PAMELA - Fullcalendar premium
        return event_edit_dialog('new', { start: date, end: enddate, allDay: !date.hasTime(), calendar: resource ? resource.id : me.selected_calendar });
      }

      if (!ignore_click) {
        view.calendar.gotoDate(date);
        if (day_clicked &amp;&amp; new Date(day_clicked).getMonth() != date.toDate().getMonth())
          view.calendar.select(date, date);
      }
      day_clicked = date.toDate().getTime();
      day_clicked_ts = now;
    },
    // callback when an event was dragged and finally dropped
    eventDrop: function (event, delta, revertFunc) {
      if (!event.end || event.end.diff(event.start) &lt; 0) {
        if (event.allDay)
          event.end = moment(event.start).hour(13).minute(0).second(0);
        else
          event.end = moment(event.start).add(2, 'hours');
      }
      else if (event.allDay) {
        event.end.subtract(1, 'days').hour(13);
      }

      if (event.allDay)
        event.start.hour(12);

      // send move request to server
      var data = {
        id: event.id,
        calendar: event.calendar,
        start: date2servertime(event.start),
        end: date2servertime(event.end),
        allDay: event.allDay ? 1 : 0
      };

      update_event_confirm('move', event, data);
    },
    // callback for event resizing
    eventResize: function (event, delta) {
      // sanitize event dates
      if (event.allDay) {
        event.start.hours(12);
        event.end.hour(13).subtract(1, 'days');
      }

      // send resize request to server
      var data = {
        id: event.id,
        calendar: event.calendar,
        start: date2servertime(event.start),
        end: date2servertime(event.end),
        allDay: event.allDay ? 1 : 0
      };

      update_event_confirm('resize', event, data);
    },
    viewRender: function (view, element) {
      $('#agendaoptions')[view.name == 'list' ? 'show' : 'hide']();

      if (minical) {
        window.setTimeout(function () { minical.datepicker('setDate', fc.fullCalendar('getDate').toDate()); }, exec_deferred);
        if (view.name != current_view)
          me.view_resize();
        current_view = view.name;
        me.update_state();
      }

      var viewStart = moment(view.start);

      $('#calendar .fc-prev-button').off('click').on('click', function () {
        if (view.name == 'list')
          fc.fullCalendar('gotoDate', viewStart.subtract(settings.agenda_range, 'days'));
        else
          fc.fullCalendar('prev');
      });
      $('#calendar .fc-next-button').off('click').on('click', function () {
        if (view.name == 'list')
          fc.fullCalendar('gotoDate', viewStart.add(settings.agenda_range, 'days'));
        else
          fc.fullCalendar('next');
      });
    },
    eventAfterAllRender: function (view) {
      if (view.name == 'list') {
        // Fix colspan of headers after we added Location column
        fc.find('tr.fc-list-heading > td').attr('colspan', 4);
      }
    }
  }));



  // if start date is changed, shift end date according to initial duration
  var shift_enddate = function (dateText) {
    var newstart = me.parse_datetime('0', dateText);
    var newend = new Date(newstart.getTime() + $('#edit-startdate').data('duration') * 1000);
    $('#edit-enddate').val(format_date(newend, me.settings.date_format));
    event_times_changed();
  };

  // Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
  // Uses the default $.datepicker.iso8601Week() function but takes firstDay setting into account.
  // This is a temporary fix until http://bugs.jqueryui.com/ticket/8420 is resolved.
  var iso8601Week = me.datepicker_settings.calculateWeek = function (date) {
    var mondayOffset = Math.abs(1 - me.datepicker_settings.firstDay);
    return $.datepicker.iso8601Week(new Date(date.getTime() + mondayOffset * 86400000));
  };

  // Réajouter les ressources depuis les calendriers
  for (const key in me.calendars) {
    if (Object.hasOwnProperty.call(me.calendars, key)) {
      const calendar = me.calendars[key];
      if (calendar.active) {
        fc.fullCalendar('addResource', calendar);
      }
    }
  }

  var minical;
  var init_calendar_ui = function () {
    var pretty_select = function (elem) {
      // for Elastic
      if (window.UI &amp;&amp; UI.pretty_select) {
        $(elem).addClass('form-control custom-select').each(function () { UI.pretty_select(this); });
      }
    };

    // initialize small calendar widget using jQuery UI datepicker
    minical = $('#datepicker').datepicker($.extend(me.datepicker_settings, {
      inline: true,
      changeMonth: true,
      changeYear: true,
      onSelect: function (dateText, inst) {
        ignore_click = true;
        var d = minical.datepicker('getDate');
        fc.fullCalendar('gotoDate', d)
        fc.fullCalendar('select', d, d);
        setTimeout(function () { pretty_select($('select', minical)); }, 25);
        // PAMELA
        rcmail.triggerEvent("calendar.datepicker.onSelect", { date: dateText, inst: inst });
      },
      onChangeMonthYear: function (year, month, inst) {
        minical.data('year', year).data('month', month);
        setTimeout(function () { pretty_select($('select', minical)); }, 25);
        // PAMELA
        rcmail.triggerEvent("calendar.datepicker.onChangeMonthYear", { year: year, month: month, inst: inst });
      },
      beforeShowDay: function (date) {
        // TODO: this pretty_select() calls should be implemented in a different way
        setTimeout(function () { pretty_select($('select', minical)); }, 25);

        var view = fc.fullCalendar('getView'),
          dt = moment(date).format('YYYYMMDD'),
          active = view.start &amp;&amp; view.start.format('YYYYMMDD') &lt;= dt &amp;&amp; view.end.format('YYYYMMDD') > dt;

        // PAMELA
        rcmail.triggerEvent("calendar.datepicker.beforeShowDay", { date: date });
        return [true, (active ? 'ui-datepicker-activerange ui-datepicker-active-' + view.name : ''), ''];
      }
    })) // set event handler for clicks on calendar week cell of the datepicker widget
      .on('click', 'td.ui-datepicker-week-col', function (e) {
        var cell = $(e.target);
        if (e.target.tagName == 'TD') {
          var base_date = minical.datepicker('getDate');
          if (minical.data('month'))
            base_date.setMonth(minical.data('month') - 1);
          if (minical.data('year'))
            base_date.setYear(minical.data('year'));
          base_date.setHours(12);
          base_date.setDate(base_date.getDate() - ((base_date.getDay() + 6) % 7) + me.datepicker_settings.firstDay);
          var base_kw = iso8601Week(base_date),
            target_kw = parseInt(cell.html()),
            wdiff = target_kw - base_kw;
          if (wdiff > 10)  // year jump
            base_date.setYear(base_date.getFullYear() - 1);
          else if (wdiff &lt; -10)
            base_date.setYear(base_date.getFullYear() + 1);
          // select monday of the chosen calendar week
          var day_off = base_date.getDay() - me.datepicker_settings.firstDay,
            date = new Date(base_date.getTime() - day_off * DAY_MS + wdiff * 7 * DAY_MS);

          fc.fullCalendar('changeView', 'agendaWeek', date);
          minical.datepicker('setDate', date);
          setTimeout(function () { pretty_select($('select', minical)); }, 25);
        }
      });

    minical.find('.ui-datepicker-inline').attr('aria-labelledby', 'aria-label-minical');

    if (rcmail.env.date) {
      var viewdate = new Date();
      viewdate.setTime(fromunixtime(rcmail.env.date));
      minical.datepicker('setDate', viewdate);
    }

    // init event dialog
    var tab_change = function (event, ui) {
      // newPanel.selector for jQuery-UI 1.10, newPanel.attr('id') for jQuery-UI 1.12, href for Bootstrap tabs
      var tab = (ui ? String(ui.newPanel.selector || ui.newPanel.attr('id')) : $(event.target).attr('href'))
        .replace(/^#?event-panel-/, '').replace(/s$/, '');
      var has_real_attendee = function (attendees) {
        for (var i = 0; i &lt; (attendees ? attendees.length : 0); i++) {
          if (attendees[i].cutype != 'RESOURCE')
            return true;
        }
      };

      if (tab == 'attendee' || tab == 'resource') {
        if (!rcube_event.is_keyboard(event))
          $('#edit-' + tab + '-name').select();
        // update free-busy status if needed
        if (freebusy_ui.needsupdate &amp;&amp; me.selected_event)
          update_freebusy_status(me.selected_event);
        // add current user as organizer if non added yet
        if (tab == 'attendee' &amp;&amp; !has_real_attendee(event_attendees)) {
          add_attendee($.extend({ role: 'ORGANIZER' }, settings.identity));
          $('#edit-attendees-form .attendees-invitebox').show();
        }
      }

      // reset autocompletion on tab change (#3389)
      rcmail.ksearch_blur();

      // display recurrence warning in recurrence tab only
      if (tab == 'recurrence')
        $('#edit-recurrence-frequency').change();
      else
        $('#edit-recurrence-syncstart').hide();
    };

    $('#eventedit:not([data-notabs])').tabs({ activate: tab_change });  // Larry
    $('#eventedit a.nav-link').on('show.bs.tab', tab_change);         // Elastic

    $('#edit-enddate').datepicker(me.datepicker_settings);
    $('#edit-startdate').datepicker(me.datepicker_settings).datepicker('option', 'onSelect', shift_enddate).change(function () { shift_enddate(this.value); });
    $('#edit-enddate').datepicker('option', 'onSelect', event_times_changed).change(event_times_changed);
    $('#edit-allday').click(function () { $('#edit-starttime, #edit-endtime')[(this.checked ? 'hide' : 'show')](); event_times_changed(); });

    // configure drop-down menu on time input fields based on jquery UI autocomplete
    $('#edit-starttime, #edit-endtime').each(function () {
      me.init_time_autocomplete(this, {
        container: '#eventedit',
        change: event_times_changed
      });
    });

    // adjust end time when changing start
    $('#edit-starttime').change(function (e) {
      var dstart = $('#edit-startdate'),
        newstart = me.parse_datetime(this.value, dstart.val()),
        newend = new Date(newstart.getTime() + dstart.data('duration') * 1000);
      $('#edit-endtime').val(format_date(newend, me.settings.time_format));
      $('#edit-enddate').val(format_date(newend, me.settings.date_format));
      event_times_changed();
    });

    // register events on alarms and recurrence fields
    me.init_alarms_edit('#edit-alarms');
    me.init_recurrence_edit('#eventedit');

    // reload free-busy status when changing the organizer identity
    $('#eventedit').on('change', '#edit-identities-list', function (e) {
      var email = settings.identities[$(this).val()],
        icon = $(this).closest('tr').find('.availability > *');

      if (email &amp;&amp; icon.length) {
        icon.attr('data-email', email);
        check_freebusy_status(icon, email, me.selected_event);

        // PAMELA - Mode assistantes
        event_attendees[0].email = email;
      }
    });

    $('#event-export-startdate').datepicker(me.datepicker_settings);

    // init attendees autocompletion
    var ac_props;
    // parallel autocompletion
    if (rcmail.env.autocomplete_threads > 0) {
      ac_props = {
        threads: rcmail.env.autocomplete_threads,
        sources: rcmail.env.autocomplete_sources
      };
    }
    rcmail.init_address_input_events($('#edit-attendee-name'), ac_props);
    rcmail.addEventListener('autocomplete_insert', function (e) {
      var cutype, success = false;
      if (e.field.name == 'participant') {
        cutype = e.data &amp;&amp; e.data.type == 'group' &amp;&amp; e.result_type == 'person' ? 'GROUP' : 'INDIVIDUAL';
        success = add_attendees(e.insert, { role: 'REQ-PARTICIPANT', status: 'NEEDS-ACTION', cutype: cutype });
      }
      else if (e.field.name == 'resource' &amp;&amp; e.data &amp;&amp; e.data.email) {
        success = add_attendee($.extend(e.data, { role: 'REQ-PARTICIPANT', status: 'NEEDS-ACTION', cutype: 'RESOURCE' }));
      }
      if (e.field &amp;&amp; success) {
        e.field.value = '';
      }
    });

    $('#edit-attendee-add').click(function () {
      var input = $('#edit-attendee-name');
      rcmail.ksearch_blur();
      if (add_attendees(input.val(), { role: 'REQ-PARTICIPANT', status: 'NEEDS-ACTION', cutype: 'INDIVIDUAL' })) {
        input.val('');
      }
    });

    rcmail.init_address_input_events($('#edit-resource-name'), { action: 'calendar/resources-autocomplete' });

    $('#edit-resource-add').click(function () {
      var input = $('#edit-resource-name');
      rcmail.ksearch_blur();
      if (add_attendees(input.val(), { role: 'REQ-PARTICIPANT', status: 'NEEDS-ACTION', cutype: 'RESOURCE' })) {
        input.val('');
      }
    });

    $('#edit-resource-find').click(function () {
      event_resources_dialog();
      return false;
    });

    $('#resource-content a.nav-link').on('click', function () {
      e.preventDefault();
      $(this).tab('show');
    });

    // handle change of "send invitations" checkbox
    $('#edit-attendees-invite').change(function () {
      $('#edit-attendees-donotify,input.edit-attendee-reply').prop('checked', this.checked);
      // hide/show comment field
      $('#eventedit .attendees-commentbox')[this.checked ? 'show' : 'hide']();
    });

    // delegate change event to "send invitations" checkbox
    $('#edit-attendees-donotify').change(function () {
      $('#edit-attendees-invite').click();
      return false;
    });

    $('#edit-attendee-schedule').click(function () {
      event_freebusy_dialog();
    });

    $('#schedule-freebusy-prev').html('&amp;#9668;').click(function () { render_freebusy_grid(-1); });
    $('#schedule-freebusy-next').html('&amp;#9658;').click(function () { render_freebusy_grid(1); });

    $('#schedule-find-prev').click(function () { freebusy_find_slot(-1); });
    $('#schedule-find-next').click(function () { freebusy_find_slot(1); });

    $('#schedule-freebusy-workinghours').click(function () {
      freebusy_ui.workinhoursonly = this.checked;
      $('#workinghourscss').remove();
      if (this.checked)
        $('&lt;style type="text/css" id="workinghourscss"> td.offhours { opacity:0.3; filter:alpha(opacity=30) } &lt;/style>').appendTo('head');
    });

    $('#event-rsvp input.button').click(function (e) {
      event_rsvp(this, null, null, e.originalEvent);
    });

    $('#eventedit input.edit-recurring-savemode').change(function (e) {
      var sel = $('input.edit-recurring-savemode:checked').val(),
        disabled = sel == 'current' || sel == 'future';

      // PAMELA - 0007033: Modification d'un évenement récurrent
      if (sel == 'all' || me.selected_event._old_sel == 'all') {
        var event = me.selected_event;

        if (!event.instance_start)
          event.instance_start = event.start;
        if (!event.instance_end)
          event.instance_end = event.end;

        if (sel == 'all' &amp;&amp; event.master_start) {
          var end = 'toDate' in event.master_end ? event.master_end : moment(event.master_end);
          var start = 'toDate' in event.master_start ? event.master_start : moment(event.master_start);
          var duration = Math.round((end.format('x') - start.format('x')) / 1000);
        }
        else {
          var end = 'toDate' in event.instance_end ? event.instance_end : moment(event.instance_end);
          var start = 'toDate' in event.instance_start ? event.instance_start : moment(event.instance_start);
          var duration = Math.round((end.format('x') - start.format('x')) / 1000);
        }

        $('#edit-startdate').val($.fullCalendar.formatDate(start, me.settings['date_format'])).data('duration', duration);
        $('#edit-enddate').val($.fullCalendar.formatDate(end, me.settings['date_format']));

        if (event.allDay) {
          $(".input-mel-datetime .input-mel.start").val($('#edit-startdate').val());
          $(".input-mel-datetime .input-mel.end").val($('#edit-enddate').val());
        }
        else {
          $('#edit-starttime').val($.fullCalendar.formatDate(start, me.settings['time_format']));
          $(".input-mel-datetime .input-mel.start").val($('#edit-startdate').val() + " " + $('#edit-starttime').val());
          $('#edit-endtime').val($.fullCalendar.formatDate(end, me.settings['time_format']));
          $(".input-mel-datetime .input-mel.end").val($('#edit-enddate').val() + " " + $('#edit-endtime').val());
        }
      }
      me.selected_event._old_sel = sel;

      $('#event-panel-recurrence input, #event-panel-recurrence select, #event-panel-attachments input').prop('disabled', disabled);
      $('#event-panel-recurrence, #event-panel-attachments')[(disabled ? 'addClass' : 'removeClass')]('disabled');
    })

    $('#eventshow .changersvp').click(function (e) {
      var d = $('#eventshow'),
        record = $(this).closest('.event-line,.form-group'),
        h = d.height() - record.height();

      record.toggle();
      $('#event-rsvp').slideDown(300, function () {
        me.dialog_resize(d.get(0), h + $(this).outerHeight());
        if (this.scrollIntoView)
          this.scrollIntoView(false);
      });
      return false;
    })

    // register click handler for message links
    $('#edit-event-links, #event-links').on('click', 'li a.messagelink', function (e) {
      rcmail.open_window(this.href);
      if (!rcube_event.is_keyboard(e) &amp;&amp; this.blur)
        this.blur();
      return false;
    });

    // register click handler for message delete buttons
    $('#edit-event-links').on('click', 'li a.delete', function (e) {
      remove_link(e.target);
      return false;
    });

    $('#agenda-listrange').change(function (e) {
      settings.agenda_range = parseInt($(this).val());
      fc.fullCalendar('changeView', 'list');
      // TODO: save new settings in prefs
    }).val(settings.agenda_range);

    // hide event dialog when clicking somewhere into document
    $(document).bind('mousedown', dialog_check);

    rcmail.set_busy(false, 'loading', ui_loading);
  }

  // initialize more UI elements (deferred)
  window.setTimeout(init_calendar_ui, exec_deferred);

  // fetch counts for some calendars
  fetch_counts();

  // Save-as-event dialog content
  if (rcmail.env.action == 'dialog-ui') {
    var date = new Date(), event = { allDay: false, calendar: me.selected_calendar };

    date.setHours(date.getHours() + 1);
    date.setMinutes(0);

    var end = new Date(date.getTime());
    end.setHours(date.getHours() + 1);

    event.start = date;
    event.end = end;

    // exec deferred because it must be after init_calendar_ui
    window.setTimeout(function () {
      event_edit_dialog('new', $.extend(event, rcmail.env.event_prop));
    }, exec_deferred);

    rcmail.register_command('event-save', function () { rcmail.env.event_save_func(); }, true);
    rcmail.addEventListener('plugin.unlock_saving', function (status) {
      me.unlock_saving();
      if (status)
        window.parent.kolab_event_dialog_element.dialog('destroy');
    });
  }
} // end rcube_calendar class


// Update layout after initialization
// In devel mode we have to wait until all styles are applied by less
if (rcmail.env.devel_mode &amp;&amp; window.less) {
  less.pageLoadFinished.then(function () { $(window).resize(); });
}

/* calendar plugin initialization */
window.rcmail &amp;&amp; rcmail.addEventListener('init', function (evt) {
  // let's go
  var cal = new rcube_calendar_ui($.extend(rcmail.env.calendar_settings, rcmail.env.libcal_settings));

  //PAMELA - Accès en dehors du plugin
  window.ui_cal = cal;
  window.cal = cal;

  if (rcmail.env.action == 'dialog-ui') {
    return;
  }

  // configure toolbar buttons
  rcmail.register_command('addevent', function () { cal.add_event(); });
  rcmail.register_command('print', function () { cal.print_calendars(); }, true);

  // PAMELA - MANTIS 0004466: Ajouter un bouton pour rafraichir l'agenda
  rcmail.register_command('refreshcalendar', function () {
    rcmail.refresh();

    if (top != window) top.rcmail.refresh();
  }, true);

  // configure list operations
  rcmail.register_command('calendar-create', function () { cal.calendar_edit_dialog(null); }, true);
  rcmail.register_command('calendar-edit', function () { cal.calendar_edit_dialog(cal.calendars[cal.selected_calendar]); }, false);
  rcmail.register_command('calendar-remove', function () { cal.calendar_remove(cal.calendars[cal.selected_calendar]); }, false);
  rcmail.register_command('calendar-delete', function () { cal.calendar_delete(cal.calendars[cal.selected_calendar]); }, false);
  rcmail.register_command('events-import', function () { cal.import_events(cal.calendars[cal.selected_calendar]); }, true);
  rcmail.register_command('calendar-showurl', function () { cal.showurl(cal.calendars[cal.selected_calendar]); }, false);
  rcmail.register_command('calendar-appointment', function () { cal.appointment(cal.calendars[cal.selected_calendar]); }, false);
  rcmail.register_command('calendar-showfburl', function () { cal.showfburl(); }, false);
  rcmail.register_command('event-download', function () { console.log("d", cal.selected_event, cal); cal.event_download(cal.selected_event); }, true);
  rcmail.register_command('event-sendbymail', function (p, obj, e) { cal.event_sendbymail(cal.selected_event, e); }, true);
  rcmail.register_command('event-copy', function () { cal.event_copy(cal.selected_event); }, true);
  rcmail.register_command('event-history', function (p, obj, e) { cal.event_history_dialog(cal.selected_event); }, false);

  // search and export events
  rcmail.register_command('export', function () { cal.export_events(cal.calendars[cal.selected_calendar]); }, true);
  rcmail.register_command('search', function () { cal.quicksearch(); }, true);
  rcmail.register_command('reset-search', function () { cal.reset_quicksearch(); }, true);

  // resource invitation dialog
  rcmail.register_command('search-resource', function () { cal.resource_search(); }, true);
  rcmail.register_command('reset-resource-search', function () { cal.reset_resource_search(); }, true);
  rcmail.register_command('add-resource', function () { cal.add_resource2event(); }, false);

  // register callback commands
  rcmail.addEventListener('plugin.refresh_source', function (data) { cal.calendar_refresh_source(data); });
  rcmail.addEventListener('plugin.destroy_source', function (p) { cal.calendar_destroy_source(p.id); });
  rcmail.addEventListener('plugin.unlock_saving', function (p) { cal.unlock_saving(); });
  rcmail.addEventListener('plugin.refresh_calendar', function (p) { cal.refresh(p); });
  rcmail.addEventListener('plugin.import_success', function (p) { cal.import_success(p); });
  rcmail.addEventListener('plugin.import_error', function (p) { cal.import_error(p); });
  rcmail.addEventListener('plugin.update_counts', function (p) { cal.update_counts(p); });
  rcmail.addEventListener('plugin.reload_view', function (p) { cal.reload_view(p); });
  rcmail.addEventListener('plugin.resource_data', function (p) { cal.resource_data_load(p); });
  rcmail.addEventListener('plugin.resource_owner', function (p) { cal.resource_owner_load(p); });
  rcmail.addEventListener('plugin.render_event_changelog', function (data) { cal.render_event_changelog(data); });
  rcmail.addEventListener('plugin.event_show_diff', function (data) { cal.event_show_diff(data); });
  rcmail.addEventListener('plugin.close_history_dialog', function (data) { cal.close_history_dialog(); });
  rcmail.addEventListener('plugin.event_show_revision', function (data) { cal.event_show_dialog(data, null, true); });
  rcmail.addEventListener('plugin.itip_message_processed', function (data) { cal.itip_message_processed(data); });
  rcmail.addEventListener('requestrefresh', function (q) { return cal.before_refresh(q); });
  // MANTIS 3607: Permettre de remplacer tous les évènements lors d'un import
  rcmail.register_command('calendar-delete-all', function () { cal.calendar_delete_all(cal.calendars[cal.selected_calendar]); rcmail.triggerEvent("calendar-delete-all"); }, false);

  // MANTIS 3896: Partage public et protégé de l'agenda
  rcmail.register_command('calendar-check-feed-url', function () { cal.calendar_check_feed_url(cal.calendars[cal.selected_calendar]); }, true);
  rcmail.register_command('toggle-appointment', function () { cal.toggle_appointment(cal.calendars[cal.selected_calendar]); }, true);
  rcmail.addEventListener('plugin.show_feed_url', function (p) { cal.calendar_show_feed_url(p.id, p.url); });
  rcmail.addEventListener('plugin.appointment_show_url', function (p) { cal.appointment_show_url(p.id, p.url); });

  $(window).resize(function (e) {
    // check target due to bugs in jquery
    // http://bugs.jqueryui.com/ticket/7514
    // http://bugs.jquery.com/ticket/9841
    if (e.target == window) {
      cal.view_resize();

      // In Elastic append the datepicker back to sidebar/dialog when resizing
      // the window from tablet/phone to desktop and vice-versa
      var dp = $('#datepicker'), in_dialog = dp.is('.ui-dialog-content'), width = $(window).width();
      if (in_dialog &amp;&amp; width > 768) {
        if (dp.is(':visible')) {
          dp.dialog('close');
        }
        dp.height('auto').removeClass('ui-dialog-content ui-widget-content')
          .data('dialog-parent', dp.closest('.ui-dialog'))
          .appendTo('#layout-sidebar');
      }
      else if (!in_dialog &amp;&amp; dp.length &amp;&amp; width &lt;= 768 &amp;&amp; dp.data('dialog-parent')) {
        dp.addClass('ui-dialog-content ui-widget-content')
          .insertAfter(dp.data('dialog-parent').find('.ui-dialog-titlebar'));
      }
    }
  }).resize();

  // show calendars list when ready
  $('#calendars').css('visibility', 'inherit');

  // show toolbar
  $('#toolbar').show();

  // Elastic mods
  function elastic_mod() {
    if ($('#calendar').data('elastic-mode')) {
      var selector = $('&lt;div class="btn-group btn-group-toggle" role="group">').appendTo('.fc-header-toolbar > .fc-left'),
        nav = $('&lt;div class="btn-group btn-group-toggle" role="group">').appendTo('.fc-header-toolbar > .fc-right');
  
      $('.fc-header-toolbar > .fc-left button').each(function () {
        var new_btn, cl = 'btn btn-secondary', btn = $(this),
          activate = function (button) {
            selector.children('.active').removeClass('active');
            $(button).addClass('active');
          };
  
        if (btn.is('.fc-state-active')) {
          cl += ' active';
        }
  
        new_btn = $('&lt;button>').attr({ 'class': cl, type: 'button' }).text(btn.text())
          .appendTo(selector)
          .on('click', function () {
            activate(this);
            btn.click();
          });
  
        if (window.MutationObserver) {
          // handle button active state changes
          new MutationObserver(function () { if (btn.is('.fc-state-active')) activate(new_btn); }).observe(this, { attributes: true });
        }
      });
  
      $.each(['prev', 'today', 'next'], function () {
        var btn = $('.fc-header-toolbar > .fc-right').find('.fc-' + this + '-button');
        $('&lt;button>').attr({ 'class': 'btn btn-secondary ' + this, type: 'button' })
          .text(btn.text()).appendTo(nav).on('click', function () { btn.click(); });
      });
  
      $('#timezone-display').appendTo($('.fc-header-toolbar > .fc-center')).removeClass('hidden');
      $('#agendaoptions').detach().insertAfter('.fc-header-toolbar');
  
      $('.content-frame-navigation a.button.date').appendTo('#layout-content > .searchbar');
  
      // Mobile header title
      if (window.MutationObserver) {
        var title = $('.fc-header-toolbar > .fc-center h2'),
          mobile_header = $('#layout-content > .header > .header-title'),
          callback = function () {
            var text = title.text();
            mobile_header.html('').append([
              $('&lt;span class="title">').text(text),
              $('&lt;span class="tz">').text($('#timezone-display').text())
            ]);
          };
  
        // update the header when something changes on the calendar title
        new MutationObserver(callback).observe(title[0], { childList: true, subtree: true });
        // initialize the header
        callback();
      }
  
      window.calendar_datepicker = function () {
        $('#datepicker').dialog({
          modal: true,
          title: rcmail.gettext('calendar.selectdate'),
          buttons: [{
            text: rcmail.gettext('close', 'calendar'),
            'class': 'cancel',
            click: function () { $(this).dialog('close'); }
          }],
          width: 400,
          height: 520
        });
      }
    }
  }

  elastic_mod();
  window.cal_elastic_mod = elastic_mod;
});
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="img/toast-ui.png" style="">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
