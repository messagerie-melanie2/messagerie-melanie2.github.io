const t="";function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}var r;!function(t){t[t.TRACE=0]="TRACE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR"}(r||(r={}));const n={local_keys:{today:"Aujourd'hui",tomorrow:"Demain",day:"JournÃ©e",invalid_date:"Date invalide"},console_logging:!0,console_logging_level:r.TRACE,tag_prefix:"bnum"};function a(t){return t&&"object"==typeof t&&!Array.isArray(t)}function i(t,e){if(!a(t)||!a(e))return e;const r=t;return Object.keys(e).forEach(t=>{const n=r[t],s=e[t];Array.isArray(n)&&Array.isArray(s)?r[t]=s:a(n)&&a(s)?r[t]=i(n,s):r[t]=s}),r}let s={...n};class o{static Initialize(t){s=i(s,t)}static Get(t){return t?s[t]:s}static Set(t){this.Initialize(t)}static Reset(){s={...n}}static get Clone(){return JSON.parse(JSON.stringify(s))}}class d{static trace(t,...e){o.Get("console_logging")&&o.Get("console_logging_level")<=r.TRACE&&console.trace(`[${t}] ${e.join(" ")}`)}static debug(t,...e){o.Get("console_logging")&&o.Get("console_logging_level")<=r.DEBUG&&console.debug(`ðŸ”Ž [${t}] ${e.join(" ")}`)}static info(t,...e){o.Get("console_logging")&&o.Get("console_logging_level")<=r.INFO&&console.info(`(i) [${t}] ${e.join(" ")}`)}static warn(t,...e){o.Get("console_logging")&&o.Get("console_logging_level")<=r.WARN&&console.warn(`/!\\ [${t}] ${e.join(" ")}`)}static error(t,...e){o.Get("console_logging")&&o.Get("console_logging_level")<=r.ERROR&&console.error(`### [${t}] ${e.join(" ")}`)}static time(t){o.Get("console_logging")&&o.Get("console_logging_level")<=r.DEBUG&&console.time(t)}static timeEnd(t){o.Get("console_logging")&&o.Get("console_logging_level")<=r.DEBUG&&console.timeEnd(t)}}class u extends HTMLElement{#t=null;#e=null;#r=!1;#n=!1;static#a=Symbol("NoItem");_p_styleElement=null;static get observedAttributes(){return this._p_observedAttributes()}static _p_observedAttributes(){return[]}get alreadyLoaded(){return this.#n}constructor(){super(),this._p_isShadowElement()&&this.attachShadow({mode:"open"});const t=this.querySelector("script");t&&t.remove()}attributeChangedCallback(t,e,r){this.#n&&(this.#e??=new Map,this.#e.set(t,{oldVal:e,newVal:r}),this.#r||(this.#r=!0,requestAnimationFrame(()=>this.#i())))}connectedCallback(){this.#n||(d.time("Render : "+this.constructor.name),this.render(),d.timeEnd("Render : "+this.constructor.name))}disconnectedCallback(){this._p_preunload(),this._p_detach()}render(){if(this.#n)return;this._p_preload();const t=this._p_isShadowElement()?this.shadowRoot:this;if(t){if(this._p_isShadowElement()){const e=this._p_getStyle();if(e){const r=document.createElement("style");r.textContent=e,t.appendChild(r),this._p_styleElement=r}const r=this._p_getStylesheets();r.length>0&&"adoptedStyleSheets"in Document.prototype&&(t.adoptedStyleSheets=[...t.adoptedStyleSheets,...r])}const e=this._p_fromTemplate();if(e){const r=e.content.cloneNode(!0);t.appendChild(r)}this._p_buildDOM(t)}this._p_attach(),this.#n=!0}data(t,e,r=!1){if(null==e||"object"==typeof e&&!("value"in e)){const r=e||{};return this.#s(t,r.fromAttribute??!1)}return this.#o(t,e,r)}addClass(...t){return this.classList.add(...t.flatMap(t=>t.split(" "))),this}removeClass(...t){return this.classList.remove(...t.flatMap(t=>t.split(" "))),this}toggleClass(t,e){return this.classList.toggle(t,e),this}hasClass(t){return this.classList.contains(t)}attr(t,e){return null==e?this.getAttribute(t):(this.setAttribute(t,"string"==typeof e?e:e.toString()),this)}css(t,e){if("string"==typeof t){if(void 0===e)return this.style[t];this.style[t]=e}else for(const[e,r]of Object.entries(t))this.style[e]=r;return this}html(t){return void 0===t?this.innerHTML:(this.innerHTML=t,this)}text(t){return void 0===t?this.textContent||"":(this.textContent=t,this)}val(t){if("value"in this)return void 0===t?this.value:(this.value=t,this)}on(t,e,r){return this.addEventListener(t,e,r),this}off(t,e,r){return this.removeEventListener(t,e,r),this}trigger(t,e){return this.dispatchEvent(new CustomEvent(t,{detail:e})),this}append(...t){for(const e of t)"string"==typeof e?this.insertAdjacentHTML("beforeend",e):this.appendChild(e);return this}appendTo(t){return t?.appendChild(this),this}prepend(...t){for(let e=t.length-1;e>=0;--e){const r=t[e];"string"==typeof r?this.insertAdjacentHTML("afterbegin",r):this.insertBefore(r,this.firstChild)}return this}prependTo(t){return t?.insertBefore(this,t.firstChild),this}before(...t){for(const e of t)"string"==typeof e?this.insertAdjacentHTML("beforebegin",e):this.parentNode?.insertBefore(e,this);return this}after(...t){for(let e=t.length-1;e>=0;--e){const r=t[e];"string"==typeof r?this.insertAdjacentHTML("afterend",r):this.parentNode&&(this.nextSibling?this.parentNode.insertBefore(r,this.nextSibling):this.parentNode.appendChild(r))}return this}hide(){return this.addClass("hidden")}show(){return this.removeClass("hidden")}#s(e,r){let n=t;return r?n=this.getAttribute(`data-${e}`):this.hasAttribute(`data-${e}`)?(n=this.#s(e,!0),this.removeAttribute(`data-${e}`),this._p_setData(e,n)):n=this._p_getData(e),n}#o(t,e,r){return r?this.setAttribute(`data-${t}`,String(e)):this._p_setData(t,e),this}#i(){if(this.#r=!1,null!==this.#e){if(this._p_isUpdateForAllAttributes())this._p_update("all",null,null);else for(const[t,{oldVal:e,newVal:r}]of this.#e)if("break"===this._p_update(t,e,r))break;this.#e.clear(),this._p_postFlush()}}_p_requestAttributeUpdate(){return this.#n&&!this.#r&&(this.#r=!0,requestAnimationFrame(()=>this.#i())),this}_p_addPendingAttribute(t,e,r){return this.#e??=new Map,this.#e.set(t,{oldVal:e,newVal:r}),this}_p_getData(t){return this.#t??=new Map,this.#t.get(t)}_p_setData(t,e){return this.#t??=new Map,this.#t.set(t,e),this}_p_hasData(t){return null!==this.#t&&this.#t.has(t)}_p_createTag(t,e){const r=document.createElement(t);if(e){const{classes:t,attributes:n,data:a,child:i}=e;if(t&&(n?n.class=t.join(" "):r.classList.add(...t)),a)for(const[t,e]of Object.entries(a))r.setAttribute(`data-${t}`,String(e));if(n)for(const[t,e]of Object.entries(n))r.setAttribute(t,String(e));i&&r.appendChild("string"==typeof i?document.createTextNode(i):i)}return r}_p_createSlot(t,e){return this._p_createTag("slot",{attributes:t?{name:t}:void 0,child:e||null})}_p_createSlots(...t){const e=[];for(const r of t)e.push(this._p_createSlot(r.name,r.defaultValue));return e}_p_createSpan(t){return this._p_createTag("span",t)}_p_createSpans(...t){const e=[];for(const r of t)e.push(this._p_createSpan(r||void 0));return e}_p_createDiv(t){return this._p_createTag("div",t)}_p_createDivs(...t){const e=[];for(const r of t)e.push(this._p_createDiv(r||void 0));return e}_p_createTextNode(t){return document.createTextNode(t)}get _p_isInsideShadowRoot(){return this.getRootNode({composed:!1})instanceof ShadowRoot}_p_postFlush(){}_p_isUpdateForAllAttributes(){return!1}_p_getStyle(){return t}_p_getStylesheets(){return[]}_p_preload(){}_p_buildDOM(t){}_p_fromTemplate(){return null}_p_update(t,e,r){}_p_attach(){}_p_preunload(){}_p_detach(){}_p_isShadowElement(){return!0}static Create(...t){throw new Error("Create method must be implemented in derived class.")}static get TAG(){throw new Error("TAG getter must be implemented in derived class.")}static ConstructCSSStyleSheet(t){const e=new CSSStyleSheet;return e.replaceSync(t),e}static CreateTemplate(t){const e=document.createElement("template");return e.innerHTML=t,e}static TryDefine(){this.TryDefineElement(this.TAG,this)}static TryDefineElement(t,e){customElements.get(t)||customElements.define(t,e)}}function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c,h,_,m,T,p={exports:{}};function A(){if(h)return c;h=1;class t{constructor(t,e){this.callback=t,this.args=e}}class e{#d;#u;constructor(){this.events={}}get onadded(){return this.#d||(this.#d=new e),this.#d}get onremoved(){return this.#u||(this.#u=new e),this.#u}push(t,...e){const r=this.#l();return this.add(r,t,...e),r}add(e,r,...n){this.events[e]=new t(r,n),this.onadded.call(e,this.events[e])}has(t){return!!this.events[t]}remove(t){this.onremoved.call(t,this.events[t]),this.events[t]=null}haveEvents(){return this.count()>0}count(){return Object.keys(this.events).length}call(...t){let e={};const r=Object.keys(this.events);if(0!==r.length)for(let n=0,a=r.length;n<a;++n){const a=r[n];if(this.events[a]){const{args:r,callback:n}=this.events[a];n&&(e[a]=this.#c(n,...r,...t))}}switch(Object.keys(e).length){case 0:return null;case 1:return e[Object.keys(e)[0]];default:return e}}clear(){this.events={}}#c(t,...e){return t(...e)}#l(){const t=Math.random()*(this.count()+10);let e=!1;for(const r in this.events)if(Object.hasOwnProperty.call(this.events,r)&&r===t){e=!0;break}return e?this.#l():t}}return c=e}var b=function(){if(T)return p.exports;T=1;const t=A(),e=function(){if(m)return _;m=1;const t=A();return _=class extends t{constructor(){super()}call(t){let e=t;const r=Object.keys(this.events);if(0!==r.length)for(let t=0,n=r.length;t<n;++t){const n=r[t];if(this.events[n]){const{args:t,callback:r}=this.events[n];e.defaultsParams=t,r&&(e={...e,...this.#c(r,e)??{}})}}return e}#c(t,...e){return t(...e)}}}();return p.exports=t,p.exports.JsCircularEvent=e,p.exports}(),g=l(b);class E extends CustomEvent{#h;#_;#m;constructor(t,e,r,n,a={}){super(`custom:element-changed.${t}`,a),this.#h=e,this.#_=r,this.#m=n}get newElement(){return this.#h}get oldElement(){return this.#_}get caller(){return this.#m}}const f=`${o.Get("tag_prefix")}-icon`,D=`${o.Get("tag_prefix")}-button`,v=`${o.Get("tag_prefix")}-primary-button`,S=`${o.Get("tag_prefix")}-secondary-button`,y=`${o.Get("tag_prefix")}-danger-button`,w=`${o.Get("tag_prefix")}-helper`,R=`${o.Get("tag_prefix")}-img`,C=`${o.Get("tag_prefix")}-card-title`,I=`${o.Get("tag_prefix")}-card`,O=`${o.Get("tag_prefix")}-card-item`,L=`${o.Get("tag_prefix")}-card-item-mail`,N=`${o.Get("tag_prefix")}-card-item-agenda`,M=`${o.Get("tag_prefix")}-card-list`,x=`${o.Get("tag_prefix")}-date`;class k{#T=!1;#p=null;#A;constructor(t){this.#A=t}schedule(t){this.#p=t,this.#T||(this.#T=!0,requestAnimationFrame(()=>{this.#A(this.#p),this.#T=!1,this.#p=null}))}get _p_value(){return this.#p}set _p_value(t){this.#p=t}call(t){this.#A(t)}}class B extends k{#b;constructor(t,e){super(t),this.#b=e}schedule(t){Array.isArray(t)?(this._p_value??=[]).push(...t):t!==this.#b&&(this._p_value??=[]).push(t),t!==this.#b&&(t=this._p_value),super.schedule(t)}}const U="material-symbols-outlined",G=u.ConstructCSSStyleSheet('@font-face{font-family:Material Symbols Outlined;font-style:normal;font-weight:200;src:url(fonts/material-symbol-v2.woff2) format("woff2")}.material-symbols-outlined{word-wrap:normal;-moz-font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale;direction:ltr;display:inline-block;font-family:Material Symbols Outlined;font-size:24px;font-style:normal;font-weight:400;letter-spacing:normal;line-height:1;text-transform:none;white-space:nowrap}'.replaceAll(`.${U}`,":host"));class P extends u{static EVENT_ICON_CHANGED="icon";static DATA_ICON="icon";static ATTRIBUTE_DATA_ICON=`data-${P.DATA_ICON}`;static ATTRIBUTE_CLASS="class";#g=null;#E=null;get oniconchanged(){return this.#E??=new g,this.#E}get icon(){return this.textContent?.trim?.()||this.data(P.DATA_ICON)||t}set icon(t){if(null!==t){if("string"!=typeof t||!/^[\w-]+$/.test(t))throw new Error("Icon must be a valid string.");{const e=this.icon;this.data(P.DATA_ICON,t),this.#f(t),this.oniconchanged.call(t,e)}}}constructor(){super(),this.oniconchanged.add("default",(t,e)=>{this.dispatchEvent(new E(P.EVENT_ICON_CHANGED,t,e,this))})}_p_getStylesheets(){return[G]}_p_buildDOM(t){t.appendChild(this._p_createSlot());const e=this.data(P.DATA_ICON);e&&this.#D(e),this.hasAttribute("aria-hidden")||this.hasAttribute("aria-label")||this.setAttribute("aria-hidden","true")}#f(t){return this.#g??=new k(t=>{this.#D(t)}),this.#g.schedule(t),this}#D(t){this.textContent=t}static Create(t){const e=this.EMPTY;return e.icon=t,e}static get TAG(){return f}static get EMPTY(){return document.createElement(P.TAG)}static get HTML_CLASS(){return U}static get HOME(){return P.Create("home")}static get SEARCH(){return P.Create("search")}static get SETTINGS(){return P.Create("settings")}static get USER(){return P.Create("person")}static get MAIL(){return P.Create("mail")}static get CLOSE(){return P.Create("close")}static get CHECK(){return P.Create("check")}static get WARNING(){return P.Create("warning")}static get INFO(){return P.Create("info")}static get DELETE(){return P.Create("delete")}static get ADD(){return P.Create("add")}}P.TryDefine();const F=/(-light)\.(([\w\d]+)|\1?.+)$/,q=/^[-.\w\s%()]+$/;const H=u.ConstructCSSStyleSheet(":host{border-radius:var(--bnum-button-border-radius,0);cursor:var(--bnum-button-cursor,pointer);display:var(--bnum-button-display,inline-block);padding:var(--bnum-button-padding,6px 10px);transition:background-color .2s ease,color .2s ease;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}:host(:state(rounded)){border-radius:var(--bnum-button-rounded-border-radius,5px)}:host(:state(without-icon)){padding-bottom:var(--bnum-button-without-icon-padding-bottom,7.5px);padding-top:var(--bnum-button-without-icon-padding-top,7.5px)}:host(:disabled),:host(:state(disabled)){cursor:not-allowed;opacity:var(--bnum-button-disabled-opacity,.6);pointer-events:var(--bnum-button-disabled-pointer-events,none)}:host(:state(loading)){cursor:progress}:host(:state(icon)){--bnum-button-icon-gap:var(--custom-button-icon-margin,20px)}:host(:state(icon))>.wrapper{align-items:center;display:flex;flex-direction:row;gap:var(--bnum-button-icon-gap);justify-content:center}:host(:state(icon-pos-left)) .wrapper{flex-direction:row-reverse}:host(:focus-visible){outline:2px solid #0969da;outline-offset:2px}:host>.wrapper{align-items:var(--bnum-button-wrapper-align-items,center);display:var(--bnum-button-wrapper-display,flex)}:host bnum-icon.icon{display:var(--bnum-button-icon-display,flex)}:host bnum-icon.icon.hidden{display:none}:host bnum-icon.loader{display:var(--bnum-button-loader-display,flex)}:host(:is(:state(loading):state(without-icon-loading))) slot{display:none}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}:host .loader,:host .spin,:host(:state(loading)) .icon{animation:spin var(--bnum-button-spin-duration,.75s) var(--bnum-button-spin-timing,linear) var(--bnum-button-spin-iteration,infinite)}:host(:state(hide-text-on-small)) .slot,:host(:state(hide-text-on-touch)) .slot{display:var(--size-display-state,inline-block)}:host(:state(hide-text-on-small)) .icon,:host(:state(hide-text-on-touch)) .icon{margin-left:var(--size-margin-left-state,var(--custom-button-icon-margin-left))!important;margin-right:var(--size-margin-right-state,var(--custom-button-icon-margin-right))!important}:host(:state(primary)){background-color:var(--bnum-button-primary-background-color,var(--bnum-color-primary));border:var(--bnum-button-primary-border,solid thin var(--bnum-button-primary-border-color,var(--bnum-color-primary)));color:var(--bnum-button-primary-text-color,var(--bnum-text-on-primary))}:host(:state(primary):hover){background-color:var(--bnum-button-primary-hover-background-color,var(--bnum-color-primary-hover));border:var(--bnum-button-primary-hover-border,solid thin var(--bnum-button-primary-hover-border-color,var(--bnum-color-primary-hover)));color:var(--bnum-button-primary-hover-text-color,var(--bnum-text-on-primary-hover))}:host(:state(primary):active){background-color:var(--bnum-button-primary-active-background-color,var(--bnum-color-primary-active));border:var(--bnum-button-primary-active-border,solid thin var(--bnum-button-primary-active-border-color,var(--bnum-color-primary-active)));color:var(--bnum-button-primary-active-text-color,var(--bnum-text-on-primary-active))}:host(:state(secondary)){background-color:var(--bnum-button-secondary-background-color,var(--bnum-color-secondary));border:var(--bnum-button-secondary-border,solid thin var(--bnum-button-secondary-border-color,var(--bnum-color-primary)));color:var(--bnum-button-secondary-text-color,var(--bnum-text-on-secondary))}:host(:state(secondary):hover){background-color:var(--bnum-button-secondary-hover-background-color,var(--bnum-color-secondary-hover));border:var(--bnum-button-secondary-hover-border,solid thin var(--bnum-button-secondary-hover-border-color,var(--bnum-color-primary)));color:var(--bnum-button-secondary-hover-text-color,var(--bnum-text-on-secondary-hover))}:host(:state(secondary):active){background-color:var(--bnum-button-secondary-active-background-color,var(--bnum-color-secondary-active));border:var(--bnum-button-secondary-active-border,solid thin var(--bnum-button-secondary-active-border-color,var(--bnum-color-primary)));color:var(--bnum-button-secondary-active-text-color,var(--bnum-text-on-secondary-active))}:host(:state(danger)){background-color:var(--bnum-button-danger-background-color,var(--bnum-color-danger));border:var(--bnum-button-danger-border,solid thin var(--bnum-button-danger-border-color,var(--bnum-color-danger)));color:var(--bnum-button-danger-text-color,var(--bnum-text-on-danger))}:host(:state(danger):hover){background-color:var(--bnum-button-danger-hover-background-color,var(--bnum-color-danger-hover));border:var(--bnum-button-danger-hover-border,solid thin var(--bnum-button-danger-hover-border-color,var(--bnum-color-danger-hover)));color:var(--bnum-button-danger-hover-text-color,var(--bnum-text-on-danger-hover))}:host(:state(danger):active){background-color:var(--bnum-button-danger-active-background-color,var(--bnum-color-danger-active));border:var(--bnum-button-danger-active-border,solid thin var(--bnum-button-danger-active-border-color,var(--bnum-color-danger-active)));color:var(--bnum-button-danger-active-text-color,var(--bnum-text-on-danger-active))}"),$=D;var Y,V,j;!function(t){t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary",t.DANGER="danger"}(Y||(Y={})),function(t){t.LEFT="left",t.RIGHT="right"}(V||(V={})),function(t){t.SMALL="small",t.TOUCH="touch"}(j||(j={}));class W extends u{static ATTR_ROUNDED="rounded";static ATTR_LOADING="loading";static ATTR_DISABLED="disabled";static ATTR_VARIATION="variation";static ATTR_ICON="icon";static ATTR_ICON_POS="icon-pos";static ATTR_ICON_MARGIN="icon-margin";static ATTR_HIDE="hide";static STATE_ICON="icon";static STATE_WITHOUT_ICON="without-icon";static STATE_ROUNDED="rounded";static STATE_LOADING="loading";static STATE_DISABLED="disabled";static EVENT_ICON="icon";static EVENT_VARIATION="variation";static EVENT_ICON_PROP_CHANGED="custom:icon.prop.changed";static EVENT_LOADING_STATE_CHANGED="custom:loading";static DEFAULT_CSS_VAR_ICON_MARGIN="var(--custom-button-icon-margin, 20px)";static ICON_PROP_POS="pos";static CLASS_WRAPPER="wrapper";static CLASS_ICON="icon";static CLASS_SLOT="slot";static CSS_PROPERTY_ICON_MARGIN="--bnum-button-icon-gap";#v;#S;#y;#w=null;onloadingstatechange=new g;oniconchange=new g;oniconpropchange=new g;onvariationchange=new g;get variation(){return this.data(W.ATTR_VARIATION)||Y.PRIMARY}set variation(t){if(Object.values(Y).includes(t)){const e=!1;this.data(W.ATTR_VARIATION,t,e),this.alreadyLoaded&&(this.onvariationchange.call(t,this.variation),this.#f())}}get icon(){return this.data(W.ATTR_ICON)||null}set icon(e){if(this.alreadyLoaded&&this.oniconchange.call(e||t,this.icon||t),"string"==typeof e&&/^[\w-]+$/.test(e)){const t=!1;this.data(W.ATTR_ICON,e,t)}else this.data(W.ATTR_ICON,null);this.alreadyLoaded&&this.#f()}get iconPos(){return this.data(W.ATTR_ICON_POS)||V}set iconPos(t){if(this.alreadyLoaded&&this.oniconpropchange.call(W.ICON_PROP_POS,t),Object.values(V).includes(t)){const e=!1;this.data(W.ATTR_ICON_POS,t,e)}this.alreadyLoaded&&this.#f()}get iconMargin(){return this.data(W.ATTR_ICON_MARGIN)||W.DEFAULT_CSS_VAR_ICON_MARGIN}set iconMargin(e){if(this.alreadyLoaded&&this.oniconpropchange.call("margin",e||t),"string"==typeof e&&q.test(e)){const t=!1;this.data(W.ATTR_ICON_MARGIN,e,t),this.style.setProperty(W.CSS_PROPERTY_ICON_MARGIN,e)}else null===e&&(this.data(W.ATTR_ICON_MARGIN,e),this.style.removeProperty(W.CSS_PROPERTY_ICON_MARGIN))}get hideTextOnLayoutSize(){const t=this.data(W.ATTR_HIDE);return[...Object.values(j),null,void 0].includes(t)?t:null}constructor(){super(),this.#v=this.attachInternals(),this.oniconchange.push((t,e)=>{this.dispatchEvent(new E(W.EVENT_ICON,t,e,this))}),this.onvariationchange.push((t,e)=>{this.dispatchEvent(new E(W.EVENT_VARIATION,t,e,this))}),this.oniconpropchange.push((t,e)=>{this.dispatchEvent(new CustomEvent(W.EVENT_ICON_PROP_CHANGED,{detail:{type:t,newValue:e}}))}),this.onloadingstatechange.push(t=>{this.dispatchEvent(new CustomEvent(W.EVENT_LOADING_STATE_CHANGED,{detail:{state:t}}))})}_p_fromTemplate(){return z}_p_buildDOM(t){this.#S=t.querySelector(`.${W.CLASS_WRAPPER}`),this.#y=t.querySelector(`.${W.CLASS_ICON}`),this.data(W.ATTR_ICON_MARGIN)&&this.style.setProperty(W.CSS_PROPERTY_ICON_MARGIN,this.data(W.ATTR_ICON_MARGIN)),this.#R()}_p_update(t,e,r){this.#S&&this.#R()}_p_getStylesheets(){return[H]}#f(){this.#w??=new k(()=>{this.#R()}),this.#w.schedule()}#R(){const t=this.#C(),e=this.#I();this.#v.states.clear(),this.#v.states.add(this.variation),this.#O()&&this.#v.states.add(W.STATE_ROUNDED),t&&this.#v.states.add(W.STATE_LOADING),(e||t)&&this.#v.states.add(W.STATE_DISABLED);const r=t?"progress_activity":this.icon;r?(this.#v.states.add(W.STATE_ICON),this.#v.states.add(`icon-pos-${this.iconPos}`),this.hideTextOnLayoutSize&&this.#v.states.add(`hide-text-on-${this.hideTextOnLayoutSize}`),this.#y.icon!==r&&(this.#y.icon=r),this.#y.hidden=!1):(this.#v.states.add(W.STATE_WITHOUT_ICON),this.#y.hidden=!0),this.#v.ariaDisabled=String(e||t),this.tabIndex=e||t?-1:0}#O(){return this.#L(W.ATTR_ROUNDED)}#C(){return this.#L(W.ATTR_LOADING)}#I(){return this.#L(W.ATTR_DISABLED)}#L(t){return this.hasAttribute(t)&&!["false",!1].includes(this.getAttribute(t))}setLoading(){return this.attr(W.ATTR_LOADING,!0)}stopLoading(){return this.removeAttribute(W.ATTR_LOADING),this}toggleLoading(){return this.#C()?this.stopLoading():this.setLoading(),this}static _p_observedAttributes(){return[W.ATTR_ROUNDED,W.ATTR_LOADING,W.ATTR_DISABLED]}static ToButton(t){return t.onkeydown||(t.onkeydown=t=>{(" "===t.key||"Enter"===t.key)&&t.target instanceof HTMLElement&&t.target.click()},t.setAttribute("data-set-event","onkeydown")),t.hasAttribute("role")&&"button"===t.getAttribute("role")||t.setAttribute("role","button"),t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),t}static _p_Create(t,{text:e="",icon:r=null,iconPos:n=V.RIGHT,iconMargin:a=null,variation:i=null,rounded:s=!1,loading:o=!1,hideOn:d=null}={}){const u=document.createElement(t.TAG);return u.textContent=e,s&&u.setAttribute(W.ATTR_ROUNDED,"true"),0===a&&(a="0px"),r&&u.setAttribute(`data-${W.ATTR_ICON}`,r),n&&u.setAttribute(`data-${W.ATTR_ICON_POS}`,n),a&&u.setAttribute(`data-${W.ATTR_ICON_MARGIN}`,a),i&&u.setAttribute(`data-${W.ATTR_VARIATION}`,i),o&&u.setAttribute(W.ATTR_LOADING,"true"),d&&u.setAttribute(`data-${W.ATTR_HIDE}`,d),u}static Create(t={}){return this._p_Create(this,t)}static CreateOnlyIcon(t,{variation:e=Y.PRIMARY,rounded:r=!1,loading:n=!1}={}){return this.Create({icon:t,variation:e,rounded:r,loading:n,iconMargin:"0px"})}static get TAG(){return $}}const z=u.CreateTemplate(`\n  <div class="${W.CLASS_WRAPPER}">\n    <span class="${W.CLASS_SLOT}">\n      <slot></slot>\n    </span>\n    <${P.TAG} hidden="true" class="${W.CLASS_ICON}"></${P.TAG}>\n  </div>\n  `);W.TryDefine();class J extends W{constructor(){super();this.data(W.ATTR_VARIATION,Y.PRIMARY,!1)}static get TAG(){return v}}J.TryDefine();class X extends W{constructor(){super();this.data(W.ATTR_VARIATION,Y.SECONDARY,!1)}static get TAG(){return S}}X.TryDefine();class Q extends W{constructor(){super();this.data(W.ATTR_VARIATION,Y.DANGER,!1)}static get TAG(){return y}}Q.TryDefine();const K=u.ConstructCSSStyleSheet(":host{border-bottom:thin dotted;cursor:help}");class Z extends u{constructor(){super()}_p_preload(){super._p_preload(),setTimeout(()=>{this.hasChildNodes()&&(this.setAttribute("title",this.textContent??t),this.textContent=t)},0)}_p_buildDOM(t){super._p_buildDOM(t),t.appendChild(P.Create("help"))}_p_getStylesheets(){return[K]}static Create(t){const e=document.createElement(Z.TAG);return e.setAttribute("title",t),e}static get TAG(){return w}}Z.TryDefine();const tt=u.ConstructCSSStyleSheet(":host{--_image-url:var(--_image-light);display:inline-block}img{content:var(--_image-url);height:100%;width:100%}");class et extends u{static ATTRIBUTE_SRC="src";static ATTRIBUTE_ALT="alt";static STRING_SRC_LIGHT="-light";static STRING_SRC_DARK="-dark";static EVENT_LOAD="load";static EVENT_ERROR="error";static CSS_VARIABLE_IMAGE_LIGHT="--_image-light";static CSS_VARIABLE_IMAGE_DARK="--_image-dark";#N=null;get src(){return this.getAttribute(et.ATTRIBUTE_SRC)}get darkUrl(){if(this.hasAttribute(et.ATTRIBUTE_SRC)){const t=this.getAttribute(et.ATTRIBUTE_SRC);return t.match(F)?.length?t.replace(F,`${et.STRING_SRC_DARK}.$2`):t.split(".").slice(0,-1).join(".")+`${et.STRING_SRC_DARK}.`+t.split(".").slice(-1)}return null}get picture(){return this.shadowRoot.querySelector("img")}constructor(){super()}_p_getStylesheets(){return[tt]}_p_buildDOM(t){this.#N=document.createElement("img"),this.#M(this.src,this.getAttribute(et.ATTRIBUTE_ALT)),t.appendChild(this.#N),this.setAttribute("role","img")}_p_update(t,e,r){t!==et.ATTRIBUTE_SRC&&t!==et.ATTRIBUTE_ALT||this.#M(this.src,this.getAttribute(et.ATTRIBUTE_ALT))}_p_attach(){super._p_attach(),this.#N&&(this.#N.addEventListener(et.EVENT_LOAD,this.trigger.bind(this,et.EVENT_LOAD)),this.#N.addEventListener(et.EVENT_ERROR,this.trigger.bind(this,et.EVENT_ERROR)))}_p_isUpdateForAllAttributes(){return!0}#M(e,r){if(!this.#N)return;const n=this.darkUrl;this.style.setProperty(et.CSS_VARIABLE_IMAGE_LIGHT,`url(${e??t})`),this.style.setProperty(et.CSS_VARIABLE_IMAGE_DARK,`url(${n??t})`),this.#N.alt=r??t,r&&this.setAttribute("aria-label",r??t)}static _p_observedAttributes(){const t=super._p_observedAttributes();return t.push(et.ATTRIBUTE_SRC,et.ATTRIBUTE_ALT),t}static Create(t){const e=document.createElement(this.TAG);return e.setAttribute(et.ATTRIBUTE_SRC,t),e}static get TAG(){return R}}et.TryDefine();const rt=u.ConstructCSSStyleSheet("@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}:host a{align-items:var(--bnum-card-title-align-items,center);display:var(--bnum-card-title-display,flex);gap:var(--bnum-card-title-gap,var(--bnum-space-s,10px))}:host(:state(url)) a{color:var(--a-color,var(--bnum-text-primary,#000));-webkit-text-decoration:var(--a-text-decoration,none);text-decoration:var(--a-text-decoration,none)}:host(:state(url)) a:hover{color:var(--a-hover-color,var(--bnum-text-primary,#000));-webkit-text-decoration:var(--a-hover-text-decoration,underline);text-decoration:var(--a-hover-text-decoration,underline)}");class nt extends u{static ATTRIBUTE_URL="url";static ATTRIBUTE_DATA_ICON="icon";static SLOT_NAME_ICON="icon";static CLASS_LINK="card-title-link";static STATE_URL="url";static STATE_WITHOUT_URL="without-url";static CLASS_ICON_TITLE="card-icon-title";static ID_SLOT_ICON="sloticon";static ID_SLOT_TEXT="mainslot";static ID_CUSTOM_BODY="custombody";#x=null;#k=null;#B=null;#U=null;#G=null;#v=this.attachInternals();#P=null;#F=null;#q=null;get icon(){return this.data(nt.ATTRIBUTE_DATA_ICON)}set icon(t){if(this.alreadyLoaded)this._p_setData(nt.ATTRIBUTE_DATA_ICON,t),this.#H();else{const e=!0;this.data(nt.ATTRIBUTE_DATA_ICON,t,e)}}get url(){return this.getAttribute(nt.ATTRIBUTE_URL)}set url(t){t?this.setAttribute(nt.ATTRIBUTE_URL,t):this.removeAttribute(nt.ATTRIBUTE_URL)}constructor(){super()}_p_getStylesheets(){return[rt]}_p_fromTemplate(){return at}_p_buildDOM(t){this.#k=t.querySelector(`#${nt.ID_SLOT_ICON}`),this.#B=t.querySelector(`#${nt.ID_SLOT_TEXT}`),this.#U=t.querySelector(`#${nt.ID_CUSTOM_BODY}`),this.#G=t.querySelector(`.${nt.CLASS_LINK}`),this.#x=t.querySelector(`.${nt.CLASS_ICON_TITLE}`),this.#R(),this.#q&&(this.#$(this.#q),this.#q=null)}_p_isUpdateForAllAttributes(){return!0}_p_update(t,e,r){this.alreadyLoaded&&this.#R()}#H(){this.#P??=new k(()=>{this.#R()}),this.#P.schedule()}#R(){const t=this.url,e=this.icon;this.#v.states.clear(),e?(this.#x.icon=e,this.#x.hidden=!1,this.#k.hidden=!0):this.#x.hidden=!0,t?(this.#G.href=t,this.#v.states.add(nt.STATE_URL),this.#G.removeAttribute("role"),this.#G.removeAttribute("aria-disabled")):(this.#G.removeAttribute("href"),this.#v.states.add(nt.STATE_WITHOUT_URL))}#$(t){this.#U.hidden=!1,this.#B.hidden=!0,"string"==typeof t?this.#U.textContent=t:this.#U.appendChild(t)}updateBody(t,{force:e=!1}={}){return this.#F??=new k(t=>{this.#$(t)}),this.alreadyLoaded?e?this.#F.call(t):this.#F.schedule(t):this.#q=t,this}static _p_observedAttributes(){return[nt.ATTRIBUTE_URL]}static Create(t,{icon:e=null,link:r=null}){let n=document.createElement(nt.TAG);return e&&(n.icon=e),r&&(n.url=r),n.updateBody(t,{force:!0})}static Generate(t,e,r){let n=[];return t&&n.push(`data-icon="${t}"`),r&&n.push(`url="${r}"`),`<${nt.TAG} ${n.join(" ")}>${e}</${nt.TAG}>`}static get TAG(){return C}}const at=u.CreateTemplate(`\n      <a class="${nt.CLASS_LINK}">\n        <span class="container">\n          <slot id="${nt.ID_SLOT_ICON}" name="${nt.SLOT_NAME_ICON}"></slot>\n          <${P.TAG} class="${nt.CLASS_ICON_TITLE}" hidden></${P.TAG}>\n        </span>\n        <span class="container">\n          <slot id="${nt.ID_SLOT_TEXT}"></slot>\n          <span id="${nt.ID_CUSTOM_BODY}" hidden></span>\n        </span>\n      </a>\n    `);nt.TryDefine();class it extends u{#Y=this.attachInternals();constructor(){super()}get _p_internal(){return this.#Y}get _p_states(){return this._p_internal.states}_p_clearStates(){return this._p_states.clear(),this}_p_addState(t){return this._p_states.add(t),this}_p_addStates(t){for(let e=0,r=t.length;e<r;++e)this._p_states.add(t[e]);return this}_p_removeState(t){return this._p_states.delete(t),this}_p_removeStates(t){for(let e=0,r=t.length;e<r;++e)this._p_states.delete(t[e]);return this}_p_hasState(t){return this._p_states.has(t)}}const st=it.ConstructCSSStyleSheet("@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}:host{background-color:var(--bnum-card-background-color,var(--bnum-color-surface,#f6f6f6));border-bottom:var(--bnum-border-on-surface-bottom,solid 4px #000091);border-left:var(--bnum-border-on-surface-left,none);border-right:var(--bnum-border-on-surface-right,none);border-top:var(--bnum-border-on-surface-top,none);display:var(--bnum-card-display,block);height:var(--bnum-card-height,auto);padding:var(--bnum-card-padding,var(--bnum-space-m,15px));position:relative;width:var(--bnum-card-width,auto)}:host .card-loading{display:none}:host(:state(clickable)){cursor:var(--bnum-card-clickable-cursor,pointer)}:host(:hover:state(clickable)){background-color:var(--bnum-card-background-color-hover,var(--bnum-color-surface-hover,#dfdfdf))}:host(:active:state(clickable)){background-color:var(--bnum-card-background-color-active,var(--bnum-color-surface-active,#cfcfcf))}:host(:state(loading)){--bnum-card-background-color-hover:var(--bnum-card-background-color,var(--bnum-color-surface,#f6f6f6));--bnum-card-background-color-active:var(--bnum-card-background-color,var(--bnum-color-surface,#f6f6f6));opacity:.8;pointer-events:none}:host(:state(loading)) .card-loading{align-items:center;display:flex;inset:0;justify-content:center;position:absolute;z-index:10}:host(:state(loading)) .card-loading .loader{animation:var(--bnum-card-loader-animation-rotate360,var(--bnum-animation-rotate360,rotate360 1s linear infinite))}:host(:state(loading)) .card-body slot{visibility:hidden}");class ot{#V;#j;constructor(t,e=null){this.#V=t,this.#j=e}get element(){return this.#V}get slot(){return this.#j}}class dt extends it{static STATE_CLICKABLE="clickable";static STATE_LOADING="loading";static CSS_CLASS_TITLE="card-title";static CSS_CLASS_BODY="card-body";static CSS_CLASS_LOADING="card-loading";static DATA_TITLE_ICON="title-icon";static DATA_TITLE_TEXT="title-text";static DATA_TITLE_LINK="title-link";static EVENT_LOADING="bnum-card:loading";static EVENT_CLICK="bnum-card:click";static SLOT_TITLE="title";static ICON_SPINNER="progress_activity";static SYMBOL_RESET=Symbol("reset");#W=null;#z=null;#J=null;#X=null;#Q=null;get _titleIcon(){return this.data(dt.DATA_TITLE_ICON)}get _titleText(){return this.data(dt.DATA_TITLE_TEXT)}get _titleLink(){return this.data(dt.DATA_TITLE_LINK)}get _titleData(){return{icon:this._titleIcon,text:this._titleText,link:this._titleLink,has:()=>null!==this._titleText&&void 0!==this._titleText}}get loading(){return this.hasAttribute(dt.STATE_LOADING)}set loading(t){t?this.setAttribute(dt.STATE_LOADING,dt.STATE_LOADING):this.removeAttribute(dt.STATE_LOADING)}get clickable(){return this.hasAttribute(dt.STATE_CLICKABLE)}set clickable(t){var e;t?(this.setAttribute(dt.STATE_CLICKABLE,dt.STATE_CLICKABLE),e=this,W.ToButton(e)):(this.removeAttribute(dt.STATE_CLICKABLE),function(t){"onkeydown"===t.getAttribute("data-set-event")&&(t.removeAttribute("data-set-event"),t.onkeydown=null),t.removeAttribute("role"),t.removeAttribute("tabindex")}(this))}static _p_observedAttributes(){return[dt.STATE_CLICKABLE,dt.STATE_LOADING]}constructor(){super(),this.addEventListener("click",this.#K.bind(this))}_p_fromTemplate(){return ut}_p_buildDOM(e){this.#z=e.querySelector("#mainslot");const r=this._titleData;r.has()&&nt.Create(r.text||t,{icon:r.icon||null,link:r.link||null}).appendTo(e.querySelector(`slot[name="${dt.SLOT_TITLE}"]`)),this.#R()}_p_update(t,e,r){t===dt.STATE_LOADING&&this.trigger(dt.EVENT_LOADING,{oldValue:e,newValue:r,caller:this}),this.#R()}_p_getStylesheets(){return[st]}#R(){this._p_clearStates(),this.clickable&&this._p_addState(dt.STATE_CLICKABLE),this.loading&&(this._p_addState(dt.STATE_LOADING),this.#W||this.#z?.appendChild(this.#Z()))}#Z(){if(!this.#W){const t=document.createElement("div");t.classList.add(dt.CSS_CLASS_LOADING);const e=P.Create(dt.ICON_SPINNER).addClass("loader");t.appendChild(e),this.#W=t}return this.#W}#K(t){this.clickable&&this.trigger(dt.EVENT_CLICK,{originalEvent:t})}#tt(t){this.#X??=new k(t=>this.#et(t)),this.#X.schedule(t)}#et(t){t===dt.SYMBOL_RESET?this.#rt():this.#nt(t)}#nt(t){t.setAttribute("slot",dt.SLOT_TITLE);this.querySelectorAll(`[slot="${dt.SLOT_TITLE}"]`).forEach(t=>t.remove()),this.appendChild(t)}#rt(){this.querySelectorAll(`[slot="${dt.SLOT_TITLE}"]`).forEach(t=>t.remove())}#at(t){this.#J??=new k(t=>this.#it(t)),this.#J.schedule(t)}#it(t){t===dt.SYMBOL_RESET?this.#st():this.#$(t)}#$(e){e.removeAttribute("slot");Array.from(this.childNodes).filter(e=>e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("slot")!==dt.SLOT_TITLE||e.nodeType===Node.TEXT_NODE&&e.textContent?.trim()!==t).forEach(t=>t.remove()),this.appendChild(e)}#st(){Array.from(this.childNodes).filter(e=>e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("slot")!==dt.SLOT_TITLE||e.nodeType===Node.TEXT_NODE&&e.textContent?.trim()!==t).forEach(t=>t.remove())}#ot(t){this.#Q??=new k(t=>this.#dt(t)),this.#Q.schedule(t)}#dt(t){t.slot?t.element.setAttribute("slot",t.slot):t.element.removeAttribute("slot"),this.appendChild(t.element)}updateTitle(t){return this.#tt(t),this}updateBody(t){return this.#at(t),this}clearTitle(){return this.#tt(dt.SYMBOL_RESET),this}clearBody(){return this.#at(dt.SYMBOL_RESET),this}appendToTitle(t){return this.#ot(new ot(t,dt.SLOT_TITLE)),this}appendToBody(t){return this.#ot(new ot(t)),this}static Create({title:t=null,body:e=null,clickable:r=!1,loading:n=!1}={}){const a=document.createElement(dt.TAG);return t&&a.updateTitle(t),e&&a.updateBody(e),r&&a.setAttribute(dt.STATE_CLICKABLE,dt.STATE_CLICKABLE),n&&a.setAttribute(dt.STATE_LOADING,dt.STATE_LOADING),a}static get TAG(){return I}}const ut=it.CreateTemplate(`\n      <div class="${dt.CSS_CLASS_TITLE}">\n        <slot name="${dt.SLOT_TITLE}"></slot>\n      </div>\n      <div class="${dt.CSS_CLASS_BODY}">\n        <slot id="mainslot"></slot>\n      </div>\n    `);dt.TryDefine();const lt=it.ConstructCSSStyleSheet(":host{background-color:var(--bnum-card-item-background-color,var(--bnum-color-surface,#f6f6f7));cursor:var(--bnum-card-item-cursor,pointer);display:var(--bnum-card-item-display,block);padding:var(--bnum-card-item-padding,15px);user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:calc(var(--bnum-card-item-width-percent, 100%) - var(--bnum-card-item-width-modifier, 30px))}:host(:hover){background-color:var(--bnum-card-item-background-color-hover,var(--bnum-color-surface-hover,#eaeaea))}:host(:active){background-color:var(--bnum-card-item-background-color-active,var(--bnum-color-surface-active,#dfdfdf))}:host(:disabled),:host(:state(disabled)),:host([disabled]){cursor:not-allowed;opacity:.6;pointer-events:none}");class ct extends it{static ATTRIBUTE_DISABLED="disabled";static STATE_DISABLED="disabled";static ROLE="listitem";static CLICK="click";#ut=null;_p_slot=null;static _p_observedAttributes(){return[ct.ATTRIBUTE_DISABLED]}get onitemclicked(){return this.#ut??=new g,this.#ut}constructor(){super(),this.addEventListener(ct.CLICK,t=>{this.onitemclicked.haveEvents()&&this.onitemclicked.call(t)})}_p_fromTemplate(){return ht}_p_buildDOM(t){this._p_slot=t instanceof ShadowRoot?t.getElementById("defaultslot"):t.querySelector("#defaultslot")}_p_attach(){super._p_attach(),W.ToButton(this).attr("role",ct.ROLE)._p_update(ct.ATTRIBUTE_DISABLED,null,this.attr(ct.ATTRIBUTE_DISABLED))}_p_update(t,e,r){this._p_render()}_p_render(){this._p_clearStates(),this.hasAttribute("disabled")?(this.setAttribute("aria-disabled","true"),this._p_addState(ct.STATE_DISABLED)):this.removeAttribute("aria-disabled")}_p_isUpdateForAllAttributes(){return!0}_p_getStylesheets(){return[lt]}static CreateChildTemplate(e,{defaultSlot:r=!0,slotName:n=""}={}){const a=document.createElement("template");return a.innerHTML=`${r?`<slot id="defaultslot" ${n?`name="${n}"`:""}></slot>`:t}${e}`,a}static get TAG(){return O}}const ht=ct.CreateChildTemplate(t);ct.TryDefine();const _t=6048e5,mt=Symbol.for("constructDateFrom");function Tt(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&mt in t?t[mt](e):t instanceof Date?new t.constructor(e):new Date(e)}function pt(t,e){return Tt(e||t,t)}function At(t,e,r){const n=pt(t,r?.in);return isNaN(e)?Tt(r?.in||t,NaN):e?(n.setDate(n.getDate()+e),n):n}function bt(t,e,r){const n=pt(t,r?.in);if(isNaN(e))return Tt(r?.in||t,NaN);if(!e)return n;const a=n.getDate(),i=Tt(r?.in||t,n.getTime());i.setMonth(n.getMonth()+e+1,0);return a>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let gt={};function Et(){return gt}function ft(t,e){const r=Et(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=pt(t,e?.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Dt(t,e){return ft(t,{...e,weekStartsOn:1})}function vt(t,e){const r=pt(t,e?.in),n=r.getFullYear(),a=Tt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Dt(a),s=Tt(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Dt(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function St(t){const e=pt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function yt(t,...e){const r=Tt.bind(null,t||e.find(t=>"object"==typeof t));return e.map(r)}function wt(t,e){const r=pt(t,e?.in);return r.setHours(0,0,0,0),r}function Rt(t,e,r){const[n,a]=yt(r?.in,t,e);return+wt(n)===+wt(a)}function Ct(t){return!(!((e=t)instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))&&"number"!=typeof t||isNaN(+pt(t)));var e}const It={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ot(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Lt={date:Ot({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ot({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ot({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Nt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Mt(t){return(e,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,a=r?.width?String(r.width):e;n=t.formattingValues[a]||t.formattingValues[e]}else{const e=t.defaultWidth,a=r?.width?String(r.width):t.defaultWidth;n=t.values[a]||t.values[e]}return n[t.argumentCallback?t.argumentCallback(e):e]}}function xt(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(o)?function(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r;return}(o,t=>t.test(s)):function(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r;return}(o,t=>t.test(s));let u;u=t.valueCallback?t.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;return{value:u,rest:e.slice(s.length)}}}function kt(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;return{value:s,rest:e.slice(a.length)}}}const Bt={code:"en-US",formatDistance:(t,e,r)=>{let n;const a=It[t];return n="string"==typeof a?a:1===e?a.one:a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Lt,formatRelative:(t,e,r,n)=>Nt[t],localize:{ordinalNumber:(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Mt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Mt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Mt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Mt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:kt({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)}),era:xt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:xt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ut(t,e){const r=pt(t,e?.in),n=function(t,e,r){const[n,a]=yt(r?.in,t,e),i=wt(n),s=wt(a),o=+i-St(i),d=+s-St(s);return Math.round((o-d)/864e5)}(r,function(t,e){const r=pt(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}(r));return n+1}function Gt(t,e){const r=pt(t,e?.in),n=+Dt(r)-+function(t,e){const r=vt(t,e),n=Tt(e?.in||t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dt(n)}(r);return Math.round(n/_t)+1}function Pt(t,e){const r=pt(t,e?.in),n=r.getFullYear(),a=Et(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=Tt(e?.in||t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=ft(s,e),d=Tt(e?.in||t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const u=ft(d,e);return+r>=+o?n+1:+r>=+u?n:n-1}function Ft(t,e){const r=pt(t,e?.in),n=+ft(r,e)-+function(t,e){const r=Et(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Pt(t,e),i=Tt(e?.in||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ft(i,e)}(r,e);return Math.round(n/_t)+1}function qt(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const Ht={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return qt("yy"===e?n%100:n,e.length)},M(t,e){const r=t.getMonth();return"M"===e?String(r+1):qt(r+1,2)},d:(t,e)=>qt(t.getDate(),e.length),a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(t,e)=>qt(t.getHours()%12||12,e.length),H:(t,e)=>qt(t.getHours(),e.length),m:(t,e)=>qt(t.getMinutes(),e.length),s:(t,e)=>qt(t.getSeconds(),e.length),S(t,e){const r=e.length,n=t.getMilliseconds();return qt(Math.trunc(n*Math.pow(10,r-3)),e.length)}},$t="midnight",Yt="noon",Vt="morning",jt="afternoon",Wt="evening",zt="night",Jt={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if("yo"===e){const e=t.getFullYear(),n=e>0?e:1-e;return r.ordinalNumber(n,{unit:"year"})}return Ht.y(t,e)},Y:function(t,e,r,n){const a=Pt(t,n),i=a>0?a:1-a;if("YY"===e){return qt(i%100,2)}return"Yo"===e?r.ordinalNumber(i,{unit:"year"}):qt(i,e.length)},R:function(t,e){return qt(vt(t),e.length)},u:function(t,e){return qt(t.getFullYear(),e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ht.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Ft(t,n);return"wo"===e?r.ordinalNumber(a,{unit:"week"}):qt(a,e.length)},I:function(t,e,r){const n=Gt(t);return"Io"===e?r.ordinalNumber(n,{unit:"week"}):qt(n,e.length)},d:function(t,e,r){return"do"===e?r.ordinalNumber(t.getDate(),{unit:"date"}):Ht.d(t,e)},D:function(t,e,r){const n=Ut(t);return"Do"===e?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return qt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=0===n?7:n;switch(e){case"i":return String(a);case"ii":return qt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(a=12===n?Yt:0===n?$t:n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(a=n>=17?Wt:n>=12?jt:n>=4?Vt:zt,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),r.ordinalNumber(e,{unit:"hour"})}return Ht.h(t,e)},H:function(t,e,r){return"Ho"===e?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ht.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return"Ko"===e?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},k:function(t,e,r){let n=t.getHours();return 0===n&&(n=24),"ko"===e?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},m:function(t,e,r){return"mo"===e?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ht.m(t,e)},s:function(t,e,r){return"so"===e?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ht.s(t,e)},S:function(t,e){return Ht.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(0===n)return"Z";switch(e){case"X":return Qt(n);case"XXXX":case"XX":return Kt(n);default:return Kt(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Qt(n);case"xxxx":case"xx":return Kt(n);default:return Kt(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xt(n,":");default:return"GMT"+Kt(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xt(n,":");default:return"GMT"+Kt(n,":")}},t:function(t,e,r){return qt(Math.trunc(+t/1e3),e.length)},T:function(t,e,r){return qt(+t,e.length)}};function Xt(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return 0===i?r+String(a):r+String(a)+e+qt(i,2)}function Qt(t,e){if(t%60==0){return(t>0?"-":"+")+qt(Math.abs(t)/60,2)}return Kt(t,e)}function Kt(t,e=""){const r=t>0?"-":"+",n=Math.abs(t);return r+qt(Math.trunc(n/60),2)+e+qt(n%60,2)}const Zt=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},te=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},ee={p:te,P:(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Zt(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",Zt(n,e)).replace("{{time}}",te(a,e))}},re=/^D+$/,ne=/^Y+$/,ae=["D","DD","YY","YYYY"];function ie(t){return re.test(t)}function se(t){return ne.test(t)}function oe(t,e,r){const n=function(t,e,r){const n="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,r);if(console.warn(n),ae.includes(t))throw new RangeError(n)}const de=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,le=/^'([^]*?)'?$/,ce=/''/g,he=/[a-zA-Z]/;function _e(t,e,r){const n=Et(),a=r?.locale??n.locale??Bt,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=pt(t,r?.in);if(!Ct(o))throw new RangeError("Invalid time value");let d=e.match(ue).map(t=>{const e=t[0];if("p"===e||"P"===e){return(0,ee[e])(t,a.formatLong)}return t}).join("").match(de).map(t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:me(t)};if(Jt[e])return{isToken:!0,value:t};if(e.match(he))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}});a.localize.preprocessor&&(d=a.localize.preprocessor(o,d));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return d.map(n=>{if(!n.isToken)return n.value;const i=n.value;(!r?.useAdditionalWeekYearTokens&&se(i)||!r?.useAdditionalDayOfYearTokens&&ie(i))&&oe(i,e,String(t));return(0,Jt[i[0]])(o,i,a.localize,u)}).join("")}function me(t){const e=t.match(le);return e?e[1].replace(ce,"'"):t}class Te{subPriority=0;validate(t,e){return!0}}class pe extends Te{constructor(t,e,r,n,a){super(),this.value=t,this.validateValue=e,this.setValue=r,this.priority=n,a&&(this.subPriority=a)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,r){return this.setValue(t,e,this.value,r)}}class Ae extends Te{priority=10;subPriority=-1;constructor(t,e){super(),this.context=t||(t=>Tt(e,t))}set(t,e){return e.timestampIsSet?t:Tt(t,function(t,e){const r=function(t){return"function"==typeof t&&t.prototype?.constructor===t}(e)?new e(0):Tt(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}(t,this.context))}}class be{run(t,e,r,n){const a=this.parse(t,e,r,n);return a?{setter:new pe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,e,r){return!0}}const ge=/^(1[0-2]|0?\d)/,Ee=/^(3[0-1]|[0-2]?\d)/,fe=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,De=/^(5[0-3]|[0-4]?\d)/,ve=/^(2[0-3]|[0-1]?\d)/,Se=/^(2[0-4]|[0-1]?\d)/,ye=/^(1[0-1]|0?\d)/,we=/^(1[0-2]|0?\d)/,Re=/^[0-5]?\d/,Ce=/^[0-5]?\d/,Ie=/^\d/,Oe=/^\d{1,2}/,Le=/^\d{1,3}/,Ne=/^\d{1,4}/,Me=/^-?\d+/,xe=/^-?\d/,ke=/^-?\d{1,2}/,Be=/^-?\d{1,3}/,Ue=/^-?\d{1,4}/,Ge=/^([+-])(\d{2})(\d{2})?|Z/,Pe=/^([+-])(\d{2})(\d{2})|Z/,Fe=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,qe=/^([+-])(\d{2}):(\d{2})|Z/,He=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function $e(t,e){return t?{value:e(t.value),rest:t.rest}:t}function Ye(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Ve(t,e){const r=e.match(t);if(!r)return null;if("Z"===r[0])return{value:0,rest:e.slice(1)};return{value:("+"===r[1]?1:-1)*(36e5*(r[2]?parseInt(r[2],10):0)+6e4*(r[3]?parseInt(r[3],10):0)+1e3*(r[5]?parseInt(r[5],10):0)),rest:e.slice(r[0].length)}}function je(t){return Ye(Me,t)}function We(t,e){switch(t){case 1:return Ye(Ie,e);case 2:return Ye(Oe,e);case 3:return Ye(Le,e);case 4:return Ye(Ne,e);default:return Ye(new RegExp("^\\d{1,"+t+"}"),e)}}function ze(t,e){switch(t){case 1:return Ye(xe,e);case 2:return Ye(ke,e);case 3:return Ye(Be,e);case 4:return Ye(Ue,e);default:return Ye(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Je(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Xe(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const e=n+50;a=t+100*Math.trunc(e/100)-(t>=e%100?100:0)}return r?a:1-a}function Qe(t){return t%400==0||t%4==0&&t%100!=0}const Ke=[31,28,31,30,31,30,31,31,30,31,30,31],Ze=[31,29,31,30,31,30,31,31,30,31,30,31];function tr(t,e,r){const n=Et(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=pt(t,r?.in),s=i.getDay(),o=7-a;return At(i,e<0||e>6?e-(s+o)%7:((e%7+7)%7+o)%7-(s+o)%7,r)}function er(t,e,r){const n=pt(t,r?.in),a=function(t,e){const r=pt(t,e?.in).getDay();return 0===r?7:r}(n,r);return At(n,e-a,r)}const rr={G:new class extends be{priority=140;parse(t,e,r){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,e,r){return e.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]},y:new class extends be{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,r){const n=t=>({year:t,isTwoDigitYear:"yy"===e});switch(e){case"y":return $e(We(4,t),n);case"yo":return $e(r.ordinalNumber(t,{unit:"year"}),n);default:return $e(We(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r){const n=t.getFullYear();if(r.isTwoDigitYear){const e=Xe(r.year,n);return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const a="era"in e&&1!==e.era?1-r.year:r.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}},Y:new class extends be{priority=130;parse(t,e,r){const n=t=>({year:t,isTwoDigitYear:"YY"===e});switch(e){case"Y":return $e(We(4,t),n);case"Yo":return $e(r.ordinalNumber(t,{unit:"year"}),n);default:return $e(We(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r,n){const a=Pt(t,n);if(r.isTwoDigitYear){const e=Xe(r.year,a);return t.setFullYear(e,0,n.firstWeekContainsDate),t.setHours(0,0,0,0),ft(t,n)}const i="era"in e&&1!==e.era?1-r.year:r.year;return t.setFullYear(i,0,n.firstWeekContainsDate),t.setHours(0,0,0,0),ft(t,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends be{priority=130;parse(t,e){return ze("R"===e?4:e.length,t)}set(t,e,r){const n=Tt(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dt(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends be{priority=130;parse(t,e){return ze("u"===e?4:e.length,t)}set(t,e,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends be{priority=120;parse(t,e,r){switch(e){case"Q":case"QQ":return We(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth(3*(r-1),1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends be{priority=120;parse(t,e,r){switch(e){case"q":case"qq":return We(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth(3*(r-1),1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends be{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,r){const n=t=>t-1;switch(e){case"M":return $e(Ye(ge,t),n);case"MM":return $e(We(2,t),n);case"Mo":return $e(r.ordinalNumber(t,{unit:"month"}),n);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}},L:new class extends be{priority=110;parse(t,e,r){const n=t=>t-1;switch(e){case"L":return $e(Ye(ge,t),n);case"LL":return $e(We(2,t),n);case"Lo":return $e(r.ordinalNumber(t,{unit:"month"}),n);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends be{priority=100;parse(t,e,r){switch(e){case"w":return Ye(De,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return We(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r,n){return ft(function(t,e,r){const n=pt(t,r?.in),a=Ft(n,r)-e;return n.setDate(n.getDate()-7*a),pt(n,r?.in)}(t,r,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends be{priority=100;parse(t,e,r){switch(e){case"I":return Ye(De,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return We(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r){return Dt(function(t,e,r){const n=pt(t,r?.in),a=Gt(n,r)-e;return n.setDate(n.getDate()-7*a),n}(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends be{priority=90;subPriority=1;parse(t,e,r){switch(e){case"d":return Ye(Ee,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return We(e.length,t)}}validate(t,e){const r=Qe(t.getFullYear()),n=t.getMonth();return r?e>=1&&e<=Ze[n]:e>=1&&e<=Ke[n]}set(t,e,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends be{priority=90;subpriority=1;parse(t,e,r){switch(e){case"D":case"DD":return Ye(fe,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return We(e.length,t)}}validate(t,e){return Qe(t.getFullYear())?e>=1&&e<=366:e>=1&&e<=365}set(t,e,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends be{priority=90;parse(t,e,r){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,n){return(t=tr(t,r,n)).setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends be{priority=90;parse(t,e,r,n){const a=t=>{const e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return $e(We(e.length,t),a);case"eo":return $e(r.ordinalNumber(t,{unit:"day"}),a);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,n){return(t=tr(t,r,n)).setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends be{priority=90;parse(t,e,r,n){const a=t=>{const e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return $e(We(e.length,t),a);case"co":return $e(r.ordinalNumber(t,{unit:"day"}),a);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,n){return(t=tr(t,r,n)).setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends be{priority=90;parse(t,e,r){const n=t=>0===t?7:t;switch(e){case"i":case"ii":return We(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return $e(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n);case"iiiii":return $e(r.day(t,{width:"narrow",context:"formatting"}),n);case"iiiiii":return $e(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n);default:return $e(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n)}}validate(t,e){return e>=1&&e<=7}set(t,e,r){return(t=er(t,r)).setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends be{priority=80;parse(t,e,r){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Je(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends be{priority=80;parse(t,e,r){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Je(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends be{priority=80;parse(t,e,r){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Je(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]},h:new class extends be{priority=70;parse(t,e,r){switch(e){case"h":return Ye(we,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return We(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,r){const n=t.getHours()>=12;return n&&r<12?t.setHours(r+12,0,0,0):n||12!==r?t.setHours(r,0,0,0):t.setHours(0,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]},H:new class extends be{priority=70;parse(t,e,r){switch(e){case"H":return Ye(ve,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return We(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends be{priority=70;parse(t,e,r){switch(e){case"K":return Ye(ye,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return We(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]},k:new class extends be{priority=70;parse(t,e,r){switch(e){case"k":return Ye(Se,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return We(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,r){const n=r<=24?r%24:r;return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends be{priority=60;parse(t,e,r){switch(e){case"m":return Ye(Re,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return We(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]},s:new class extends be{priority=50;parse(t,e,r){switch(e){case"s":return Ye(Ce,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return We(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]},S:new class extends be{priority=30;parse(t,e){return $e(We(e.length,t),t=>Math.trunc(t*Math.pow(10,3-e.length)))}set(t,e,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]},X:new class extends be{priority=10;parse(t,e){switch(e){case"X":return Ve(Ge,t);case"XX":return Ve(Pe,t);case"XXXX":return Ve(Fe,t);case"XXXXX":return Ve(He,t);default:return Ve(qe,t)}}set(t,e,r){return e.timestampIsSet?t:Tt(t,t.getTime()-St(t)-r)}incompatibleTokens=["t","T","x"]},x:new class extends be{priority=10;parse(t,e){switch(e){case"x":return Ve(Ge,t);case"xx":return Ve(Pe,t);case"xxxx":return Ve(Fe,t);case"xxxxx":return Ve(He,t);default:return Ve(qe,t)}}set(t,e,r){return e.timestampIsSet?t:Tt(t,t.getTime()-St(t)-r)}incompatibleTokens=["t","T","X"]},t:new class extends be{priority=40;parse(t){return je(t)}set(t,e,r){return[Tt(t,1e3*r),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends be{priority=20;parse(t){return je(t)}set(t,e,r){return[Tt(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}},nr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ar=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ir=/^'([^]*?)'?$/,sr=/''/g,or=/\S/,dr=/[a-zA-Z]/;function ur(t,e,r,n){const a=()=>Tt(n?.in||r,NaN),i=Object.assign({},Et()),s=n?.locale??i.locale??Bt,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return t?a():pt(r,n?.in);const u={firstWeekContainsDate:o,weekStartsOn:d,locale:s},l=[new Ae(n?.in,r)],c=e.match(ar).map(t=>{const e=t[0];if(e in ee){return(0,ee[e])(t,s.formatLong)}return t}).join("").match(nr),h=[];for(let r of c){!n?.useAdditionalWeekYearTokens&&se(r)&&oe(r,e,t),!n?.useAdditionalDayOfYearTokens&&ie(r)&&oe(r,e,t);const i=r[0],o=rr[i];if(o){const{incompatibleTokens:e}=o;if(Array.isArray(e)){const t=h.find(t=>e.includes(t.token)||t.token===i);if(t)throw new RangeError(`The format string mustn't contain \`${t.fullToken}\` and \`${r}\` at the same time`)}else if("*"===o.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${r}\` and any other token at the same time`);h.push({token:i,fullToken:r});const n=o.run(t,r,s.match,u);if(!n)return a();l.push(n.setter),t=n.rest}else{if(i.match(dr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===r?r="'":"'"===i&&(r=lr(r)),0!==t.indexOf(r))return a();t=t.slice(r.length)}}if(t.length>0&&or.test(t))return a();const _=l.map(t=>t.priority).sort((t,e)=>e-t).filter((t,e,r)=>r.indexOf(t)===e).map(t=>l.filter(e=>e.priority===t).sort((t,e)=>e.subPriority-t.subPriority)).map(t=>t[0]);let m=pt(r,n?.in);if(isNaN(+m))return a();const T={};for(const t of _){if(!t.validate(m,u))return a();const e=t.set(m,T,u);Array.isArray(e)?(m=e[0],Object.assign(T,e[1])):m=e}return m}function lr(t){return t.match(ir)[1].replace(sr,"'")}function cr(t,e){return Rt(Tt(e?.in||t,t),function(t){return Tt(t,Date.now())}(e?.in||t))}function hr(t,e,r){return At(t,-e,r)}const _r={lessThanXSeconds:{one:"moins dâ€™une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dâ€™une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dâ€™un an",other:"plus de {{count}} ans"},almostXYears:{one:"presquâ€™un an",other:"presque {{count}} ans"}},mr={date:Ot({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Ot({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ot({formats:{full:"{{date}} 'Ã ' {{time}}",long:"{{date}} 'Ã ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Tr={lastWeek:"eeee 'dernier Ã ' p",yesterday:"'hier Ã ' p",today:"'aujourdâ€™hui Ã ' p",tomorrow:"'demain Ã ' p'",nextWeek:"eeee 'prochain Ã ' p",other:"P"},pr=["MMM","MMMM"],Ar={code:"fr",formatDistance:(t,e,r)=>{let n;const a=_r[t];return n="string"==typeof a?a:1===e?a.one:a.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},formatLong:mr,formatRelative:(t,e,r,n)=>Tr[t],localize:{preprocessor:(t,e)=>{if(1===t.getDate())return e;return e.some(t=>t.isToken&&pr.includes(t.value))?e.map(t=>t.isToken&&"do"===t.value?{isToken:!0,value:"d"}:t):e},ordinalNumber:(t,e)=>{const r=Number(t),n=e?.unit;if(0===r)return"0";let a;return a=1===r?n&&["year","week","hour","minute","second"].includes(n)?"Ã¨re":"er":"Ã¨me",r+a},era:Mt({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant JÃ©sus-Christ","aprÃ¨s JÃ©sus-Christ"]},defaultWidth:"wide"}),quarter:Mt({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2Ã¨me trim.","3Ã¨me trim.","4Ã¨me trim."],wide:["1er trimestre","2Ã¨me trimestre","3Ã¨me trimestre","4Ã¨me trimestre"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fÃ©vr.","mars","avr.","mai","juin","juil.","aoÃ»t","sept.","oct.","nov.","dÃ©c."],wide:["janvier","fÃ©vrier","mars","avril","mai","juin","juillet","aoÃ»t","septembre","octobre","novembre","dÃ©cembre"]},defaultWidth:"wide"}),day:Mt({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Mt({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprÃ¨s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de lâ€™aprÃ¨s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:kt({matchPattern:/^(\d+)(iÃ¨me|Ã¨re|Ã¨me|er|e)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t)}),era:xt({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant JÃ©sus-Christ|aprÃ¨s JÃ©sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:xt({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|Ã¨me|e)? trim\.?/i,wide:/^[1234](er|Ã¨me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:xt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|fÃ©vr|mars|avr|mai|juin|juill|juil|aoÃ»t|sept|oct|nov|dÃ©c)\.?/i,wide:/^(janvier|fÃ©vrier|mars|avril|mai|juin|juillet|aoÃ»t|septembre|octobre|novembre|dÃ©cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xt({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xt({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprÃ¨s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};class br extends it{static ATTRIBUTE_FORMAT="format";static ATTRIBUTE_LOCALE="locale";static ATTRIBUTE_DATE="data-date";static ATTRIBUTE_START_FORMAT="data-start-format";static EVENT_ATTRIBUTE_UPDATED="bnum-date:attribute-updated";static EVENT_ATTRIBUTE_UPDATED_FORMAT="bnum-date:attribute-updated:format";static EVENT_ATTRIBUTE_UPDATED_LOCALE="bnum-date:attribute-updated:locale";static EVENT_DATE="bnum-date:date";static DEFAULT_FORMAT="P";static DEFAULT_LOCALE="fr";static STATE_INVALID="invalid";static STATE_NOT_READY="not-ready";static get TAG(){return x}static#lt={fr:Ar,en:Bt};static _p_observedAttributes(){return[br.ATTRIBUTE_FORMAT,br.ATTRIBUTE_LOCALE]}#ct=null;#ht=br.DEFAULT_FORMAT;#_t=br.DEFAULT_LOCALE;#mt=null;#Tt=null;#pt=!1;formatEvent=new b.JsCircularEvent;_p_isShadowElement(){return!0}_p_buildDOM(t){this.#Tt=document.createElement("span"),this.#Tt.setAttribute("part","date-text"),t.append(this.#Tt)}_p_preload(){this.addEventListener(br.EVENT_ATTRIBUTE_UPDATED,t=>{this.trigger(`${br.EVENT_ATTRIBUTE_UPDATED}:${t.detail.property}`,t.detail)}),this.#ht=this.getAttribute(br.ATTRIBUTE_FORMAT)||this.#ht,this.#_t=this.getAttribute(br.ATTRIBUTE_LOCALE)||this.#_t,this.#mt=this.getAttribute(br.ATTRIBUTE_START_FORMAT)||null;const t=this.getAttribute(br.ATTRIBUTE_DATE)||this.textContent?.trim()||null;t&&this.setDate(t,this.#mt,!1)}_p_attach(){this.#At()}_p_update(t,e,r){if(e===r)return;let n=!1;switch(t){case br.ATTRIBUTE_FORMAT:this.#ht=r||br.DEFAULT_FORMAT,n=!0;break;case br.ATTRIBUTE_LOCALE:this.#_t=r||br.DEFAULT_LOCALE,n=!0;break;case br.ATTRIBUTE_START_FORMAT:this.#mt=r;break;case br.ATTRIBUTE_DATE:this.setDate(r,this.#mt,!1),n=!0}n&&(this.#At(),this.trigger(br.EVENT_ATTRIBUTE_UPDATED,{property:t,newValue:r,oldValue:e}))}get date(){return this.#ct}set date(t){this.setDate(t,this.#mt,!0)}get format(){return this.#ht}set format(t){this.setAttribute(br.ATTRIBUTE_FORMAT,t)}get locale(){return this.#_t}set locale(t){this.setAttribute(br.ATTRIBUTE_LOCALE,t)}get localeElement(){return this.constructor.#lt[this.#_t]||Ar}setDate(t,e,r=!0){const n=this.#ct;let a=null;if(null===t)a=null;else if(t instanceof Date)a=t;else if("string"==typeof t)if("now"===t.trim())a=new Date;else{const r=e||this.#mt;a=r?ur(t,r,new Date):new Date(t)}a&&Ct(a)?this.#ct=a:this.#ct=null,n?.getTime()!==this.#ct?.getTime()&&(r&&this.#At(),this.trigger(br.EVENT_DATE,{property:"date",newValue:this.#ct,oldValue:n}))}getDate(){return this.#ct}addDays(t){this.#ct&&(this.date=At(this.#ct,t))}addMonths(t){this.#ct&&(this.date=bt(this.#ct,t))}addYears(t){var e;this.#ct&&(this.date=bt(this.#ct,12*t,e))}askRender(){this.#pt||(this.#pt=!0,requestAnimationFrame(()=>{this.#pt=!1,this.#At()}))}#At(){if(this._p_clearStates(),!this.#Tt)return void this._p_addState(br.STATE_NOT_READY);if(!this.#ct)return this.#Tt.textContent=t,void this._p_addState(br.STATE_INVALID);const e=this.localeElement;try{const t=_e(this.#ct,this.#ht,{locale:e});this.#Tt.textContent=this.formatEvent.call({date:this.#ct})?.date||t,this.setAttribute("aria-label",this.#Tt.textContent)}catch(t){console.error(`###[bnum-date] Erreur de formatage date-fns. Format: "${this.#ht}"`,t),this.#Tt.textContent="Date invalide",this._p_addState(br.STATE_INVALID)}this.setAttribute("aria-label",this.#Tt.textContent)}static Create(t,e){const r=document.createElement(this.TAG);return e?.format&&(r.format=e.format),e?.locale&&(r.locale=e.locale),e?.startFormat&&r.setAttribute(br.ATTRIBUTE_START_FORMAT,e.startFormat),"string"==typeof t?r.appendChild(document.createTextNode(t)):t&&(r.date=t),r}}br.TryDefine();const gr="default",Er=ct.ConstructCSSStyleSheet("@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}:host{align-items:center;display:flex;justify-content:space-between}:host .sender{font-family:var(--bnum-font-family-primary);font-size:var(--bnum-font-size-m);font-weight:var(--bnum-card-item-mail-font-weight-bold,var(--bnum-font-weight-bold,bold));margin-bottom:var(--bnum-card-item-mail-margin-bottom,var(--bnum-space-s,10px));max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .subject{font-family:var(--bnum-font-family-primary);font-size:var(--bnum-font-size-s);max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host(:state(read)) .sender{font-weight:var(--bnum-card-item-mail-sender-read-font-weight,initial)}:host(:state(read)) .subject{font-style:var(--bnum-card-item-mail-subject-read-font-style,italic)}");class fr extends ct{static DATA_SUBJECT="subject";static ATTRIBUTE_DATA_SUBJECT=`data-${fr.DATA_SUBJECT}`;static DATA_SENDER="sender";static ATTRIBUTE_DATA_SENDER=`data-${fr.DATA_SENDER}`;static DATA_DATE="date";static ATTRIBUTE_DATA_DATE=`data-${fr.DATA_DATE}`;static ATTRIBUTE_READ="read";static EVENT_SENDER_CHANGED="bnum-card-item-mail:sender-changed";static EVENT_SUBJECT_CHANGED="bnum-card-item-mail:subject-changed";static EVENT_DATE_CHANGED="bnum-card-item-mail:date-changed";static SLOT_SENDER_NAME="sender";static SLOT_SUBJECT_NAME="subject";static SLOT_DATE_NAME="date";static PART_SENDER_OVERRIDE="sender-override";static PART_SUBJECT_OVERRIDE="subject-override";static PART_DATE_OVERRIDE="date-override";static CLASS_SENDER="sender";static CLASS_SUBJECT="subject";static CLASS_DATE="date";static CLASS_MAIN_CONTENT="main-content";static ID_DATE_ELEMENT_OVERRIDE="date-element-override";static ID_SENDER_SLOT="senderslot";static ID_SUBJECT_SLOT="subjectslot";static ID_DATE_SLOT="dateslot";static STATE_READ="read";static TODAY_FORMAT="HH:mm";static OTHER_DAY_FORMAT="dd/MM/yyyy";static WEEK_FORMAT="E - HH:mm";static SYMBOL_RESET=Symbol("reset");#bt=null;#gt=null;#Et=null;#ft=null;#Dt=null;#vt=null;#St=null;#yt=null;#wt=null;onsubjectchanged=new g;onsenderchanged=new g;ondatechanged=new g;get#Rt(){return this.#vt??=(()=>{const t=this.#Ct(this.#Dt,fr.ID_DATE_ELEMENT_OVERRIDE);return this.#It(t),t})()}get#Ot(){return this.data(fr.DATA_SUBJECT)||t}get#Lt(){return this.data(fr.DATA_DATE)||t}get#Nt(){return this.data(fr.DATA_SENDER)||t}constructor(){super(),this.onsenderchanged.add(gr,t=>{this.trigger(fr.EVENT_SENDER_CHANGED,{caller:t})}),this.onsubjectchanged.add(gr,t=>{this.trigger(fr.EVENT_SUBJECT_CHANGED,{caller:t})}),this.ondatechanged.add(gr,t=>{this.trigger(fr.EVENT_DATE_CHANGED,{caller:t})})}_p_buildDOM(t){super._p_buildDOM(t),this.#gt=this.#Ct(t,fr.ID_SENDER_SLOT),this.#Et=this.#Mt(t,fr.PART_SENDER_OVERRIDE),this._p_slot=this.#Ct(t,fr.ID_SUBJECT_SLOT),this.#ft=this.#Mt(t,fr.PART_SUBJECT_OVERRIDE),this.#bt=this.#Ct(t,fr.ID_DATE_SLOT),this.#Dt=this.#Mt(t,fr.PART_DATE_OVERRIDE)}_p_attach(){if(super._p_attach(),this.#Ot!==t&&this._p_slot.appendChild(this._p_createTextNode(this.#Ot)),this.#Nt!==t&&this.#gt.appendChild(this._p_createTextNode(this.#Nt)),this.#Lt!==t){const t=br.Create(this.#Lt);this.#It(t),this.#bt.appendChild(t)}}_p_getStylesheets(){return[...super._p_getStylesheets(),Er]}_p_update(t,e,r){super._p_update(t,e,r),this.hasAttribute(fr.ATTRIBUTE_READ)&&this._p_addState(fr.STATE_READ)}_p_fromTemplate(){return Dr}updateSender(t){return this.#xt(t)}resetSender(){return this.#xt(fr.SYMBOL_RESET)}updateSubject(t){return this.#kt(t)}resetSubject(){return this.#kt(fr.SYMBOL_RESET)}updateDate(t){return this.#Bt(t)}resetDate(){return this.#Bt(fr.SYMBOL_RESET)}#Ut(t){this.#Et&&this.#gt&&(t===fr.SYMBOL_RESET?(this.#gt.hidden=!1,this.#Et.hidden=!0):("string"==typeof t?this.#Et.innerHTML=t:this.#Et.replaceChildren(t),this.#gt.hidden=!0,this.#Et.hidden=!1),this.onsenderchanged.call(this))}#xt(t){return(this.#wt??=new k(t=>this.#Ut(t))).schedule(t),this}#Gt(t){this.#ft&&this._p_slot&&(t===fr.SYMBOL_RESET?(this._p_slot.hidden=!1,this.#ft.hidden=!0):"string"==typeof t?this.#ft.innerHTML=t:this.#ft.replaceChildren(t),this._p_slot.hidden=!0,this.#ft.hidden=!1,this.onsubjectchanged.call(this))}#kt(t){return(this.#St??=new k(t=>this.#Gt(t))).schedule(t),this}#Pt(t){this.#Dt&&this.#bt&&(t===fr.SYMBOL_RESET?(this.#bt.hidden=!1,this.#Dt.hidden=!0):("string"==typeof t||t instanceof Date?this.#Rt.setDate(t):this.#Rt.setDate(t.getDate()),this.#bt.hidden=!0,this.#Dt.hidden=!1),this.ondatechanged.call(this))}#Bt(t){return(this.#yt??=new k(t=>this.#Pt(t))).schedule(t),this}#Ct(t,e){return t instanceof ShadowRoot?t.getElementById(e):t.querySelector(`#${e}`)}#Mt(t,e){return t instanceof ShadowRoot?t.querySelector(`.${e}`):t.getElementsByClassName(e)?.[0]}#It(t){fr.SetDateLogique(t)}static SetDateLogique(t){t.formatEvent.add(gr,e=>{const r=t.getDate();if(!r)return e;if(cr(r))return{date:_e(r,fr.TODAY_FORMAT)};const n=new Date;return function(t,e,r){const n=+pt(t,r?.in),[a,i]=[+pt(e.start,r?.in),+pt(e.end,r?.in)].sort((t,e)=>t-e);return n>=a&&n<=i}(r,{start:wt(hr(n,7)),end:function(t,e){const r=pt(t,e?.in);return r.setHours(23,59,59,999),r}(hr(n,1))})?{date:_e(r,fr.WEEK_FORMAT,{locale:t.localeElement})}:{date:_e(r,fr.OTHER_DAY_FORMAT,{locale:t.localeElement})}})}static _p_observedAttributes(){return[...super._p_observedAttributes(),fr.ATTRIBUTE_READ]}static Create(t,e,r){let n=document.createElement(fr.TAG);return n.attr(fr.ATTRIBUTE_DATA_SUBJECT,t),n.attr(fr.ATTRIBUTE_DATA_SENDER,e),"string"==typeof r?n.attr(fr.ATTRIBUTE_DATA_DATE,r):n.attr(fr.ATTRIBUTE_DATA_DATE,r.toISOString()),n}static get TAG(){return L}}const Dr=ct.CreateChildTemplate(`\n  <div class="${fr.CLASS_MAIN_CONTENT}">\n    <div class="${fr.CLASS_SENDER}">\n      <slot id="${fr.ID_SENDER_SLOT}" name="${fr.SLOT_SENDER_NAME}"></slot>\n      <span class="${fr.PART_SENDER_OVERRIDE}" part="${fr.PART_SENDER_OVERRIDE}" hidden></span>\n    </div>\n    <div class="${fr.CLASS_SUBJECT}">\n      <slot id="${fr.ID_SUBJECT_SLOT}" name="${fr.SLOT_SUBJECT_NAME}"></slot>\n      <span class="${fr.PART_SUBJECT_OVERRIDE}" part="${fr.PART_SUBJECT_OVERRIDE}" hidden></span>\n    </div>\n  </div>\n  <div class="${fr.CLASS_DATE}">\n    <slot id="${fr.ID_DATE_SLOT}" name="${fr.SLOT_DATE_NAME}"></slot>\n    <span class="${fr.PART_DATE_OVERRIDE}" part="${fr.PART_DATE_OVERRIDE}" hidden>\n      <${br.TAG} id="${fr.ID_DATE_ELEMENT_OVERRIDE}"></${br.TAG}>\n    </span>\n  </div>\n  `,{defaultSlot:!1});fr.TryDefine();const vr=ct.ConstructCSSStyleSheet('@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.bold{font-weight:var(--bnum-card-item-agenda-date-bold,var(--bnum-font-weight-bold,bold))}.bold-500{font-weight:var(--bnum-card-item-agenda-date-bold-medium,var(--bnum-font-weight-medium,500))}:host{display:flex;flex-direction:column;gap:var(--bnum-card-item-agenda-gap,var(--bnum-space-s,10px));position:relative}:host .bnum-card-item-agenda-horizontal{display:flex;flex-direction:row;gap:var(--bnum-card-item-agenda-gap,var(--bnum-space-s,10px));justify-content:space-between}:host .bnum-card-item-agenda-vertical{display:flex;flex:1;flex-direction:column;gap:var(--bnum-card-item-agenda-gap,var(--bnum-space-s,10px));min-width:0}:host .bnum-card-item-agenda-block{display:flex;flex:1;flex-direction:row;gap:var(--bnum-card-item-agenda-gap,var(--bnum-space-s,10px));min-width:0}:host .bnum-card-item-agenda-hour{border-bottom:var(--bnum-card-item-agenda-date-border-bottom,none);border-left:var(--bnum-card-item-agenda-date-border-left,none);border-right:var(--bnum-card-item-agenda-date-border-right,var(--bnum-border-surface,solid 4px #000091));border-top:var(--bnum-card-item-agenda-date-border-top,none);display:flex;flex-direction:column;flex-shrink:0;gap:var(--bnum-card-item-agenda-gap,var(--bnum-space-s,10px));padding:var(--bnum-card-item-agenda-padding-top-hour,0) var(--bnum-card-item-agenda-padding-right-hour,var(--bnum-space-s,10px)) var(--bnum-card-item-agenda-padding-bottom-hour,0) var(--bnum-card-item-agenda-padding-left-hour,0)}:host .bnum-card-item-agenda-location{font-size:var(--bnum-card-item-agenda-location-font-size,var(--bnum-font-size-xs,12px))}:host .bnum-card-item-agenda-location{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .bnum-card-item-agenda-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host [hidden]{display:none}:host(:state(private)) .bnum-card-item-agenda-private-icon{position:absolute;right:var(--bnum-card-item-agenda-private-icon-right,10px);top:var(--bnum-card-item-agenda-private-icon-top,10px)}:host(:state(all-day)) .bnum-card-item-agenda-hour .bnum-card-item-agenda-all-day{margin-bottom:auto;margin-top:auto}:host(:state(mode-telework)){font-style:var(--bnum-card-item-agenda-telework-font-style,italic)}:host(:state(mode-telework)):before{bottom:var(--bnum-card-item-agenda-telework-icon-bottom,10px);content:var(--bnum-card-item-agenda-telework-icon-content,"\\e88a");font-family:var(--bnum-card-item-agenda-telework-icon-font-family,var(--bnum-icon-font-family,"Material Symbols Outlined"));font-size:var(--bnum-card-item-agenda-telework-icon-font-size,var(--bnum-font-size-xxl,24px));font-style:normal;position:absolute;right:var(--bnum-card-item-agenda-telework-icon-right,10px)}:host(:state(mode-telework):state(action)) .bnum-card-item-agenda-action{margin-right:var(--bnum-card-item-agenda-telework-action-margin-right,20px)}');class Sr extends ct{static ATTRIBUTE_ALL_DAY="all-day";static ATTRIBUTE_PRIVATE="private";static ATTRIBUTE_MODE="mode";static ATTRIBUTE_DATA_TITLE="data-title";static ATTRIBUTE_DATA_LOCATION="data-location";static DATA_DATE="date";static DATA_DATE_FORMAT="date-format";static DATA_START_DATE="start-date";static DATA_START_DATE_FORMAT="start-date-format";static DATA_END_DATE="end-date";static DATA_END_DATE_FORMAT="end-date-format";static DATA_TITLE="title";static DATA_LOCATION="location";static FORMAT_DATE_DEFAULT="yyyy-MM-dd";static FORMAT_DATE_TIME_DEFAULT="yyyy-MM-dd HH:mm:ss";static FORMAT_HOUR_DEFAULT="HH:mm";static FORMAT_HOUR_DIFF_DAY="dd/MM";static FORMAT_TODAY=o.Get("local_keys").today;static FORMAT_TOMORROW=o.Get("local_keys").tomorrow;static FORMAT_EVENT_DATE="EEEE dd MMMM";static CLASS_BNUM_CARD_ITEM_AGENDA_DAY="bnum-card-item-agenda-day";static CLASS_BNUM_CARD_ITEM_AGENDA_HOUR="bnum-card-item-agenda-hour";static CLASS_BNUM_CARD_ITEM_AGENDA_TITLE="bnum-card-item-agenda-title";static CLASS_BNUM_CARD_ITEM_AGENDA_LOCATION="bnum-card-item-agenda-location";static CLASS_BNUM_CARD_ITEM_AGENDA_ACTION="bnum-card-item-agenda-action";static CLASS_BNUM_CARD_ITEM_AGENDA_TITLE_OVERRIDE="bnum-card-item-agenda-title-override";static CLASS_BNUM_CARD_ITEM_AGENDA_LOCATION_OVERRIDE="bnum-card-item-agenda-location-override";static CLASS_BNUM_CARD_ITEM_AGENDA_ACTION_OVERRIDE="bnum-card-item-agenda-action-override";static CLASS_BNUM_CARD_ITEM_AGENDA_HORIZONTAL="bnum-card-item-agenda-horizontal";static CLASS_BNUM_CARD_ITEM_AGENDA_VERTICAL="bnum-card-item-agenda-vertical";static CLASS_BNUM_CARD_ITEM_AGENDA_ALL_DAY="bnum-card-item-agenda-all-day";static CLASS_BNUM_CARD_ITEM_AGENDA_PRIVATE_ICON="bnum-card-item-agenda-private-icon";static SLOT_NAME_TITLE="title";static SLOT_NAME_LOCATION="location";static SLOT_NAME_ACTION="action";static STATE_NO_LOCATION="no-location";static STATE_ALL_DAY="all-day";static STATE_PRIVATE="private";static STATE_MODE_PREFIX="mode-";static STATE_ACTION_DEFINED="action";static TEXT_ALL_DAY=o.Get("local_keys").day;static ATTRIBUTE_PENDING="agenda_all";static MODE_DEFAULT="default";static ICON_PRIVATE="lock";static SYMBOL_RESET=Symbol("reset");#Ft=null;#qt=null;#Ht=null;#$t=null;#Yt=null;#Vt=null;#jt=null;#Wt=null;#zt=null;#Jt=null;#Xt=null;#Qt=null;#Kt=null;#Zt=null;#te=null;#ee=null;#re=null;#ne=null;#ae=null;#ie=null;get onstartdefineaction(){return this.#ie??=new b.JsCircularEvent,this.#ie}get isAllDay(){return this.hasAttribute(Sr.ATTRIBUTE_ALL_DAY)}get baseDate(){return this.#Ht??ur(this.#se,this.#oe,new Date)}set baseDate(t){const e=this.#Ht;this.#Ht=t,this.#te?.askRender?.(),this.#ee?.askRender?.(),this._p_addPendingAttribute(Sr.ATTRIBUTE_PENDING,null===e?null:_e(e,this.#oe),_e(t,this.#oe))._p_requestAttributeUpdate()}get startDate(){return this.#Ft??ur(this.#de,this.#ue,new Date)}set startDate(t){const e=this.#Ft;this.#Ft=t,this.#ee?.askRender?.(),this._p_addPendingAttribute(Sr.ATTRIBUTE_PENDING,null===e?null:_e(e,this.#ue),_e(t,this.#ue))._p_requestAttributeUpdate()}get endDate(){return this.#qt??ur(this.#le,this.#ce,new Date)}set endDate(t){const e=this.#qt;this.#qt=t,this.#te?.askRender?.(),this._p_addPendingAttribute(Sr.ATTRIBUTE_PENDING,null===e?null:_e(e,this.#ce),_e(t,this.#ce))._p_requestAttributeUpdate()}get private(){return this.#$t??this.#he}set private(t){const e=this.#$t;this.#$t=t,this._p_addPendingAttribute(Sr.ATTRIBUTE_PENDING,JSON.stringify(e),JSON.stringify(t))._p_requestAttributeUpdate()}get#he(){return this.hasAttribute(Sr.ATTRIBUTE_PRIVATE)}get#_e(){return this.getAttribute(Sr.ATTRIBUTE_MODE)||Sr.MODE_DEFAULT}get#se(){return this.data(Sr.DATA_DATE)||t}get#oe(){return this.data(Sr.DATA_DATE_FORMAT)||Sr.FORMAT_DATE_DEFAULT}get#de(){return this.data(Sr.DATA_START_DATE)||t}get#ue(){return this.data(Sr.DATA_START_DATE_FORMAT)||Sr.FORMAT_DATE_TIME_DEFAULT}get#le(){return this.data(Sr.DATA_END_DATE)||t}get#ce(){return this.data(Sr.DATA_END_DATE_FORMAT)||Sr.FORMAT_DATE_TIME_DEFAULT}get#me(){return this.data(Sr.DATA_TITLE)}get#Te(){return this.data(Sr.DATA_LOCATION)}constructor(){super()}_p_getStylesheets(){return[...super._p_getStylesheets(),vr]}_p_preload(){super._p_preload(),this.#Ft=this.startDate,this.#qt=this.endDate}_p_buildDOM(t){super._p_buildDOM(t),this.#Yt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_DAY}`),this.#Vt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_HOUR}`);const e=t.querySelectorAll("slot");this.#Wt=e[0],this.#jt=e[1],this.#zt=e[2],this.#Qt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_TITLE_OVERRIDE}`),this.#Xt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_LOCATION_OVERRIDE}`),this.#Jt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_ACTION_OVERRIDE}`);const r=this.#pe(new Date);this.#Yt.appendChild(r),this.#te=this.setHourLogic(br.Create(new Date)),this.#ee=this.setHourLogic(br.Create(new Date)),this.#Zt=this._p_createSpan({classes:[Sr.CLASS_BNUM_CARD_ITEM_AGENDA_ALL_DAY],child:Sr.TEXT_ALL_DAY}),this.#Zt.hidden=!0,this.#Vt.append(this.#te,this.#ee,this.#Zt),this.#Kt=t.querySelector(`.${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_PRIVATE_ICON}`)}_p_attach(){if(super._p_attach(),this._p_slot&&(this._p_slot.hidden=!0),this.#me){const t=document.createTextNode(this.#me);this.#Wt.appendChild(t)}if(this.#Te){const t=document.createTextNode(this.#Te);this.#jt.appendChild(t)}this.#Ae(),this.#be()}#be(){this.#de,this.#le,this.#ue,this.#ce,this.#se,this.#oe}_p_render(){super._p_render(),this.#Ae()}#Ae(){var e=!0;this._p_addState(`${Sr.STATE_MODE_PREFIX}${this.#_e}`),this.#ge()&&this._p_addState(Sr.STATE_NO_LOCATION);const r=this.onstartdefineaction.call({location:this.#ge()?this.#Te||t:this.#jt.textContent||t,action:void 0});if(r.action&&this.updateAction(r.action,{forceCall:!0}),(r.action||!1===this.#Jt.hidden||this.#zt&&this.#zt.children.length>0)&&this._p_addState(Sr.STATE_ACTION_DEFINED),this.#Yt&&this.#Yt.children.length>0){const t=this.shadowRoot.querySelector(br.TAG);null!=t&&(e=!1,t.date=this.baseDate)}if(e){const t=this.#pe(this.baseDate);this.#Yt.appendChild(t)}if(this.isAllDay)if(null!==this.#te&&(this.#te.hidden=!0),null!==this.#ee&&(this.#ee.hidden=!0),null===this.#Zt){this._p_addState(Sr.STATE_ALL_DAY);const t=this._p_createSpan({classes:[Sr.CLASS_BNUM_CARD_ITEM_AGENDA_ALL_DAY],child:Sr.TEXT_ALL_DAY});this.#Zt=t,this.#Vt.appendChild(t)}else this.#Zt.hidden=!1;else if(null!==this.#Zt&&(this.#Zt.hidden=!0),null==this.#te&&null==this.#ee){const t=this.setHourLogic(br.Create(this.startDate)),e=this.setHourLogic(br.Create(this.endDate));this.#te=t,this.#ee=e,this.#Vt.append(t,e)}else this.#te.hidden=!1,this.#ee.hidden=!1,this.#te.date=this.startDate,this.#ee.date=this.endDate;this.#he?(this._p_addState(Sr.STATE_PRIVATE),null===this.#Kt?(this.#Kt=P.Create(Sr.ICON_PRIVATE).addClass(Sr.CLASS_BNUM_CARD_ITEM_AGENDA_PRIVATE_ICON),this.shadowRoot.appendChild(this.#Kt)):this.#Kt.hidden=!1):this.#Kt&&(this.#Kt.hidden=!0)}_p_fromTemplate(){return wr}updateAction(t,{forceCall:e=!1}={}){return this.#Ee(t,{forceCall:e})}resetAction(){return this.#Ee(Sr.SYMBOL_RESET)}updateTitle(t){return this.#fe(t)}resetTitle(){return this.#fe(Sr.SYMBOL_RESET)}updateLocation(t){return this.#De(t)}resetLocation(){return this.#De(Sr.SYMBOL_RESET)}setDateLogic(t){return t.formatEvent.add(gr,r=>{const n=new Date,a=r.date;return Rt(a,n)?r.date=Sr.FORMAT_TODAY:Rt(a,At(n,1))?r.date=Sr.FORMAT_TOMORROW:r.date=_e(a,Sr.FORMAT_EVENT_DATE,{locale:t.localeElement}).split(" ").map(e).join(" "),r}),t}setHourLogic(t){return t.formatEvent.add(gr,e=>{const r=e.date;return Rt(r,this.baseDate)?e.date=_e(r,Sr.FORMAT_HOUR_DEFAULT,{locale:t.localeElement}):e.date=_e(r,Sr.FORMAT_HOUR_DIFF_DAY,{locale:t.localeElement}),e}),t}#Ee(t,{forceCall:e=!1}={}){return this.#ae??=new k(t=>this.#ve(t)),e?this.#ae.call(t):this.#ae.schedule(t),this}#ve(e){if(e===Sr.SYMBOL_RESET)return this._p_removeState(Sr.STATE_ACTION_DEFINED),void this.#Se(this.#Jt,this.#zt);this._p_addState(Sr.STATE_ACTION_DEFINED),this.#Jt.innerHTML=t,this.#Jt.appendChild(e),this.#zt.hidden=!0,this.#Jt.hidden=!1}#fe(t){return this.#re??=new k(t=>this.#nt(t)),this.#re.schedule(t),this}#nt(e){if(e!==Sr.SYMBOL_RESET){if(this.#Qt.innerHTML=t,"string"==typeof e){const t=document.createTextNode(e);this.#Qt.appendChild(t)}else this.#Qt.appendChild(e);this.#Wt.hidden=!0,this.#Qt.hidden=!1}else this.#Se(this.#Qt,this.#Wt)}#De(t){return this.#ne??=new k(t=>this.#ye(t)),this.#ne.schedule(t),this}#ye(e){if(e!==Sr.SYMBOL_RESET){if(this.#Xt.innerHTML=t,"string"==typeof e){const t=document.createTextNode(e);this.#Xt.appendChild(t)}else this.#Xt.appendChild(e);this.#jt.hidden=!0,this.#Xt.hidden=!1}else this.#Se(this.#Xt,this.#jt)}#Se(e,r){return e.innerHTML=t,r.hidden=!1,e.hidden=!0,this}#we(t){return 0===t.assignedNodes().length}#ge(){return!this.#jt||this.#we(this.#jt)}#pe(t){return this.setDateLogic(br.Create(t))}static Create(t,e,r,{allDay:n=!1,title:a=null,location:i=null,action:s=null,isPrivate:o=!1,mode:d=null}={}){let u=document.createElement(Sr.TAG);return u.baseDate=t,u.startDate=e,u.endDate=r,n&&u.setAttribute(Sr.ATTRIBUTE_ALL_DAY,Sr.ATTRIBUTE_ALL_DAY),a&&u.setAttribute(Sr.ATTRIBUTE_DATA_TITLE,a),i&&u.setAttribute(Sr.ATTRIBUTE_DATA_LOCATION,i),o&&u.setAttribute(Sr.ATTRIBUTE_PRIVATE,Sr.ATTRIBUTE_PRIVATE),d&&u.setAttribute(Sr.ATTRIBUTE_MODE,d),s&&("function"==typeof s?u.onstartdefineaction.push(s):u.onstartdefineaction.push(t=>(t.action=s.element,t.action.onclick=s.callback,t))),u}static _p_observedAttributes(){return[...super._p_observedAttributes(),Sr.ATTRIBUTE_ALL_DAY,Sr.ATTRIBUTE_PRIVATE,Sr.ATTRIBUTE_MODE]}static FromEvent(e,r,{startDateSelector:n=null,endDateSelector:a=null,allDaySelector:i=null,titleSelector:s=null,locationSelector:o=null,action:d=null}={}){const[u,l]=this.#Re({val:r.start,selector:n},{val:r.end,selector:a}),c=r?.allDay??i?.(r)??!1,h=r?.title??s?.(r)??t,_=r?.location??o?.(r)??t;return this.Create(e,u,l,{allDay:c,title:h,location:_,action:d})}static get TAG(){return N}static#Ce(t,e){return"string"==typeof t?new Date(t):t?.toDate?t.toDate():e?.(t)??new Date("Date invalide")}static#Re(...t){return t.map(t=>this.#Ce(t.val,t.selector))}}const yr=`\n  <span class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_DAY} bold"></span>\n  <div class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_HORIZONTAL}">\n     <div class="bnum-card-item-agenda-block">\n        <span class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_HOUR} bold"></span>\n        <div class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_VERTICAL}">\n            <span class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_TITLE} bold-500">\n                <slot name="${Sr.SLOT_NAME_TITLE}"></slot>\n                <div class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_TITLE_OVERRIDE}" hidden></div>\n            </span>\n            <span class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_LOCATION}">\n                <slot name="${Sr.SLOT_NAME_LOCATION}"></slot>\n                <div class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_LOCATION_OVERRIDE}" hidden></div>\n            </span>\n        </div>\n     </div>\n     <span class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_ACTION}">\n        <slot name="${Sr.SLOT_NAME_ACTION}"></slot>\n        <div class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_ACTION_OVERRIDE}" hidden></div>\n     </span>\n  </div>\n  <${P.TAG} class="${Sr.CLASS_BNUM_CARD_ITEM_AGENDA_PRIVATE_ICON}" hidden>${Sr.ICON_PRIVATE}</${P.TAG}>\n`,wr=ct.CreateChildTemplate(yr,{defaultSlot:!1});Sr.TryDefine();const Rr=u.ConstructCSSStyleSheet("@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}:host{padding:var(--bnum-space-s,10px)}:host ::slotted([role=listitem]){border-bottom:var(--bnum-border-in-surface,solid 1px #ddd)}:host ::slotted([role=listitem]:last-child){border-bottom:none}");class Cr extends u{static SYMBOL_RESET=Symbol("reset");#Ie=null;constructor(){super()}_p_getStylesheets(){return[Rr]}_p_buildDOM(t){t.appendChild(this._p_createSlot()),this.setAttribute("role","list")}add(...t){return this.#Oe(t)}clear(){return this.#Oe(Cr.SYMBOL_RESET)}#Oe(t){return(this.#Ie??=new B(t=>this.#Le(t),Cr.SYMBOL_RESET)).schedule(t),this}#Le(e){e===Cr.SYMBOL_RESET?this.innerHTML=t:this.append(...e)}static Create(t=null){const e=document.createElement(M);return t&&t.length>0&&e.add(...t.filter(t=>null!==t)),e}static get TAG(){return M}}Cr.TryDefine(),"undefined"!=typeof window&&window.DsBnumConfig&&o.Initialize(window.DsBnumConfig);export{u as BnumElement,o as Config,Y as EButtonType,j as EHideOn,V as EIconPosition,W as HTMLBnumButton,dt as HTMLBnumCardElement,ct as HTMLBnumCardItem,Sr as HTMLBnumCardItemAgenda,fr as HTMLBnumCardItemMail,Cr as HTMLBnumCardList,nt as HTMLBnumCardTitle,Q as HTMLBnumDangerButton,br as HTMLBnumDate,Z as HTMLBnumHelper,P as HTMLBnumIcon,et as HTMLBnumPicture,J as HTMLBnumPrimaryButton,X as HTMLBnumSecondaryButton};
